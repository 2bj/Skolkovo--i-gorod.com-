<?php
 abstract class umiEntinty {protected $id, $is_updated = false;protected $bNeedUpdateCache = false;public function __construct($vb80bb7740288fda1f201890375a60c8f, $vf1965a857bc285d26fe22023aa5ab50d = false) {$this->setId($vb80bb7740288fda1f201890375a60c8f);$this->is_updated = false;if($this->loadInfo($vf1965a857bc285d26fe22023aa5ab50d) === false) {throw new privateException("Failed to load info for {$this->store_type} with id {$vb80bb7740288fda1f201890375a60c8f}");}}public function __clone() {throw new coreException('umiEntinty must not be cloned');}public function __destruct() {if ($this->is_updated) {$this->save();$this->setIsUpdated(false);$this->updateCache();}elseif ($this->bNeedUpdateCache) {$this->updateCache();}}public function getId() {return $this->id;}protected function setId($vb80bb7740288fda1f201890375a60c8f) {$this->id = (int) $vb80bb7740288fda1f201890375a60c8f;}public function getIsUpdated() {return $this->is_updated;}public function setIsUpdated($v50e544b8aa9b48fae6d78fb7574d402f = true) {$this->is_updated      = (bool) $v50e544b8aa9b48fae6d78fb7574d402f;$this->bNeedUpdateCache = $this->is_updated;}public function beforeSerialize() {}public function afterSerialize() {}public function afterUnSerialize() {}abstract protected function loadInfo();abstract protected function save();public function commit() {if ($this->is_updated) {$this->disableCache();$v9b207167e5381c47682c6b4f58a623fb = $this->save();if (cacheFrontend::getInstance()->getIsConnected()) {$this->update();}else {$this->setIsUpdated(false);}return $v9b207167e5381c47682c6b4f58a623fb;}else {return false;}}public function update() {$v9b207167e5381c47682c6b4f58a623fb = $this->loadInfo();$this->setIsUpdated(false);$this->updateCache();return $v9b207167e5381c47682c6b4f58a623fb;}public static function filterInputString($vb45cffe084dd3d20d928bee85e7b0f21) {$vb45cffe084dd3d20d928bee85e7b0f21 = mysql_real_escape_string($vb45cffe084dd3d20d928bee85e7b0f21);return $vb45cffe084dd3d20d928bee85e7b0f21;}public function __toString() {return (string) $this->getId();}protected function updateCache() {cacheFrontend::getInstance()->save($this, $this->store_type);}protected function disableCache() {if(!defined('MYSQL_DISABLE_CACHE')) {if(get_class($this) === "umiObjectProperty") {return;}define('MYSQL_DISABLE_CACHE', '1');}}protected function translateLabel($vd304ba20e96d87411588eeabac850e34) {$v851f5ac9941d720844d143ed9cfcf60a = "i18n::";if(substr($vd304ba20e96d87411588eeabac850e34, 0, strlen($v851f5ac9941d720844d143ed9cfcf60a)) == $v851f5ac9941d720844d143ed9cfcf60a) {$v341be97d9aff90c9978347f66f945b77 = getLabel(substr($vd304ba20e96d87411588eeabac850e34, strlen($v851f5ac9941d720844d143ed9cfcf60a)));}else {$v341be97d9aff90c9978347f66f945b77 = getLabel($vd304ba20e96d87411588eeabac850e34);}return (is_null($v341be97d9aff90c9978347f66f945b77)) ? $vd304ba20e96d87411588eeabac850e34 : $v341be97d9aff90c9978347f66f945b77;}protected function translateI18n($v341be97d9aff90c9978347f66f945b77, $v240bf022e685b0ee30ad9fe9e1fb5d5b = "") {$vd304ba20e96d87411588eeabac850e34 = getI18n($v341be97d9aff90c9978347f66f945b77, $v240bf022e685b0ee30ad9fe9e1fb5d5b);return (is_null($vd304ba20e96d87411588eeabac850e34)) ? $v341be97d9aff90c9978347f66f945b77 : $vd304ba20e96d87411588eeabac850e34;}};?>
