<?php
 class xslAdminTemplater extends xslTemplater implements iXslTemplater {protected $data, $xslTemplatesFolder = "./styles/skins/full/";public $currentEditElementId = false;protected function __construct() {$vb75604f619867058aa706f3a1dc5bd34 = self::getCurrentSkinName();$this->xslTemplatesFolder = "./styles/skins/{$vb75604f619867058aa706f3a1dc5bd34}/";}public static function getInstance() {return singleton::getInstance(__CLASS__);}public function setDataSet($v8d777f385d3dfec8815d20f7496026dc) {$this->data = $v8d777f385d3dfec8815d20f7496026dc;}protected function initGlobalVariables() {$v8b1dc169bf460ee884fceef66c6607d6 = cmsController::getInstance();$permissions = permissionsCollection::getInstance();$ve4e46deb7f9cc58c7abfb32e5570b6f3 = domainsCollection::getInstance();$this->globalVariables['attribute:module'] = $v7abdda3251de25a51bf5fb15d7c3391d = $v8b1dc169bf460ee884fceef66c6607d6->getCurrentModule();$this->globalVariables['attribute:method'] = $vdb206b4902d295196025b8e70cbb0896 = $v8b1dc169bf460ee884fceef66c6607d6->getCurrentMethod();$this->globalVariables['attribute:lang'] = $v8b1dc169bf460ee884fceef66c6607d6->getCurrentLang()->getPrefix();$this->globalVariables['attribute:lang-id'] = $v8b1dc169bf460ee884fceef66c6607d6->getCurrentLang()->getId();$this->globalVariables['attribute:pre-lang'] = $v8b1dc169bf460ee884fceef66c6607d6->getPreLang();$this->globalVariables['attribute:domain'] = $v8b1dc169bf460ee884fceef66c6607d6->getCurrentDomain()->getHost();$this->globalVariables['attribute:domain-id'] = $v8b1dc169bf460ee884fceef66c6607d6->getCurrentDomain()->getId();if(!is_null($va6b64ba4d9e3e0b93a64bb6af8c320cc = getRequest('domain'))) {$this->globalVariables['attribute:domain-floated'] = $va6b64ba4d9e3e0b93a64bb6af8c320cc;}else {if($this->currentEditElementId) {$v8e2dcfd7e7e24b1ca76c1193f645902b = umiHierarchy::getInstance()->getElement($this->currentEditElementId);if($v8e2dcfd7e7e24b1ca76c1193f645902b instanceof umiHierarchyElement) {$v662cbf1253ac7d8750ed9190c52163e5 = $v8e2dcfd7e7e24b1ca76c1193f645902b->getDomainId();$vad5f82e879a9c5d6b5b442eb37e50551 = $ve4e46deb7f9cc58c7abfb32e5570b6f3->getDomain($v662cbf1253ac7d8750ed9190c52163e5);if($vad5f82e879a9c5d6b5b442eb37e50551 instanceof iDomain) {$this->globalVariables['attribute:domain-floated'] = $va6b64ba4d9e3e0b93a64bb6af8c320cc = $vad5f82e879a9c5d6b5b442eb37e50551->getHost();}}}else {$this->globalVariables['attribute:domain-floated'] = $this->globalVariables['attribute:domain'];}}$this->globalVariables['attribute:domain-floated-id'] = $ve4e46deb7f9cc58c7abfb32e5570b6f3->getDomainId($va6b64ba4d9e3e0b93a64bb6af8c320cc);$this->globalVariables['attribute:referer-uri'] = $v8b1dc169bf460ee884fceef66c6607d6->getCalculatedRefererUri();$this->globalVariables['attribute:user-id'] = $permissions->getUserId();$this->globalVariables['attribute:interface-lang'] = ulangStream::getLangPrefix();if($vb6ee27ee7fe19b0c0dd907d5f947aa12 = getServer('REQUEST_URI')) {$vafbad9dc43d3b9eb8533cd54a4df6a87 = parse_url($vb6ee27ee7fe19b0c0dd907d5f947aa12);$vb6ee27ee7fe19b0c0dd907d5f947aa12 = getArrayKey($vafbad9dc43d3b9eb8533cd54a4df6a87, 'path');$vf7cc8e4882789cf3335d9ed97f208c6f = getArrayKey($vafbad9dc43d3b9eb8533cd54a4df6a87, 'query');if($vf7cc8e4882789cf3335d9ed97f208c6f) {parse_str($vf7cc8e4882789cf3335d9ed97f208c6f, $v5ebb3c9d5620968cde8459888eff1702);if(isset($v5ebb3c9d5620968cde8459888eff1702['p'])) unset($v5ebb3c9d5620968cde8459888eff1702['p']);if(isset($v5ebb3c9d5620968cde8459888eff1702['xmlMode'])) unset($v5ebb3c9d5620968cde8459888eff1702['xmlMode']);$vf7cc8e4882789cf3335d9ed97f208c6f = http_build_query($v5ebb3c9d5620968cde8459888eff1702);if($vf7cc8e4882789cf3335d9ed97f208c6f) $vb6ee27ee7fe19b0c0dd907d5f947aa12 .= '?' . $vf7cc8e4882789cf3335d9ed97f208c6f;}$this->globalVariables['attribute:request-uri'] = $vb6ee27ee7fe19b0c0dd907d5f947aa12;}$this->globalVariables['attribute:edition'] = CURRENT_VERSION_LINE;$this->globalVariables['data'] = $this->data;}public static function getCurrentSkinName() {static $vc4e10f4477cadef194adfceb6031a35c;if($vc4e10f4477cadef194adfceb6031a35c) return $vc4e10f4477cadef194adfceb6031a35c;$v8b1dc169bf460ee884fceef66c6607d6 = cmsController::getInstance();$v2245023265ae4cf87d02c8b6ba991139 = mainConfiguration::getInstance();$v22884db148f0ffb0d830ba431102b0b5 = $v8b1dc169bf460ee884fceef66c6607d6->getCurrentModule();$vea9f6aca279138c58f705c8d4cb4b8ce = $v8b1dc169bf460ee884fceef66c6607d6->getCurrentMethod();$v9ae27e53b3777ca1a186c1b6e7480b88 = $v2245023265ae4cf87d02c8b6ba991139->getList('casual-skins');$vddaa6e8c8c412299272e183087b8f7b6 = $v22884db148f0ffb0d830ba431102b0b5 . '::' . $vea9f6aca279138c58f705c8d4cb4b8ce;foreach($v9ae27e53b3777ca1a186c1b6e7480b88 as $v98ea47e4311222ae5ccb6b11855b8968) {if(in_array($vddaa6e8c8c412299272e183087b8f7b6, $v2245023265ae4cf87d02c8b6ba991139->get('casual-skins', $v98ea47e4311222ae5ccb6b11855b8968))) {return $vc4e10f4477cadef194adfceb6031a35c = $v98ea47e4311222ae5ccb6b11855b8968;}}$vada1fd05db818d2ce8b75dcbcfbc5efd = $v2245023265ae4cf87d02c8b6ba991139->get('system', 'skins');if(isset($_GET['skin_sel']) || isset($_POST['skin_sel'])) {if(is_null($vb75604f619867058aa706f3a1dc5bd34 = getArrayKey($_GET, 'skin_sel'))) {$vb75604f619867058aa706f3a1dc5bd34 = getArrayKey($_POST, 'skin_sel');}setcookie('skin_sel', $vb75604f619867058aa706f3a1dc5bd34, time() + 3600*24*365, '/');if(in_array($vc4e10f4477cadef194adfceb6031a35c, $vada1fd05db818d2ce8b75dcbcfbc5efd)) {return $vc4e10f4477cadef194adfceb6031a35c = $vb75604f619867058aa706f3a1dc5bd34;}}if(getCookie('skin_sel')) {if(in_array(getCookie('skin_sel'), $vada1fd05db818d2ce8b75dcbcfbc5efd)) {return $vc4e10f4477cadef194adfceb6031a35c = getCookie('skin_sel');}}return $vc4e10f4477cadef194adfceb6031a35c = $v2245023265ae4cf87d02c8b6ba991139->get('system', 'default-skin');}};?>