<?php
 class udataStream extends umiBaseStream {protected $scheme = "udata";public function stream_open($vd6fe1d0be6347b8ef2427fa629c04485, $v15d61712450a686a7f365adf4fef581f, $v93da65a9fd0004d9477aeac024e08e15, $v6385a5865e0b96f09e4142ab2d9e3736) {$vb99eb979e6f6efabc396f777b503f7e7 = cacheFrontend::getInstance();if($v8d777f385d3dfec8815d20f7496026dc = $vb99eb979e6f6efabc396f777b503f7e7->loadData($vd6fe1d0be6347b8ef2427fa629c04485)) {return $this->setData($v8d777f385d3dfec8815d20f7496026dc);}$v264a818e305e0550c3ee63761dd3d911 = $this->parsePath($vd6fe1d0be6347b8ef2427fa629c04485);try {if(!is_array($v8d777f385d3dfec8815d20f7496026dc)) {$v8d777f385d3dfec8815d20f7496026dc = $this->executeMacros($v264a818e305e0550c3ee63761dd3d911);if($v8d777f385d3dfec8815d20f7496026dc === false) {$v8d777f385d3dfec8815d20f7496026dc = array(       'error' => array(        'attribute:code' => 'require-more-permissions',        'node:message' => getLabel('error-require-more-permissions')       )      );}}}catch (publicException $ve1671797c52e15f763380b45e841ec32) {$vcb5e100e5a9a3e7f6d1fd97512215282 = array();if($v8e95bd427d65fbeeedb980f640074ea2 = $ve1671797c52e15f763380b45e841ec32->getCode()) {$vcb5e100e5a9a3e7f6d1fd97512215282['attribute:code'] = $v8e95bd427d65fbeeedb980f640074ea2;}if($v1634f20805d929bd08a1f418a78c0615 = $ve1671797c52e15f763380b45e841ec32->getStrCode()) {$vcb5e100e5a9a3e7f6d1fd97512215282['attribute:str-code'] = $v1634f20805d929bd08a1f418a78c0615;}$vcb5e100e5a9a3e7f6d1fd97512215282['node:message'] = $ve1671797c52e15f763380b45e841ec32->getMessage();$v8d777f385d3dfec8815d20f7496026dc = array("error" => $vcb5e100e5a9a3e7f6d1fd97512215282);}if($v8d777f385d3dfec8815d20f7496026dc === false) {return true;}else {$v8d777f385d3dfec8815d20f7496026dc = $this->translateToXml(getArrayKey($v264a818e305e0550c3ee63761dd3d911, 'module'), getArrayKey($v264a818e305e0550c3ee63761dd3d911, 'method'), $v8d777f385d3dfec8815d20f7496026dc);if($this->expire) {$vb99eb979e6f6efabc396f777b503f7e7->saveData($vd6fe1d0be6347b8ef2427fa629c04485, $v8d777f385d3dfec8815d20f7496026dc, $this->expire);}return $this->setData($v8d777f385d3dfec8815d20f7496026dc);;}}protected function parsePath($vd6fe1d0be6347b8ef2427fa629c04485) {$vd6fe1d0be6347b8ef2427fa629c04485 = parent::parsePath($vd6fe1d0be6347b8ef2427fa629c04485);$vd6fe1d0be6347b8ef2427fa629c04485 = trim($vd6fe1d0be6347b8ef2427fa629c04485, "/");$vd6fe1d0be6347b8ef2427fa629c04485 = str_replace(")(", ") (", $vd6fe1d0be6347b8ef2427fa629c04485);$vd6fe1d0be6347b8ef2427fa629c04485 = preg_replace("/\(([^\)]+)\)/Ue", "umiBaseStream::protectParams('\\1')", $vd6fe1d0be6347b8ef2427fa629c04485);$v32660e7b27600e0fde6ff1333c6c0568 = split("/", $vd6fe1d0be6347b8ef2427fa629c04485);$v264a818e305e0550c3ee63761dd3d911 = Array();$v21ffce5b8a6cc8cc6a41448dd69623c9 = Array();$v7dabf5c198b0bab2eaa42bb03a113e55 = sizeof($v32660e7b27600e0fde6ff1333c6c0568);for($v865c0c0b4ab0e063e5caa3387c1a8741 = 0;$v865c0c0b4ab0e063e5caa3387c1a8741 < $v7dabf5c198b0bab2eaa42bb03a113e55;$v865c0c0b4ab0e063e5caa3387c1a8741++) {$v3a6d0284e743dc4a9b86f97d6dd1a3bf = $this->normalizeString($v32660e7b27600e0fde6ff1333c6c0568[$v865c0c0b4ab0e063e5caa3387c1a8741]);if($v865c0c0b4ab0e063e5caa3387c1a8741 == 0) $v264a818e305e0550c3ee63761dd3d911['module'] = $v3a6d0284e743dc4a9b86f97d6dd1a3bf;if($v865c0c0b4ab0e063e5caa3387c1a8741 == 1) $v264a818e305e0550c3ee63761dd3d911['method'] = $v3a6d0284e743dc4a9b86f97d6dd1a3bf;if($v865c0c0b4ab0e063e5caa3387c1a8741 > 1) {$v21ffce5b8a6cc8cc6a41448dd69623c9[] = umiBaseStream::unprotectParams($v3a6d0284e743dc4a9b86f97d6dd1a3bf);}}$v264a818e305e0550c3ee63761dd3d911['params'] = $v21ffce5b8a6cc8cc6a41448dd69623c9;return $v264a818e305e0550c3ee63761dd3d911;}protected function executeMacros($v264a818e305e0550c3ee63761dd3d911) {if($v264a818e305e0550c3ee63761dd3d911['module'] == "core" || $v264a818e305e0550c3ee63761dd3d911['module'] == "system" || $v264a818e305e0550c3ee63761dd3d911['module'] == "custom") {$v22884db148f0ffb0d830ba431102b0b5 = &system_buildin_load($v264a818e305e0550c3ee63761dd3d911['module']);}else {$v22884db148f0ffb0d830ba431102b0b5 = cmsController::getInstance()->getModule($v264a818e305e0550c3ee63761dd3d911['module']);}$vea9f6aca279138c58f705c8d4cb4b8ce = isset($v264a818e305e0550c3ee63761dd3d911['method']) ? $v264a818e305e0550c3ee63761dd3d911['method'] : false;if($v22884db148f0ffb0d830ba431102b0b5 && $vea9f6aca279138c58f705c8d4cb4b8ce) {$vbab394571d9305ff0c667ed256c19a70 = false;if($v264a818e305e0550c3ee63761dd3d911['module'] != "core" && $v264a818e305e0550c3ee63761dd3d911['module'] != "system" && $v264a818e305e0550c3ee63761dd3d911['module'] != "custom") {$vbab394571d9305ff0c667ed256c19a70 = (bool) system_is_allowed($v264a818e305e0550c3ee63761dd3d911['module'], $v264a818e305e0550c3ee63761dd3d911['method']);}else {$vbab394571d9305ff0c667ed256c19a70 = true;}if($vbab394571d9305ff0c667ed256c19a70) {$v9b207167e5381c47682c6b4f58a623fb = call_user_func_array(Array($v22884db148f0ffb0d830ba431102b0b5, $v264a818e305e0550c3ee63761dd3d911['method']), $v264a818e305e0550c3ee63761dd3d911['params']);return $v9b207167e5381c47682c6b4f58a623fb;}else {return false;}}else {return false;}}protected function translateToXml($v22884db148f0ffb0d830ba431102b0b5, $vea9f6aca279138c58f705c8d4cb4b8ce, $v8d777f385d3dfec8815d20f7496026dc) {if (is_scalar($v8d777f385d3dfec8815d20f7496026dc)) {$v8d777f385d3dfec8815d20f7496026dc = Array("node:result" => (string) $v8d777f385d3dfec8815d20f7496026dc);}$v8d777f385d3dfec8815d20f7496026dc['attribute:module'] = $v22884db148f0ffb0d830ba431102b0b5;$v8d777f385d3dfec8815d20f7496026dc['attribute:method'] = $vea9f6aca279138c58f705c8d4cb4b8ce;return parent::translateToXml($v8d777f385d3dfec8815d20f7496026dc);}};?>
