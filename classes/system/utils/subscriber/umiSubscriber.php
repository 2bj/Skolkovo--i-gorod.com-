<?php
 class umiSubscriber extends umiObject implements iUmiObject, iUmiSubscriber {protected $o_user = null;public function __construct($vb80bb7740288fda1f201890375a60c8f = false) {$this->store_type = 'subscriber';$vd82f268d5a82fc66260ad083d1a2e5b4 = umiObjectsCollection::getInstance()->getObject($vb80bb7740288fda1f201890375a60c8f);if ($vd82f268d5a82fc66260ad083d1a2e5b4 instanceof umiObject) {$v963cecbdfa91757f2c7a4a9e794f3da7 = $vd82f268d5a82fc66260ad083d1a2e5b4->getTypeId();$v784813455c14b4e16d7014624f797310 = umiObjectTypesCollection::getInstance()->getType($v963cecbdfa91757f2c7a4a9e794f3da7);$vc4b174241b773d2a96dfb1503c713026 = umiHierarchyTypesCollection::getInstance()->getType($v784813455c14b4e16d7014624f797310->getHierarchyTypeId());if ($vc4b174241b773d2a96dfb1503c713026->getName() === "dispatches" && $vc4b174241b773d2a96dfb1503c713026->getExt() === "subscriber") {$vb08692690504d9f125f2db62c3351173 = $vd82f268d5a82fc66260ad083d1a2e5b4->getValue('uid');$this->o_user = umiObjectsCollection::getInstance()->getObject($vb08692690504d9f125f2db62c3351173);}elseif ($vc4b174241b773d2a96dfb1503c713026->getName() === "users" && $vc4b174241b773d2a96dfb1503c713026->getExt() === "user") {$this->o_user = $vd82f268d5a82fc66260ad083d1a2e5b4;$vb80bb7740288fda1f201890375a60c8f = $this->getSubscriberByUserId($vb80bb7740288fda1f201890375a60c8f);}}parent::__construct($vb80bb7740288fda1f201890375a60c8f);}public function isRegistredUser() {return ($this->o_user instanceof umiObject);}public function getDispatches() {return $this->getValue('subscriber_dispatches');}public static function getSubscriberByUserId($v7ad6e70c936a7223ff2f1663258f4a0a) {$va5a928b6b6b19de8a18398c7b29f47d7 = false;$vf7b7708e49b5e697e01291fdbb169c31 = umiHierarchyTypesCollection::getInstance()->getTypeByName("dispatches", "subscriber")->getId();$v3ec9f372b2dad35356b9884c89cf0ef2 =  umiObjectTypesCollection::getInstance()->getTypeByHierarchyTypeId($vf7b7708e49b5e697e01291fdbb169c31);$vff500849b1c1163f66c899c7aec17813 = umiObjectTypesCollection::getInstance()->getType($v3ec9f372b2dad35356b9884c89cf0ef2);$v18ea1849dbf10a18b2dfd4ed0eb3a231 = new umiSelection;$v18ea1849dbf10a18b2dfd4ed0eb3a231->setObjectTypeFilter();$v18ea1849dbf10a18b2dfd4ed0eb3a231->addObjectType($v3ec9f372b2dad35356b9884c89cf0ef2);$v18ea1849dbf10a18b2dfd4ed0eb3a231->setPropertyFilter();$v18ea1849dbf10a18b2dfd4ed0eb3a231->addPropertyFilterEqual($vff500849b1c1163f66c899c7aec17813->getFieldId('uid'), $v7ad6e70c936a7223ff2f1663258f4a0a);$v2cf58721416a170aa34368186d661d4b = umiSelectionsParser::runSelection($v18ea1849dbf10a18b2dfd4ed0eb3a231);if (is_array($v2cf58721416a170aa34368186d661d4b) && count($v2cf58721416a170aa34368186d661d4b)) {$va5a928b6b6b19de8a18398c7b29f47d7 = $v2cf58721416a170aa34368186d661d4b[0];}else {$v5a459b4b428788e52383cf8fae051ef7 = umiObjectsCollection::getInstance()->getObject($v7ad6e70c936a7223ff2f1663258f4a0a);$vaddc9cff9d125716db26235ce1c09240 = $v5a459b4b428788e52383cf8fae051ef7->getValue("e-mail");$v2430d439812ab308abec75d804810a30 = $v5a459b4b428788e52383cf8fae051ef7->getValue("lname");$vd9c6a1a67112c4d88c9a572ac9cad3f5 = $v5a459b4b428788e52383cf8fae051ef7->getValue("fname");$vaa876bbb2f0018ef7348fccc805794af = $v5a459b4b428788e52383cf8fae051ef7->getValue("father_name");$vf572db796146381f0522cb8ba4a636e0 = $v5a459b4b428788e52383cf8fae051ef7->getValue("gender");$vf7b7708e49b5e697e01291fdbb169c31 = umiHierarchyTypesCollection::getInstance()->getTypeByName("dispatches", "subscriber")->getId();$v3ec9f372b2dad35356b9884c89cf0ef2 =  umiObjectTypesCollection::getInstance()->getTypeByHierarchyTypeId($vf7b7708e49b5e697e01291fdbb169c31);$va5a928b6b6b19de8a18398c7b29f47d7 = umiObjectsCollection::getInstance()->addObject($vaddc9cff9d125716db26235ce1c09240, $v3ec9f372b2dad35356b9884c89cf0ef2);$vf674b89869b81fcedca2243c18bbcdd1 = umiObjectsCollection::getInstance()->getObject($va5a928b6b6b19de8a18398c7b29f47d7);if ($vf674b89869b81fcedca2243c18bbcdd1 instanceof umiObject) {$vf674b89869b81fcedca2243c18bbcdd1->setName($vaddc9cff9d125716db26235ce1c09240);$vf674b89869b81fcedca2243c18bbcdd1->setValue('lname', $v2430d439812ab308abec75d804810a30);$vf674b89869b81fcedca2243c18bbcdd1->setValue('fname', $vd9c6a1a67112c4d88c9a572ac9cad3f5);$vf674b89869b81fcedca2243c18bbcdd1->setValue('father_name', $vaa876bbb2f0018ef7348fccc805794af);$v61a9cd46c360819bab753cd29ccea4c4 = new umiDate(time());$vf674b89869b81fcedca2243c18bbcdd1->setValue('subscribe_date', $v61a9cd46c360819bab753cd29ccea4c4);$vf674b89869b81fcedca2243c18bbcdd1->setValue('gender', $vf572db796146381f0522cb8ba4a636e0);$vf674b89869b81fcedca2243c18bbcdd1->setValue('uid', $v7ad6e70c936a7223ff2f1663258f4a0a);}$vf674b89869b81fcedca2243c18bbcdd1->commit();}return $va5a928b6b6b19de8a18398c7b29f47d7;}};?>