<?php
 function macros_content() {static $v9b207167e5381c47682c6b4f58a623fb;if(!is_null($v9b207167e5381c47682c6b4f58a623fb)) return $v9b207167e5381c47682c6b4f58a623fb;$v8b1dc169bf460ee884fceef66c6607d6 = cmsController::getInstance();$v7abdda3251de25a51bf5fb15d7c3391d = $v8b1dc169bf460ee884fceef66c6607d6->getCurrentModule();$vdb206b4902d295196025b8e70cbb0896 = $v8b1dc169bf460ee884fceef66c6607d6->getCurrentMethod();$v7865662652a92be56e59db026567a8bb = $v8b1dc169bf460ee884fceef66c6607d6->isContentMode;$v8b1dc169bf460ee884fceef66c6607d6->isContentMode = true;if($v22884db148f0ffb0d830ba431102b0b5 = $v8b1dc169bf460ee884fceef66c6607d6->getModule($v7abdda3251de25a51bf5fb15d7c3391d)) {$v0db3209e1adc6d67be435a81baf9a66e = $v8b1dc169bf460ee884fceef66c6607d6->getCurrentElementId();$permissions = permissionsCollection::getInstance();$v5fdedfe381eef204ab3354d244885a40 = $permissions->isAdmin();if($v0db3209e1adc6d67be435a81baf9a66e) {list($v4b43b0aee35624cd95b910189b3dc231, $vf1290186a5d0b1ceab27f4e77c0c5d68) = $permissions->isAllowedObject($permissions->getUserId(), $v0db3209e1adc6d67be435a81baf9a66e);if($v4b43b0aee35624cd95b910189b3dc231) {$v370c1d74e32be1f53b02d1ffc5baeb16 = true;}else {$v370c1d74e32be1f53b02d1ffc5baeb16 = false;}}else {$v370c1d74e32be1f53b02d1ffc5baeb16 = true;}if(system_is_allowed($v7abdda3251de25a51bf5fb15d7c3391d, $vdb206b4902d295196025b8e70cbb0896) && ($v370c1d74e32be1f53b02d1ffc5baeb16)) {if($vac7e245e9def337ebb3d4fb5196b418c = $v8b1dc169bf460ee884fceef66c6607d6->parsedContent) {return $vac7e245e9def337ebb3d4fb5196b418c;}if($v8b1dc169bf460ee884fceef66c6607d6->getCurrentMode() == "admin") {try {$v9b207167e5381c47682c6b4f58a623fb = $v22884db148f0ffb0d830ba431102b0b5->cms_callMethod($vdb206b4902d295196025b8e70cbb0896, NULL);}catch (publicException $ve1671797c52e15f763380b45e841ec32) {xslAdminTemplater::getInstance()->setDataSet($ve1671797c52e15f763380b45e841ec32);return $v9b207167e5381c47682c6b4f58a623fb = false;}}else {try {$v9b207167e5381c47682c6b4f58a623fb = $v22884db148f0ffb0d830ba431102b0b5->cms_callMethod($vdb206b4902d295196025b8e70cbb0896, NULL);}catch (publicException $ve1671797c52e15f763380b45e841ec32) {$v9b207167e5381c47682c6b4f58a623fb = $ve1671797c52e15f763380b45e841ec32->getMessage();}$v9b207167e5381c47682c6b4f58a623fb = system_parse_short_calls($v9b207167e5381c47682c6b4f58a623fb);$v9b207167e5381c47682c6b4f58a623fb = str_replace("%content%", "%content ", $v9b207167e5381c47682c6b4f58a623fb);$v9b207167e5381c47682c6b4f58a623fb = templater::getInstance()->parseInput($v9b207167e5381c47682c6b4f58a623fb);$v9b207167e5381c47682c6b4f58a623fb = system_parse_short_calls($v9b207167e5381c47682c6b4f58a623fb);}if($v9b207167e5381c47682c6b4f58a623fb !== false && is_array($v9b207167e5381c47682c6b4f58a623fb) == false) {if($v8b1dc169bf460ee884fceef66c6607d6->getCurrentMode() != "admin" && stripos($v9b207167e5381c47682c6b4f58a623fb, "%cut%") !== false) {if(array_key_exists("cut", $_REQUEST)) {if($_REQUEST['cut'] == "all") {$_REQUEST['cut_pages'] = 0;return str_ireplace("%cut%", "", $v9b207167e5381c47682c6b4f58a623fb);}$vfe47aa7c733c490d36e80508d5dc4019 = (int) $_REQUEST['cut'];}else $vfe47aa7c733c490d36e80508d5dc4019 = 0;$ve78bd891e50bac12839668749181a546 = spliti("%cut%", $v9b207167e5381c47682c6b4f58a623fb);if($vfe47aa7c733c490d36e80508d5dc4019 > (sizeof($ve78bd891e50bac12839668749181a546) - 1))       $vfe47aa7c733c490d36e80508d5dc4019 = sizeof($ve78bd891e50bac12839668749181a546) - 1;if($vfe47aa7c733c490d36e80508d5dc4019 < 0)       $vfe47aa7c733c490d36e80508d5dc4019 = 0;$_REQUEST['cut_pages'] = sizeof($ve78bd891e50bac12839668749181a546);$_REQUEST['cut_curr_page'] = $vfe47aa7c733c490d36e80508d5dc4019;$v9b207167e5381c47682c6b4f58a623fb = $ve78bd891e50bac12839668749181a546[$vfe47aa7c733c490d36e80508d5dc4019];}$v4d424a5679c0aa6e84a0235ec1949c43 = $v8b1dc169bf460ee884fceef66c6607d6;$v4d424a5679c0aa6e84a0235ec1949c43->parsedContent = $v9b207167e5381c47682c6b4f58a623fb;$v8b1dc169bf460ee884fceef66c6607d6->isContentMode = $v7865662652a92be56e59db026567a8bb;return $v9b207167e5381c47682c6b4f58a623fb;}else {$v8b1dc169bf460ee884fceef66c6607d6->isContentMode = $v7865662652a92be56e59db026567a8bb;return $v9b207167e5381c47682c6b4f58a623fb = '<notice>%core_templater% %core_error_nullvalue%</notice>';}}else {if($v8b1dc169bf460ee884fceef66c6607d6->getCurrentMode() == "admin" && $v5fdedfe381eef204ab3354d244885a40) {if($v7abdda3251de25a51bf5fb15d7c3391d == "content" && $vdb206b4902d295196025b8e70cbb0896 == "sitetree") {$vb1444fb0c07653567ad325aa25d4e37a = regedit::getInstance();$v0eb9b3af2e4a00837a1b1a854c9ea18c = $vb1444fb0c07653567ad325aa25d4e37a->getList("//modules");foreach($v0eb9b3af2e4a00837a1b1a854c9ea18c as $v447b7147e84be512208dcc0995d67ebc) {list($v22884db148f0ffb0d830ba431102b0b5) = $v447b7147e84be512208dcc0995d67ebc;if(system_is_allowed($v22884db148f0ffb0d830ba431102b0b5)) {$v47a12618c9a47b69a3050e6b9313a351 = $v8b1dc169bf460ee884fceef66c6607d6->getModule($v22884db148f0ffb0d830ba431102b0b5);$v572d4e421e5e6b9bc11d815e8a027112 = $v47a12618c9a47b69a3050e6b9313a351->pre_lang . "/admin/" . $v22884db148f0ffb0d830ba431102b0b5 . "/";$v47a12618c9a47b69a3050e6b9313a351->redirect($v572d4e421e5e6b9bc11d815e8a027112);}}}}if($v22884db148f0ffb0d830ba431102b0b5 = $v8b1dc169bf460ee884fceef66c6607d6->getModule("users")) {header("Status: 401 Unauthorized");$v8b1dc169bf460ee884fceef66c6607d6->setCurrentModule("users");$v8b1dc169bf460ee884fceef66c6607d6->setCurrentMethod("login");$v8b1dc169bf460ee884fceef66c6607d6->isContentMode = $v7865662652a92be56e59db026567a8bb;$v8ce1a19060c7f3777242272261830ee1 = xslTemplater::getInstance();$vf5447023f9d34c32623ad1987f783829 = xslAdminTemplater::getInstance();if($v5fdedfe381eef204ab3354d244885a40) {$v22884db148f0ffb0d830ba431102b0b5 = $v8b1dc169bf460ee884fceef66c6607d6->getModule($v7abdda3251de25a51bf5fb15d7c3391d);if($v22884db148f0ffb0d830ba431102b0b5->isMethodExists($vdb206b4902d295196025b8e70cbb0896) == false) {$v572d4e421e5e6b9bc11d815e8a027112 = $v47a12618c9a47b69a3050e6b9313a351->pre_lang . "/admin/content/sitetree/";$v22884db148f0ffb0d830ba431102b0b5->redirect($v572d4e421e5e6b9bc11d815e8a027112);}if($v8ce1a19060c7f3777242272261830ee1->getIsInited() && $v8b1dc169bf460ee884fceef66c6607d6->getCurrentMode() == "admin") {$ve1671797c52e15f763380b45e841ec32 = new requreMoreAdminPermissionsException(getLabel("error-require-more-permissions"));$vf5447023f9d34c32623ad1987f783829->setDataSet($ve1671797c52e15f763380b45e841ec32);}return $v9b207167e5381c47682c6b4f58a623fb = "<p><warning>%core_error_nopermission%</warning></p>" . $v22884db148f0ffb0d830ba431102b0b5->login();}else {if($vf5447023f9d34c32623ad1987f783829->getIsInited()) {throw new requireAdminPermissionsException("No permissions");}return $v9b207167e5381c47682c6b4f58a623fb = $v22884db148f0ffb0d830ba431102b0b5->login();}}return $v9b207167e5381c47682c6b4f58a623fb = '<warning>%core_templater% %core_error_nullvalue% %core_error_nopermission%</warning>';}}$v8b1dc169bf460ee884fceef66c6607d6->isContentMode = $v7865662652a92be56e59db026567a8bb;return $v9b207167e5381c47682c6b4f58a623fb = '%core_templater% %core_error_unknown%';}function macros_title() {$v8b1dc169bf460ee884fceef66c6607d6 = cmsController::getInstance();$vb81ca7c0ccaa77e7aa91936ab0070695 = umiHierarchy::getInstance();$vb1444fb0c07653567ad325aa25d4e37a = regedit::getInstance();if($v8b1dc169bf460ee884fceef66c6607d6->getCurrentMode() == "") {if($v7552cd149af7495ee7d8225974e50f80 = $v8b1dc169bf460ee884fceef66c6607d6->getCurrentElementId()) {if($v8e2dcfd7e7e24b1ca76c1193f645902b = $vb81ca7c0ccaa77e7aa91936ab0070695->getElement($v7552cd149af7495ee7d8225974e50f80)) {if($vd5d3db1765287eef77d7927cc956f50a = $v8e2dcfd7e7e24b1ca76c1193f645902b->getValue("title")) {return $vd5d3db1765287eef77d7927cc956f50a;}}}}if($v8b1dc169bf460ee884fceef66c6607d6->currentTitle) {return $v8b1dc169bf460ee884fceef66c6607d6->currentTitle;}$v72ee76c5c29383b7c9f9225c1fa4d10b = $v8b1dc169bf460ee884fceef66c6607d6->getCurrentDomain()->getId();$vf585b7f018bb4ced15a03683a733e50b = $v8b1dc169bf460ee884fceef66c6607d6->getCurrentLang()->getId();$vee83f3e0a5d4553600d456d781380b7a = $vb1444fb0c07653567ad325aa25d4e37a->getVal("//settings/title_prefix/" . $vf585b7f018bb4ced15a03683a733e50b . "/" . $v72ee76c5c29383b7c9f9225c1fa4d10b);return $vee83f3e0a5d4553600d456d781380b7a . macros_header();}function macros_header() {$v8b1dc169bf460ee884fceef66c6607d6 = cmsController::getInstance();$vb81ca7c0ccaa77e7aa91936ab0070695 = umiHierarchy::getInstance();if($v8b1dc169bf460ee884fceef66c6607d6->currentHeader) {return $v8b1dc169bf460ee884fceef66c6607d6->currentHeader;}if($v7552cd149af7495ee7d8225974e50f80 = $v8b1dc169bf460ee884fceef66c6607d6->getCurrentElementId()) {if($v8e2dcfd7e7e24b1ca76c1193f645902b = $vb81ca7c0ccaa77e7aa91936ab0070695->getElement($v7552cd149af7495ee7d8225974e50f80)) {$v099fb995346f31c749f6e40db0f395e3 = ($vfa816edb83e95bf0c8da580bdfd491ef = $v8e2dcfd7e7e24b1ca76c1193f645902b->getValue("h1")) ? $vfa816edb83e95bf0c8da580bdfd491ef : "";return str_replace("%", "&#37;", $v099fb995346f31c749f6e40db0f395e3);}}$v7b975dff6c0134c6f231fd13895c2349 = $v8b1dc169bf460ee884fceef66c6607d6->getCurrentModule();$vb6ad8768e9a35023e3d824c5057699d1 = $v8b1dc169bf460ee884fceef66c6607d6->getCurrentMethod();if(isset($v8b1dc169bf460ee884fceef66c6607d6->langs[$v7b975dff6c0134c6f231fd13895c2349][$vb6ad8768e9a35023e3d824c5057699d1])) {return $v8b1dc169bf460ee884fceef66c6607d6->langs[$v7b975dff6c0134c6f231fd13895c2349][$vb6ad8768e9a35023e3d824c5057699d1];}else {return false;}}function macros_menu() {$v8b1dc169bf460ee884fceef66c6607d6 = cmsController::getInstance();$vd34fec3e69adc884a61c941174d12dc0 = $v8b1dc169bf460ee884fceef66c6607d6->getModule('content');return ($vd34fec3e69adc884a61c941174d12dc0 instanceof def_module) ? $vd34fec3e69adc884a61c941174d12dc0->menu() : "";}function macros_describtion() {$v8b1dc169bf460ee884fceef66c6607d6 = cmsController::getInstance();$vb1444fb0c07653567ad325aa25d4e37a = regedit::getInstance();$vb81ca7c0ccaa77e7aa91936ab0070695 = umiHierarchy::getInstance();$v72ee76c5c29383b7c9f9225c1fa4d10b = $v8b1dc169bf460ee884fceef66c6607d6->getCurrentDomain()->getId();$vf585b7f018bb4ced15a03683a733e50b = $v8b1dc169bf460ee884fceef66c6607d6->getCurrentLang()->getId();$v67daf92c833c41c95db874e18fcb2786 = "";if($v7552cd149af7495ee7d8225974e50f80 = $v8b1dc169bf460ee884fceef66c6607d6->getCurrentElementId()) {if($v8e2dcfd7e7e24b1ca76c1193f645902b = $vb81ca7c0ccaa77e7aa91936ab0070695->getElement($v7552cd149af7495ee7d8225974e50f80)) {$v67daf92c833c41c95db874e18fcb2786 = $v8e2dcfd7e7e24b1ca76c1193f645902b->getValue("meta_descriptions");}}if(!$v67daf92c833c41c95db874e18fcb2786) {$v67daf92c833c41c95db874e18fcb2786 = $vb1444fb0c07653567ad325aa25d4e37a->getVal("//settings/meta_description/" . $vf585b7f018bb4ced15a03683a733e50b . "/" . $v72ee76c5c29383b7c9f9225c1fa4d10b);}return $v67daf92c833c41c95db874e18fcb2786;}function macros_keywords() {$v8b1dc169bf460ee884fceef66c6607d6 = cmsController::getInstance();$vb1444fb0c07653567ad325aa25d4e37a = regedit::getInstance();$vb81ca7c0ccaa77e7aa91936ab0070695 = umiHierarchy::getInstance();$v72ee76c5c29383b7c9f9225c1fa4d10b = $v8b1dc169bf460ee884fceef66c6607d6->getCurrentDomain()->getId();$vf585b7f018bb4ced15a03683a733e50b = $v8b1dc169bf460ee884fceef66c6607d6->getCurrentLang()->getId();$v59aeb2c9970b7b25be2fab2317e31fcb = "";if($v7552cd149af7495ee7d8225974e50f80 = $v8b1dc169bf460ee884fceef66c6607d6->getCurrentElementId()) {if($v8e2dcfd7e7e24b1ca76c1193f645902b = $vb81ca7c0ccaa77e7aa91936ab0070695->getElement($v7552cd149af7495ee7d8225974e50f80)) {$v59aeb2c9970b7b25be2fab2317e31fcb = $v8e2dcfd7e7e24b1ca76c1193f645902b->getValue("meta_keywords");}}if(!$v59aeb2c9970b7b25be2fab2317e31fcb) {$v59aeb2c9970b7b25be2fab2317e31fcb = $vb1444fb0c07653567ad325aa25d4e37a->getVal("//settings/meta_keywords/" . $vf585b7f018bb4ced15a03683a733e50b . "/" . $v72ee76c5c29383b7c9f9225c1fa4d10b);}return $v59aeb2c9970b7b25be2fab2317e31fcb;}function macros_returnPid() {return cmsController::getInstance()->getCurrentElementId();}function macros_returnPreLang() {return cmsController::getInstance()->pre_lang;}function macros_returnDomain() {return getServer('HTTP_HOST');}function macros_returnDomainFloated() {$v8b1dc169bf460ee884fceef66c6607d6 = cmsController::getInstance();if($v8b1dc169bf460ee884fceef66c6607d6->getCurrentMode() == "") {return getServer('HTTP_HOST');}else {$v47c80780ab608cc046f2a6e6f071feb6 = Array();if(is_numeric(getRequest('param0'))) {$v47c80780ab608cc046f2a6e6f071feb6[] = getRequest('param0');}if(is_numeric(getRequest('param1'))) {$v47c80780ab608cc046f2a6e6f071feb6[] = getRequest('param1');}if(getRequest('parent')) {$v47c80780ab608cc046f2a6e6f071feb6[] = getRequest('parent');}foreach($v47c80780ab608cc046f2a6e6f071feb6 as $v4a8a08f09d37b73795649038408b5f33) {if(is_numeric($v4a8a08f09d37b73795649038408b5f33)) {try {if($v8e2dcfd7e7e24b1ca76c1193f645902b = umiHierarchy::getInstance()->getElement($v4a8a08f09d37b73795649038408b5f33)) {$v662cbf1253ac7d8750ed9190c52163e5 = $v8e2dcfd7e7e24b1ca76c1193f645902b->getDomainId();if($vad5f82e879a9c5d6b5b442eb37e50551 = domainsCollection::getInstance()->getDomain($v662cbf1253ac7d8750ed9190c52163e5)) {return $vad5f82e879a9c5d6b5b442eb37e50551->getHost();}}}catch (baseException $ve1671797c52e15f763380b45e841ec32) {}}if(is_string($v4a8a08f09d37b73795649038408b5f33)) {if($v662cbf1253ac7d8750ed9190c52163e5 = domainsCollection::getInstance()->getDomainId($v4a8a08f09d37b73795649038408b5f33)) {if($vad5f82e879a9c5d6b5b442eb37e50551 = domainsCollection::getInstance()->getDomain($v662cbf1253ac7d8750ed9190c52163e5)) {return $vad5f82e879a9c5d6b5b442eb37e50551->getHost();}}}}return getServer('HTTP_HOST');}}function macros_curr_time() {return time();}function macros_skin_path() {if(getRequest('skin_sel')) return getRequest('skin_sel');return (getCookie('skin')) ? getCookie('skin') : regedit::getInstance()->getVal("//skins");}function macros_current_user_id() {return permissionsCollection::getInstance()->getUserId();}function macros_current_version_line() {if(defined("CURRENT_VERSION_LINE")) {return CURRENT_VERSION_LINE;}else {return "pro";}}function macros_catched_errors() {$v9b207167e5381c47682c6b4f58a623fb = "";foreach(baseException::$catchedExceptions as $v42552b1f133f9f8eb406d4f306ea9fd1) {$v9b207167e5381c47682c6b4f58a623fb .= "<p>" . $v42552b1f133f9f8eb406d4f306ea9fd1->getMessage() . "</p>";}return $v9b207167e5381c47682c6b4f58a623fb;}function macros_current_alt_name() {$v8b1dc169bf460ee884fceef66c6607d6 = cmsController::getInstance();if($v7057e8409c7c531a1a6e9ac3df4ed549 = $v8b1dc169bf460ee884fceef66c6607d6->getCurrentElementId()) {if($v8e2dcfd7e7e24b1ca76c1193f645902b = umiHierarchy::getInstance()->getElement($v7057e8409c7c531a1a6e9ac3df4ed549)) {return $v8e2dcfd7e7e24b1ca76c1193f645902b->getAltName();}else {return "";}}else {return "";}}function macros_returnParentId() {$v8b1dc169bf460ee884fceef66c6607d6 = cmsController::getInstance();if($v7057e8409c7c531a1a6e9ac3df4ed549 = $v8b1dc169bf460ee884fceef66c6607d6->getCurrentElementId()) {if($v8e2dcfd7e7e24b1ca76c1193f645902b = umiHierarchy::getInstance()->getElement($v7057e8409c7c531a1a6e9ac3df4ed549)) {return $v8e2dcfd7e7e24b1ca76c1193f645902b->getParentId();}else {return "";}}else {return "";}}?>