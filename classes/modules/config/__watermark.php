<?php
 abstract class __watermark_config extends baseModuleAdmin {public function watermark() {$vb1444fb0c07653567ad325aa25d4e37a = regedit::getInstance();$v21ffce5b8a6cc8cc6a41448dd69623c9 = Array(    "watermark" => Array(     "string:image"  => NULL,     "int:alpha"     => NULL,     "select:valign" => array (       "top"   => getLabel ("watermark-valign-top"),       "bottom"=> getLabel ("watermark-valign-bottom")      ),     "select:halign" => array (       "left"  => getLabel ("watermark-halign-left"),       "right" => getLabel ("watermark-halign-right")      )    )   );$v15d61712450a686a7f365adf4fef581f = getRequest("param0");if($v15d61712450a686a7f365adf4fef581f == "do") {$v21ffce5b8a6cc8cc6a41448dd69623c9 = $this->expectParams($v21ffce5b8a6cc8cc6a41448dd69623c9);if ($vb1444fb0c07653567ad325aa25d4e37a->getKey("//settings/watermark") === false) {$vb1444fb0c07653567ad325aa25d4e37a->setVar("//settings/watermark", "");}$vd78b68a69f88f543cde90ab00273c043 = trim ($v21ffce5b8a6cc8cc6a41448dd69623c9['watermark']['string:image']);$vd78b68a69f88f543cde90ab00273c043 = str_replace ("./", "", $vd78b68a69f88f543cde90ab00273c043);if (substr ($vd78b68a69f88f543cde90ab00273c043, 0, 1) == "/") {$vd78b68a69f88f543cde90ab00273c043 = substr ($vd78b68a69f88f543cde90ab00273c043, 1);}if (file_exists ("./".$vd78b68a69f88f543cde90ab00273c043)) {$vb1444fb0c07653567ad325aa25d4e37a->setVar("//settings/watermark/image", "./".$vd78b68a69f88f543cde90ab00273c043);}if (intval($v21ffce5b8a6cc8cc6a41448dd69623c9['watermark']['int:alpha']) > 0 && intval($v21ffce5b8a6cc8cc6a41448dd69623c9['watermark']['int:alpha']) <= 100) {$vb1444fb0c07653567ad325aa25d4e37a->setVar("//settings/watermark/alpha", $v21ffce5b8a6cc8cc6a41448dd69623c9['watermark']['int:alpha']);}$vb1444fb0c07653567ad325aa25d4e37a->setVar("//settings/watermark/valign", $v21ffce5b8a6cc8cc6a41448dd69623c9['watermark']['select:valign']);$vb1444fb0c07653567ad325aa25d4e37a->setVar("//settings/watermark/halign", $v21ffce5b8a6cc8cc6a41448dd69623c9['watermark']['select:halign']);$this->chooseRedirect();}$v21ffce5b8a6cc8cc6a41448dd69623c9['watermark']['string:image'] = $vb1444fb0c07653567ad325aa25d4e37a->getVal("//settings/watermark/image");$v21ffce5b8a6cc8cc6a41448dd69623c9['watermark']['int:alpha'] = $vb1444fb0c07653567ad325aa25d4e37a->getVal("//settings/watermark/alpha");$v21ffce5b8a6cc8cc6a41448dd69623c9['watermark']['select:valign'] = array (     "top" => getLabel ("watermark-valign-top"),     "bottom" => getLabel ("watermark-valign-bottom"),     "value" => $vb1444fb0c07653567ad325aa25d4e37a->getVal("//settings/watermark/valign")    );$v21ffce5b8a6cc8cc6a41448dd69623c9['watermark']['select:halign'] = array (     "left" => getLabel ("watermark-halign-left"),     "right" => getLabel ("watermark-halign-right"),     "value" => $vb1444fb0c07653567ad325aa25d4e37a->getVal("//settings/watermark/halign")    );$this->setDataType("settings");$this->setActionType("modify");$v8d777f385d3dfec8815d20f7496026dc = $this->prepareData($v21ffce5b8a6cc8cc6a41448dd69623c9, "settings");$this->setData($v8d777f385d3dfec8815d20f7496026dc);return $this->doData();}};