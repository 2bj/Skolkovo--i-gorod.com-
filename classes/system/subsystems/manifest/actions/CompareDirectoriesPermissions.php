<?php
 class CompareDirectoriesPermissionsAction extends atomicAction {protected $sourceDirectory, $targetDirectory;public function execute() {$this->sourceDirectory = $this->getParam('source-directory');$this->targetDirectory = $this->getParam('target-directory');$this->checkFolderPermissions($this->sourceDirectory);}public function rollback() {}protected function checkFolderPermissions($vd6fe1d0be6347b8ef2427fa629c04485) {$veec4d6416f6ba06d977d1eec284beb23 = $this->targetDirectory . substr($vd6fe1d0be6347b8ef2427fa629c04485, strlen($this->sourceDirectory));if(is_dir($veec4d6416f6ba06d977d1eec284beb23)) {if(!is_writable($veec4d6416f6ba06d977d1eec284beb23)) {throw new Exception("This directory must be writable \"{$vd6fe1d0be6347b8ef2427fa629c04485}\"");}}$v736007832d2167baaae763fd3a3f3cf1 = new umiDirectory($vd6fe1d0be6347b8ef2427fa629c04485);foreach($v736007832d2167baaae763fd3a3f3cf1 as $v447b7147e84be512208dcc0995d67ebc) {if($v447b7147e84be512208dcc0995d67ebc instanceof umiDirectory) {$this->checkFolderPermissions($v447b7147e84be512208dcc0995d67ebc->getPath());}if($v447b7147e84be512208dcc0995d67ebc instanceof umiFile) {$this->checkFilePermissions($v447b7147e84be512208dcc0995d67ebc->getFilePath());}}}protected function checkFilePermissions($vd6fe1d0be6347b8ef2427fa629c04485) {$veec4d6416f6ba06d977d1eec284beb23 = $this->targetDirectory . substr($vd6fe1d0be6347b8ef2427fa629c04485, strlen($this->sourceDirectory));if(file_exists($veec4d6416f6ba06d977d1eec284beb23)) {if(!is_writable($veec4d6416f6ba06d977d1eec284beb23)) {throw new Exception("This file should be writable \"{$veec4d6416f6ba06d977d1eec284beb23}\"");}}}};?>