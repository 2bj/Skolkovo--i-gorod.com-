13.04.2010 - Версия 2.8.0.5

Системные изменения:

При добавлении нового объекта системы в большинстве модулей появилась возможность выбрать тип элемента до его создания.
В макрос %system getFilteredPages()% добавлен 6й аргумент - ignore_paging
Решена проблема с закачкой файлов, связанная с настройками безопасности некоторых хостингов.
После загрузки нескольких файлов они все остаются выделенными.
Кнопка "Купить UMI.CMS" убрана из всех редакций.
Исправлена ошибка с сохранением изображений, расположенных в папке, отличной от системных
Исправлено: при вставке мультимедиа файла в визивиге невозможно выбрать тип флэш
Исправлено: невозможно перейти в русскую версию сайта, если язык по-умолчанию английский
Исправлена ошибка: не работает вывод значения полей по их идентификатору

edit-in-place:
Исправлено некорректное поведение поиска в контроле "Список со множественным выбором"
Исправлена ошибка: при редактировании строковых полей через edit-in-place появляется &nbsp
Исправлена ошибка: в некоторых случаях не сворачивается панель eip в Опере 10.51

Конфигурация:
Исправлена ошибка с отображением модуля в английской версии административной панели

Интернет-магазин:
Исправлены ошибки:
Некорректно добавляются и считаются составные товары в корзине
Исправлена работа блока order_block_empty в tpl-шаблонизаторе
Добавлены системы оплаты: Робокасса и RBK Money.

Статистика:
Исправлены ошибки:
Некорректная работа сборщика статистики в некоторых случаях
Неперехваченное исключение в административной панели в некоторых случаях

Файловая система:
Исправлены ошибки:
Отсутствует кнопка добавления файла в английской части административной части

Каталог:
Исправлена некорректная работа фильтра в разделах каталога

Обмен данными:
Теперь при повторной синхронизации товаров с 1С состояние активности и поля title и h1 не изменяются
Добавлена возможность указания шаблона для импортируемых рубрик и товаров из 1С в config.ini
Добавлена возможность указать SourceName при экспорте

Шаблоны данных:
Исправлена ошибка при использовании макроса %data doSelection()%
Исправлена ошибочная работа макроса %data getRssMeta()% 
Исправлено некорректное подключение __custom_data
При создании нового поля по умолчанию создаётся поле типа "строка"
Исправлена ошибка: невозможно переместить группу выше заблокированных системных групп
Регистр при транслитерации идентификаторов в типах данных теперь не учитывается
Исправлена ошибка отображения поля типа "Html-текст", помеченного как "обязательное для заполнения"

Пользователи:
Исправлено: новый пользователь создается неактивным


Структура:
Исправлена ошибка: после перетаскивания страницы в структуре не исчезает синяя полоса.

Комментарии:
Исправлена ошибка отображения при изменении активности комментария


01.03.2010  - Версия 2.8.0
 
Полностью переработан Edit-in-Place:

WYSIWYG:
Блок работы со шрифтами (жирный, курсив, подчёркивание)
Блок выравнивания (Влево, по-центру, справа)
Блок работы со ссылками (создание ссылки должно включать в себя как введение ссылки, так и выбор из дерева сайта, удаление ссылки)
Работа с изображениями
Вставка текста с возможностью очистки от всего форматирования

Работа с полем типа "изображение".

Работа с полем типа "Видео"

Редактирование полей типа "выпадающий список" и "список с множественным выбором", добавление новых элементов в справочники с клиентской части

Работа с полями int, counter, tags, float, price, string, plain-text, boolean

Добавление новых страниц.

Удаление элементов (опционально: в корзину или скрытие).

Перемещение элементов в структуре.

История изменений с возможностью Undo\Redo (до нажатия кнопки "сохранить")

Хоткеи (вкл\выкл режима редактирования, Undo\Redo, выпадение меню для редактирования, сохранение изменений, заметки)


Интернет-магазин - новый модуль emarket:

Заказы: возможность заказа составных товаров

Корзина для гостей (покупка без регистрации).

Оплата: интерфейс для подключения платежных систем, встроенная интеграция с популярными платежными системами (Хронопэй, Яндекс.Деньги, PayOnline), квитанция для оплаты физюлицом.

Доставка: интерфейс для подключения механизмов расчета доставки, встроенная интеграция расчёта доставки почтой России

Скидки: 
Конструктор скидок с гибкой системой настроек:

    * скидки на разделы каталога,
    * на отдельные товары и связанные товары,
    * на сумму заказа и сумму заказов всей истории покупок пользователя,
    * скидки для групп пользователей и отдельных пользователей,
    * скидки по временному интервалу.

Доработка валют (редактируемый список).

Склады: списание со склада при покупке.

Редактирование заказа администратором.



Модуль экспорта/импорта

1. Полная переработка механизмов импорта-экспорта. Разработка формата umiDump 2.0, который позволяет обмениваться не только страницами, но и объектами и даже типами данных.
2. Импорт больших объемов данных на стандартном хостинге
3. Импорт umiDump2.0, CommerceML2.0 (каталог, предложения)
4. Экспорт в umiDump2.0, YandexML, CommerceML2.0 (каталог, предложения, заказы)
5. Поддержка автоматического двустороннего обмена с 1С (Обмен товарами, предложениями, заказами)




Административная часть:

Рефакторинг интерфейса админки - она стала значительно быстрее и легче.

Удалены скины "Легкий" и "Основной".

Массовое выделение и операции с объектами.

Таблицы: редактирование значений полей прямо в таблицах, не заходя в сам объект.

Редактирование типов данных и объектов справочников без перезагрузки.

Переработка элементов управления: выпадающий список, ссылка на дерево, файловый менеджер, права на элемент иерархии.

Рестрикшены (ограничение на содержимое) для полей, например, поле, в которое вводится e-mail

Обновление TinyMCE до актуальной версии

Новый единый файловый менеджер (требование: Flash 9)



Баннеры

При назначении баннера непосредственно на страницу, он "перебивает" баннер на том же месте показа, назначенный на страницу-"родителя"



Система:

Большинство настроек выведены в единый Config.ini

Новый тип Видео и %system getVideoPlayer()%

Изменение файловой структуры системы

Настраиваемая капча
Добавлен параметр /captcha.php?reset для принудительного обновления капчи

Кэширование - оптимизировано и ускорено. Добавлено кэширование, не требующее наличия стандартных кэширующих бэкендов.

Zend Optimizer для работы системы больше не требуется, в том числе и для кодированных версий.

03.09.2009 — Версия 2.7.4
Разное:
На странице с %content redirect()% теперь отдаётся заголовок 301 Moved Permanently.
Добавлена проверка наличия столбца "Название" при импорте из csv.
Исправлены ошибки:
Неверная обработка макросом %content redirect()% протокола https
Окно загрузки картинки открывается очень далеко от кнопки
Автозаполнение полей h1 и altname: при создании страницы все изменения в названии должны отображаться в h1 и altname.
Ряд ошибок при использовании edit-in-place
не сохраняется символ "ї"
Не работает подхватывание дефолтных шаблонов для альтернативных языковых версий.
XSLT-шаблонизатор: Страница контента, если у гостя нет прав для просмотра, отдавался модуль/метод "content/content", исправлено на users/login 
Ошибка при выводе изображения макросом %system makeThumbnail()% 
Не определяется тип файла при экспорте в csv
Адреса дочерних страниц у подразделов Основной страницы некорректно отображаются в %content menu()% 
Структура:
Добавлена возможность массово выделять объекты с помощью shift+click 
Исправлена ошибка с быстрым редактированием страниц по результатам поиска

Шаблоны данных:
Исправлены ошибки:
При добавлении нового склада по умолчанию не подцеплен справочник к полю Город
Отсутствует строка для ввода нового города при создании склада
Форум:
В макросы %forum conf()% и %forum topic()% добавлен третий параметр ignore_context. При значении true этими макросами будут возвращены все конференции или топики вне зависимости от того, где в структуре они расположены.

Пользователи:
Исправлен ряд ошибок в работе с правами.

Опросы:
Исправлена ошибка в механизме защиты от повторного голосования для зарегистрированных пользователей

Пользователи:
XSLT: исправлена работа автоответа и отправки сообщений.
Убрано поле "название" для шаблона письма.
Те формы, которым уже назначен шаблон, удаляются из списка доступных.

Интернет-магазин:
Исправлена некорректная кодировка результатов экспорта в CML Исправлено: После регистрации и последующей авторизации пропадает первая позиция из корзины, наполненной до регистрации.

Рассылки:
Убрана кнопка "Импортировать список подписчиков из CSV".

Блоги 2.0:
Закрыта XSS-уязвимость.

Поиск:
Закрыта XSS-уязвимость.
Исправлено: Под юзером-несупервайзером не происходит ручная переиндексация.

Фотогалереи:
Исправлена неверная работа параметра '?p=all'
Невозможно воспользоваться одним из способов загрузки фотографий в галерею, если пользователь не супервайзер.

25.06.2009 — Версия 2.7.3

Интернет-магазин.
Исправлена некорректная работа импорта товаров в формате CommerceML 2.0
Исправлено некорректное сохранение количества товаров на складах при импорте в формате UMiDump.
Исправлена ошибка: В некоторых случаях показывается пустая страница при просмотре заказа 
Исправлена ошибка: При просмотре заказа не отображаются поля адреса доставки, тип которых "выпадающий список".

Разное:
В дистрибутив демосайта "XSLT-магазин" добавлена фотогалерея.
Исправлен ряд интерфейсных ошибок
Исправлена некорректная работе при вызове метода users restore без параметров.
Исправлена ошибка: При отсутствии элемента в структуре для  XSLT-шаблонизаторе отдавался код ответа сервера 200, а не 404.
Исправлена ошибка: При большом количестве объектов в справочнике они не отображаются в "списке со множественным выбором"
Исправлена ошибка при создании второй заметки в IE.
Исправлена ошибка: при включении фильтра выделение элемента в таблице остается, даже если этот элемент не показывается 
Исправлена ошибка: Если в структуре перенести дочернюю страницу на уровень родительской, а затем удалить родителя, визуально пропадают обе страницы. После обновления старницы "дочерняя" страница показывается.
Исправлена ошибка: При редактировании с помощью Edit-in-Place не стирается первый символ (FireFox)
Исправлен ряд ошибок в верстке демосайтов
Исправлена ошибка: Пользователь без права на публикацию по умолчанию создает активную страницу.

Файловая система:
Исправлена ошибка: При создании файла в новой директории он не становился доступным для скачивания. 
Исправлена ошибка: При переименовании файла точка перед расширением меняется на "_". 

Блоги 2.0 
Добавлен вывод интерфейса редактирования постов и комментариев с клиентской части для XSLT-шаблонизатора.

Обратная связь
В Eventpoint webforms_post добавлен параметр message_id
Исправлена ошибка: Независимо от того, выделен чекбокс или нет, в письме приходит слово "НЕТ".
Исправлена ошибка: Невозможно удалить форму обратной связи.

Шаблоны данных
Исправлена ошибка: Невозможно сохранить "пустое" изображение.
Исправлена ошибка: Дублирование значений в поле типа "Список со множественным выбором"
Исправлена ошибка: Невозможность внести в справочник значения, содержащее символ "+" 

Пользователи:
Запрещено выставление прав доступа в админ-панель для пользователя "Гость".

Рассылки:
Исправлена ошибка: Повторное внесение адреса подписчика при подписке из административной панели.

Комментарии:
Исправлено: В форме добавления комментария панель со смайликами видна только супервайзеру. 

Статистика:
Исправлена ошибка: данные показываются только для основного домена 

Фотогалерея:
Исправлена верстка фотогалерей (попап загрузки zip и массовая закачка)

Баннеры:
Исправлен неверный учет статистики для флеш-баннеров 

Новости:
Исправлена некорректная работа макроса %news related_links()% - вывод новостей в случае, если новость не входит ни в один из сюжетов.


22.04.2009 — Версия 2.7.2

Структура:
Добавлено подключение файла __custom_adm.php в /content/class.php

Шаблоны данных:
В корзине удалённых элементов теперь показывается время удаления элемента.
Исправлена ошибка: Не отображаются подсказки для полей: пароль, выпадающий список, выпадающий список с множественным выбором, ссылка на дерево, html текст.
Исправлена ошибка: переход на главную страницу после удаления элемента в корзине в IE.
Исправлена ошибка: Пропадает аватар при сохранении изменений в настройках пользователя.

Комментарии:
Исправлено неперехваченное исключение при добавлении комментария.

Новости:
Исправлена ошибка с пропаданием сюжетов в новостях.
Исправлена некорректная работа параметр s_days_interval макроса %news lastlist()%
Исправлена ошибка: Невозможно отредактировать сюжеты новостей в редакциях SOHO.
Исправлена ошибка: Не работает вывод новостей с параметрами year, month и day http-запроса.

Блоги 2.0:
В макросы %blogs20 postsList()% и %blogs20 postsByTag()% добавлен новый, третий параметр - limit, позволяющий задать количество выводимых постов.
Добавлен список последних комментариев к блогам в административной панели.

Файловая система:
При переименовывании файлов и папок русские название транслитеруются.
Исправлена ошибка: переход на главную страницу после удаления файла в IE.

Интернет-магазин:
Оптимизирована работа с памятью в функционале корзины.
В курсах валют точность значений увеличена до 5ти знаков после запятой.
Теперь возможен обратный импорт umiDump и CommerceML после экспорта в XML и изменения данных, даже если объекты каталога создавались не импортом. 
При экспорте YML элемент <description>, согласно спецификации, теперь не содержит html-тэгов.
Экспорт YML: Добавлена поддержка элемента available(статус доступности товара - в наличии/на заказ). Значение этого элемента зависит от содержимого поля "Наличе на складах".
Исправлена ошибка в отображении адреса доставки.
Исправлена ошибка: Fatal error: Call to a member function getFieldId() при просмотре заказов.
Исправлена ошибка: При импорте объектов каталога в формате CSV не импортируется путь до изображений в случае, если поле для импорта имеет идентификатор "photo".
Исправлена ошибка: Экспорт производился только для объектов каталога не ниже 2-го уровня вложенности.

Баннеры:
Возвращено поле "Показывать на страницах с тэгами"
Исправлена ошибка: Не отображается баннер при заполненом поле "Показывать пользователям с тэгами".

Пользователи:
При включенной галочке "регистрация без активации" письма о регистрации нового пользователя теперь формируются на основе блоков "mail_registrated_noactivation" и "mail_registrated_subject_noactivation".
Исправлена ошибка: В нкоторых случаях не показываются неактивные пользователи.
				
Каталог:
Корректно обрабатываются ошибки при вводе данных в фильтрах типа "диапазон" каталога.
Исправлена ошибка: Fatal error: Call to a member function getFilePath() on a non-object при редактировании пользователя.

Рассылки:
Добавлена возможность инициировать повтор рассылки в случае, если она прервалась из-за серверной ошибки.
Исправлена ошибка: При наличии кавычек в имени отправителя не отправляются письма рассылки.
Исправлена ошибка: Не связать рассылку с лентой новостей.

Обратная связь:
Теперь значение, которое будет отправляться в письме администратору в случае отмеченного или неотмеченного чекбокса определяется в lang.php модуля webforms ключами boolean_true и boolean_false соответственно.

Другое:
В состав демосайта "Охотницы за привидениями" добавлены XSLT-шаблоны. 
По умолчанию закрыт доступ по http к папкам tpls, xsltTpls, umaps, usels.
Проведена оптимизация работы с базой данных.
Система будет стараться "угадать" оптимальный шаблон для импортируемых страниц.
Добавлено горизонтальное и обратное вертикальное наследование полей в типах данных.
Добавлен механизм, позволяющий отслеживать и предотвращать двойное нажатие на кнопку "Сохранить".
Произведена оптимизация в механизме кросс-доменной авторизации.
Добавлен перехватчик фатальных ошибок.
Теперь, если название объекта очень длинно, при отображении в дереве оно "обрезается".
Теперь, в случае, если у пользователя нет прав на использование заметок или редактирование страниц, то ему не будут показаны соответствующие ссылки в панели быстрого редактирования клиентской части.
Произведена очистка устаревшего неиспользуемого кода в модулях "Статистика", "Пользователи", "Комментарии".
Исправлена ошибка: В панели быстрого администрирования супервайзеру видны модули, которых не должно быть(Free/Lite).
Исправлена ошибка: На демо-сайтах не индексируются поля h1 и content. 
Исправлена ошибка: При импорте atom ленты не импортируется содержимое.
Исправлено неперехваченное исключение при добавлении новости зарегистрированным пользователем (XML-драйвер).
Исправлена ошибка: В редакции SOHO невозможно сменить язык по-умолчанию.
Исправлена ошибка: Остановка Apache при установке локалпака.
Исправлено несколько ошибок инсталлятора для версий php старше 5.2.0.
Исправлена ошибка: При повторном вызове окна Edit-in-place визуальный редактор не отображается.
Добавлена проверка, не позволяющая создать новую страницу без задания названия через Edit-in-Place.
Исправлена ошибка: Выполнение cron.php через шелл отдаёт ошибку о неверном ключе.
Исправлена ошибка: В IE не работают списки со множественным выбором.
Исправлены ошибки при работе с менеджером полей изображений. 
Исправлена ошибка: Код для флеш-плеера, вставляемый с помощью WYSIWYG-редактора, не работает в IE.
Исправлена ошибка: Добавление % в WYSIWYG-редакторе после макроса %content get_page_url() % в IE.
Исправлена ошибка: При наведении на иконку всплывающей подсказки на страницу, которую прокручивали, подсказка показывается сильно выше ожидаемого места (Opera).
Исправлены некоторые проблемы с неотображением изменений при включенном memcached

25.03.2009 — Версия 2.7.1

Новый механизм обновления сайтов. 
Обновление сайта теперь учитывает дополнительно установленные модули. 
Выбор сборки, до которой вы хотите обновиться. 
Значительно увеличена надежность процесса обновления. 
Создан новый инсталлятор, предусматривающий возможность выбора: установить один из трёх демосайтов или пустую систему "без всего лишнего". 

Общесистемное: 
Во всех модулях, использующих табличный вывод данных, добавился импорт и экспорт в формат CSV.
Экспорт данных в YandexML приведен в соответствие с актуальной спецификацией.
Исправлена ошибка при копировании разделов несупервайзером.
Исправлена ошибка при формировании ссылок в пейджере.
Исправлена ошибка возникновения некорректых путей при перемещении объектов.
Исправлена ошибка: Несохранение тэгов на руccком языке.
Закрыта XSS-уязвимость в фильтрах каталога.
Решены проблемы совместимости с IE8.
Добавлена возможность указать domain для выборок usel. 

Статистика:
Добавлена возможность очищать статистику.
Исправлено отображение статистики. 

Новости:
Добавлена возможность делать выборку новостей по годам.
Исправлена ошибка: при выводе нескольких лент новостей одним макросом. 

WYSIWYG:
Исправлена ошибка при добавлении ссылки на изображение в редактирование страницы в IE6. 

Баннеры:
Исправлена ошибка: Невозможность выбрать тип баннера.


25.12.2008 — Версия 2.7.0

Интернет-магазин:
Двусторонняя интеграция с 1С — обмен информацией о товарах и ценах между интернет-магазином и «1С: Предприятие» 
Подключение онлайн-платежей через процессинговый центрChronopay 
Мультивалютность.
Возможность создавать дисконты по диапазону цен/дат в зависимости от суммы заказа. 
Объединение нескольких клиентских заказов в один. 

Блоги 2.0:
Полностью написан новый модуль, призванный полностью заменить предыдущую разработку. 

Обратная связь:
Улучшение юзабилити конструктора форм обратной связи. 

Поиск:
Новый алгоритм модуля «Поиск» и upgrade возможностей. 

Новый модуль «Аудит скорости»
Результат интеграции с сервисом «Разгони свой сайт» ( www.webo.in). 

Фотогалереи:
Вложенные галереи.
Интеграция с сервисом Picasa.
Водяные знаки. 

Другое:
Добавлена поддержка новых кеширующих механизмов - apc, eaccelerator, xcache.
В административном интерфейсе добавлено сжатие содержимого страниц, уменьшен объем и количество подключаемых js-скриптов, а сами файлы сжаты.
Улучшены интерфейсы практически всех модулей.
Резервирование всех файлов сайта.
Возможность делать полей в шаблонах данных и веб-формах обязательными.
Блокировка одновременного редактирования.
Актуальность материалов на сайте.


20.11.2008 — Версия 2.6.8

WYSIWYG:
Устранены проблемы, возникавшие при работе с визуальным редактором в IE(при открытии библиотеки изображений, изменении размеров окна визуального редактора).
Увеличено быстродействие при добавлении изображения в визуальный редактор в IE.
Устранено некорректное распределение прав доступа при использовании библиотеки изображений несупервайзером.
Добавлены сообщения с подтверждением удаления при попытке удалить какой-либо объект в административном интерфейсе. 

Файловая система:
Исправлена проблема возникновения неперехваченного исключения при удалении несуществующего файла.

Edit-in-place:
Устранены проблемы в работе edit-in-place при редактировании новостей и использовании браузера Internet Explorer. 
Устранено наложение полей в фильтрах. 

Интернет магазин:
Исправлена ошибка импорта в интернет-магазине.

Файловая система:
Исправлено отсутствие некоторых полей в интерфейсе редактирования/добавления скачиваемого файла.

Баннеры:
Исправлена проблема с неотображением альтернативного текста для баннера.
28.10.2008 — Версия 2.6.7  скрыть

Проведены работы по оптимизации скорости системы:
Оптимизированы javaскрипты клиентской части;
Исправлены некоторые ошибки механизма файлового кэширования. 

Файловая система:
Выбор скачиваемого файла производится из директории /files. 

Шаблоны данных: 
Исправлена ошибка при загрузке файлов с символами [] в названии; 
Исправлена ошибка с сохранением новых значений справочников при редактировании поля типа "список со множественным выбором". 

Обратная связь: 
Исправлена ошибка с выводом данных из поля типа «Список со множественным выбором», при которой в письме, отправляемом из обратной связи, вместо данных выводилась строка «array»;
Решена проблема с неправильным выводом поля типа «Список со множественным выбором»;
Корректно обрабатывается ошибка при неверном формате вводимой даты. 

Пользователи:
Исправлена ошибка, при которой у Гостя не снимались галочки при редактировании прав;
Решена проблема вставки ссылки на объекты структуры сайта в английской версии админки;
Решена проблема с работой справочников и визуального редактора для несупервайзеров;
Устранена возможность удаления группы по-умолчанию;
Решена проблема, при которой уведомления при регистрации пользователя администратору приходило уведомление без логина пользователя.  

Рассылки:
Исправлены ошибки, возникавшие при отправке рассылок. 

Новости:
Заработал импорт RSS-лент в новости по выполнениию файла cron.php. 

Баннеры:
Решена проблема с отображением баннеров с заполнеными тэгами. 

Интернет-магазин:
Появилось поле «адрес доставки» в скинах Butterfly и Lite;
Устранено предупреждение при импорте из csv. 

Визуальный редактор:
Решена проблема с созданием одного и того же превью для разных файлов с одинаковым названием при загрузке картинок;
Устранена черная рамка при просмотре html-кода в визуальном редактора при использовании Opera. 

Статистика:
Решена проблема с отображением страницы статистики при большом количестве тэгов.

Другое:
Исправлен ряд опечаток и неточностей в административной панели;
Заработал постраничный переход в адинистративной части;
Решен вопрос с сохранением истории изменений для части страниц;
В обработку полей типа «дата» tpl-шаблонизатора добавлен макрос % timestamp % - дата в формате timestamp;
Добавлена возможность изменять размеры визуального редактора.   


03.09.2008 — Версия 2.6.5

Общесистемное:
В связи с некорректной работой убрана галочка «Показывать неотработавшие макросы» - теперь неотработавшие макросы снова показываются всегда.
Исправлена проблема с отработкой кастомных макросов, в названии которых присутствуют цифры. 
Решены проблемы с отработкой вложенных макросов.
Исправлены формы закачки для файлов и флешек.

 

Пользователи:
Исправлена неверная тонкая настройка прав пользователей

Опросы:
Решена проблема отображения результатов опросов для несупервайзеров 

FAQ:
Добавлен параметр ignore_paging в % faq projects() %


14.08.2008 — Версия 2.6.4

Административный интерфейс:
Решена проблема отображения панели быстрого администрирования при использовании IE.
Произошли исправления английского интерфейса.
Дополнительный домен в демо-сайте переименован.
При удалении файлов и папок появляется подтверждение.
Исправлены ошибки в работе «хлебных крошек» в админпанели.
Изменен интерфейс полей типа «изображение» в административной панели. Теперь появилась возможность просмотра изображений и выбора каталога на сервере, где фотография будет храниться.
Изменен интерфейс полей типа «дата» в административной панели. Добавлен календарь.
Решена проблема с разворачиванием дерева после обновления.
Исправлено наименование поля «Название» при редактировании сообщений и рассылок.
Решена проблема с показом списка шаблонов при редактировании страницы при работе UMI.CMS не на стандартном порту. 
Решена проблема с «ломанием» ссылок в визуальном редакторе в IE6.
Исправлена ошибка с Облаком тэгов - добавляются в скинах основной и легкий.
Исправлена ошибка с установкой галочек «Отображать в меню» и «Страница по умолчанию» при добавлении нового блога. 

Общесистемное:
Шаблонизатор корректно отрабатывает кодированные URL.
Решена проблема с работой некоторых макросов, размещенных на одной строке.
Добавлена поддержка Google sitemap. Теперь по адресу http://yourdomain.com/google-sitemap на основе галочек «показывать в меню» будет формироваться xml- файл, описывающий структуру сайта для поисковой системы Google.
В инсталлятор добавлена проверка наличия поддержки XSLT на сервере.
Для страниц с авторизацией теперь отдаётся заголовок 401.
XML-драйвер: корректно работают типы данных, форма обратной связи, фильтр по товарам, решена проблема с показом баннеров, исправлена ошибка с добавлением сообщения в рассылку, проблема с фильтром комментариев.
Корректно работает ограничение на размер закачиваемого файла. 

Новости:
Решена проблема заполнения полей «Дата публикации», «Title», «H1» при импорте RSS. 

Интернет-магазин:
Исправлена ошибка, возникавшая при удалении заказа в модуле интернет магазин в скине Butterfly (выкидывало на авторизацию).
Сделаны изменения в выдаче YandexML в соответствии с рекомендациями Яндекса.
Решена проблема с отправкой писем из Интернет-магазина 

Обратная связь:
Исправления в модуле обратная связь: проблемы с шаблонами писем, «[» во вкладке Сообщения. 

Опросы:
Работают переменные в шаблонах голосований на английской версии. 


25.07.2008 — Версия 2.6.3

Статистика:
Добавлен макрос % stat tagsCloud() % для работы с зеркалами доменов;
Решена проблема с сохранением тегов;
Исправлены js-ошибки в модуле;
В модуле больше не пишется debug-log user agent'ов;
Добавлено сообщение, которое показывает статистика, если отсутствует информация по отчету;

Административный интерфейс:
Исправлены проблемы с панелью быстрого редактирования в локалпаке;
Исправлены ошибки сохранения на некоторых хостингах;
Исправлена ошибка переключения панели быстрого редактирования между языками;
Улучшено отображение адреса доставки в редактировании заказа;
Исправлена ошибка в js, возникающая при попытке свернуть/развернуть некоторые блоки в скине Butterfly;
В скине Lite удалена лишняя кнопка сохранения в шаблонах данных;
Исправлена ошибка в js при редактировании зеркал домена в скине Butterfly;
Исправлена ошибка с одинаковым названием RSS-лент для различных доменов; 

Новости:
Исправлена ошибка добавления новости на некоторых хостингах;
Исправлена ошибка верстки при добавлении новости; 

Форум:
Исправлена ошибка, возникающая при повторной переустановке модуля форум; 

Рассылки:
Исправлено название поля "e-mail" в редактировании подписчика; 

Интернет-магазин:
Исправлена ошибка, связанная с отсутствием прав доступа к макросу % eshop stores_info() %; 

Каталог:
Исправлена опечатка в названии поля при редактировании товара; 

Обратная связь:
Исправлен warning, возникающий на некоторых хостингах при отправке сообщений с веб-форм; 

Файловая система:
Исправлена ошибка закачки файлов в модуле файловой системы; 

Общесистемное:
При вводе лицензионного ключа в install.php теперь корректно обрабатывается кнопка [Enter];
Исправлена ошибка с ulangStream на некоторых хостингах;
Оптимизированы запросы, которые выполняются при сохранении пользователя. 


18.07.2008 — Версия 2.6.2

Общесистемное:
Изменено название файлов лога системы (/errors/logs/)
Административный интерфейс:
Исправлена ошибка с раскрытием/скрытием справки в скинах Основной и Лёгкий.
Исправлены проблемы с быстродействием.


WYSIWYG:
Исправлена ошибка при редактировании картинок и ссылок в визуальном редакторе при использовании IE 6.
Макросы: 
Исправлена Тег [nontagged] и ошибка при использовании % content tagsDomainUsageCloud() %. 

Блоги:
Исправлена ошибка невозможности добавить сообщение блога через админку.

Новости:
Появилась возможность добавления новости в конец списка (как и раньше, новость будет появляться в начале). 

Каталог:
Появилась возможность создавать Notice при использовании % catalog searсh() %
Добавлено сообщение «недостаточно прав» при добавлении объекта каталога, рассылки, блогов, баннеров.

Обратная связь:
Исправлены проблемы «Обратной связи»
Исправлена ошибка при добавлении новости «Division by zero».

FAQ: 
Исправлена ошибка «Неперехваченное исключение» в модуле FAQ после нажатия на кнопку «Добавить категорию вопросов».

Пользователи:
Устранена проблема при регистрации пользователя с неправильно заполненным полем e-mail и в случае, если поля «пароль» и «подтверждение пароля» не совпадают.
Исправлена ошибка при редактировании страниц, созданных другим супервайзером.
Добавлено сообщение Undefined index: forget_login на странице восстановления пароля.


09.07.2008 — Версия 2.6.1

Административный интерфейс:
В скинах Lite и Butterfly убрано ненужное поле с выбором разделов сайта.
Скорректирована кнопка «войти» при авторизации в административном интерфейсе (скин Butterfly, браузер Firefox).
Скорректирован вид полей для ввода логина пароля в административную часть IE7 (скин Butterfly). 
Исправлена работа кнопок «добавить» и «сохранить» в скине Butterfly. 
Исправлена верстка кнопок в Safari, скин Butterfly.
Исправлена верстка кнопки «войти» при авторизации в административном интерфейсе.
Исправлена верстка при добавлении шаблона письма в скине Butterfly.
Исправлена ошибка с отображением некоторых полей в Opera. 
Решен вопрос вывода всех полей в шаблоне данных для страниц сайта.
Исправлено написание групп пользователей в скине Butterfly.
Исправлены чекбоксы прав, появляющиеся в скине Butterfly, при добавлении нового пользователя. 
Устранена проблема, связанная с отображением полей редактирования в скине Lite в браузере Safari. 
Исправлена верстка в скине Lite в браузере Safari. 
Исправлена ошибка верстки (смещение вкладок), возникавшая при просмотре формы редактирования таблицы (в браузере Opera) 
Исправлена некорректная верстка в скине Lite в браузерах Opera и Safari. 
Скорректирован цвет названия домена в структуре интерфейса Lite.
Исправлена ошибка при вводе некорректного URL в административном интерфейса (выкидывала на авторизацию).
Устранена ошибка: Warning: Invalid argument supplied for for each in при попытке назначить шаблон дизайна 
Решена проблема, при которой при наведении на виртуальную копию двигался весь список страниц. 
В административном интерфейсе добавлен вывод пэйджинга в справочниках.
«Корзина» переименована в Trash в английском административном интерфейсе.
Устранена ошибка вывода неверного заголовка при авторизации в ряде случаев. 
Скорректировано отображение страницы с длинным названием. 
Исправлена верстка авторизации в административной части IE7 (скин Butterfly).
Устранена ошибка, которая возникала при создании нескольких страниц с одним псевдостатическим адресом.
Устранена проблема с работой кнопок в административном интерфейсе, возникавшая в браузере Firefox 3.
Исправлена иконка модуля SEO в английском административном интерфейсе в скине Butterfly.
Исправлена ошибка с добавлением домена в скине Butterfly.
В скине Butterfly проценты скидки нельзя установить больше 100%.
Устранена проблема с исчезновением используемых страниц, возникавшая при редактировании шаблона страницы.
Скорректировано отображение кнопок при редактировании пользователя.
Решена проблема с загрузкой изображения при редактировании элемента справочника.
Устранена ошибка php, которая возникала при вводе неверных данных в поле даты.

Баннеры:
Исправлена ошибка с отображением баннеров. 
Устранена ошибка отображения баннеров в ряде случаев при удалении всех страниц демо-сайта. 

Пользователи:
Решена проблема с добавлением вариантов ответа зарегистрированным пользователем со всеми правами на модуль «Опрос».
Пользователю с правами на модуль «Поиск» дано разрешение очищать индексную таблицу.
Устранена проблема, появлявшаяся при добавлении пользователя в версии локалпак в режиме xml-драйвера. 
Устранена ошибка, при которой при редактировании пользователя не сохранялись поля «имя», «отчество». 

Рассылки:
Исправлена ошибка, возникавшая при удалении ленты рассылки.
Устранена ошибка с прикреплением файла к сообщению рассылки. 

Новости:
Решена проблема - в структуре демо-сайта – не разворачивалась ветка "Политические новости".
Решена проблема подписей полей «анонс новости» и «текст новости».
Устранены warning'и при импорте rss ленты в режиме xml-драйвера.
Исправлена ошибка при удалении ленты новостей. 

Обратная связь:
Разрешен вопрос совместимости макроса обратной связи с предыдущей версией. 
Исправлена ошибка с добавлением адресата в модуле «Обратная связь».

WYSIWYG:
Устранена ошибка визивига при работе со ссылками вида <a href="/downloads/test_umicms/"> 

Edit-in-place:
Решена проблема, связанная с удалением темы на форуме в режиме Edit-in-place.
Решен вопрос с удалением комментария в режиме Edit-in-place
Исправлены ошибки, возникавшие при Редактировании текста со ссылками в режиме Edit-in-place. 

Установка:
Устранена проблема, связанная с зависанием установки дистрибутива в режиме xml-драйвера.
Решена проблема с прерыванием установки при наличии readme.txt.
Решен вопрос добавления readme.txt в дистрибутив.
Скорректирована работы установки версии локалпак: неправильные логин; пароль и БД для mysql
Исправлена ошибка ввода пароля на 7 шаге установки. 

Каталог:
Notice в каталоге отображаются корректно.
Устранена Fatal error при редактировании товаров каталога в версии локалпак в режиме xml-драйвера. 

Интернет-магазин:
Поставить отрицательную цену стало невозможно. 
Устранены ошибки php, возникавшие при оформлении заказа гостем в модуле «Интернет-магазин». 

Поиск:
Устранена ошибка php, которую выдавал макрос в поиске. 

Статистика:
Исправлена ошибка, связанной с отработкой тегов при их вводе в поле h1.


25.06.2008 — Версия 2.6

Пользователи:
Сессия пользователя поддерживается автоматически, пока клиент online
Авторизация одновременно на всех доменах одной лицензии Оптимизирована система назначения прав доступа. 

Новости:
Импорт RSS новостей из сторонних источников в ленты новостей 

Рассылки:
Возможность связывать рассылки с лентами новостей. Возможность управлять активностью рассылки. 

Административный интерфейс:
Все поля теперь модифицируемы.
Появилась возможность задавать и редактировать дефолтные значения для полей страниц сайта.
Возможность локализации — административный интерфейс можно перевести на любой язык 

Обратная связь:
Добавлен макрос % webforms add()%
Возможность создавать создавать веб-формы из админ-панели
Все сообщения сохраняются в базе (при использовании макроса % webforms add()%) 

Интернет-магазин:
Совместимость с 1С — обеспечена выгрузка на сайт каталога товаров из 1С по стандарту Commerce ML1.0 и 2.0. 

XML-драйвер:
XML-драйвер - альтернатива базы данных для небольших объемов информации. 

WYSIWYG:
Появилась возможность «тонкой»настройки визуального редактора. 

Другое:
Внедрен инструмент Edit-in-Place.
Упростился процесс разработки дополнительных скинов.
Упрощен процесс создания новых модулей.
Обновлена документация. 


28.02.2008 — Версия 2.5.3

WYSIWYG
Решена проблема с работой курсора в редакторе, возникающая при повторном добавлении ссылки.
Решена проблема с видоизменением ссылки, возникающая после просмотра html-кода.
Скорректирована функция добавления ссылок в браузере IE.
Исправлена ошибка со вставкой медиафайла.
Стало возможным сохранение форматирования в режиме просмотра html-кода.
В скине Lite налажена работа редактора в полном режиме.
Добавлена возможность закрытия всплывающего окна по нажатию Esc.

Интернет-магазин:
Исправлена ошибка при генерации YML-файла.

Пользователи:
Решена проблема назначения прав пользователей в модуле «Опросы».
Устранена ошибка при создании блога из настроек пользователя. 

Другое:
Убран бордер вокруг картинки облака тегов в скине Lite.
Устранена проблема с командой urlencode в админ-панели.
Устранена ошибка, возникающая при удалении английской языковой версии и всех страниц структуры.
Решен вопрос нехватки памяти для обновлений.
11.03.2008 — Версия 2.5.2 скрыть

Пользователи:
В случае, если пользователь не имеет прав на просмотр структуры сайта в административном интерфейсе, но имеет право на работу в определенном модуле, при авторизации в административный интерфейс ему будет показываться этот модуль. 

Блоги:
Решены проблемы работы модуля с XSLT-шаблонизатором. 

Комментарии:
Введена проверка на пустые поля. Если в комментарии не заполнен ни заголовок, ни тело, пользователю выдается сообщение об ошибке (в шаблонах должен быть прописан механизм отлова ошибок, смотри описание % system listErrorMessages()%). 

WYSIYYG:
Устранены ошибки при вставке ссылок в визуальном редакторе. 

Другое:
Модернизирован механизм файлового кэширования.
Введено ограничение на максимальное значение полей "цена" и "число с плавающей точкой" — 999999999.99.
Исправлена ошибка при обработке отсутствия шаблона письма (/tpls/mail/default.tpl).
Устранены ошибки при вставке ссылок в визуальном редакторе.


28.02.2008 — Версия 2.5.0

Добавлены модули:
SEO
GeoIP — позволяет узнать, какому городу принадлежит заданный IP и дополняет функционал других модулей (Статистика, Баннеры).
Новый WYSIWYG-редактор 

Структура и WYSIWYG-редактор:
Добавлена новая система группового назначения шаблонов.
Исправлена проблема с попаданием лишних символов в URL.
При создании страниц появилась возможность скрыть ненужные поля, оставив только название страницы и WYSIWYG-редактор.
Для WYSIWYG-редактора разработан интерфейс управления картинками на сайте.
Добавлена возможность создания thumbnail "на лету".
Добавлен интерфейс работы с таблицами, с возможностью их создания, редактирования и т.п. 
Добавлена возможность вставки разнообразных медиа-файлов: flash, quicketime, shockwave и др. 
Для ссылок можно указать дополнительные параметры, в том числе яваскрипт-функции.
Добавлена функция вставки якорей для страницы и интегрирована с функцией вставки ссылки. 
Модернизирована очистка текста при вставке из MS Word
Расширена библиотека символов, которые могут быть вставлены в текст

Статистика:
Внедрена новая технология – FLEX.
Добавился отчет по географическому распределению посетителей (при наличии модуля GeoIP).
Добавился отчет, связывающий точки входа и выхода рефереров.
Появилась возможность выбрать домен, по которому отображать информацию.
Переделан механизм работы модуля при наличии нескольких доменов.

Добавлены макросы:
% content pagesByDomainTags()% - выводит элементы иерархии (страницы сайта), которым назначен один из указанных тегов, на основании анализа страниц текущего домена.
% content tagsAccountCloud()% - выводит облако тегов аккаунта (всех сайтов системы).
% content tagsDomainEfficiencyCloud()% -выводит облако эффективности тегов текущего домена.
% content tagsDomainUsageCloud()% - выводит облако используемых тегов текущего домена.
% content pagesByAccountTags()% - выводит элементы иерархии (страницы сайта), которым назначен один из указанных тегов, на основании анализа страниц всего аккаунта (всех доменов системы). 
% content tagsAccountEfficiencyCloud()% - выводит облако эффективности тегов аккаунта (всех сайтов системы).
% content tagsAccountUsageCloud()% - выводит облако используемых тегов аккаунта (всех сайтов системы).
% content tagsDomainCloud()% - выводит облако тегов текущего домена. 

SEO:
Появилась возможность просмотра ТИЦ, PR и WR.
Отслеживание наличия сайта в каталогах.
Отслеживание позиций своего сайта по разным поисковым запросам.
Появилась возможность отслеживать обратные ссылки на сайт
Появилась возможность отслеживать сайты-конкуренты по ключевым запросам 

Файловая система:
Исправлена критическая уязвимость с возможностью загрузки файлов с расширением *.php3
Исправлена ошибка с закачкой файлов с расширением .jpeg. 

Новости:
Добавлен аргумент в макрос % news lastlist()% ignore_paging - булево значение (1 или 0), указывающее макросу игнорировать значение текущей страницы списка вывода (параметр http-запроса 'p'). 
Добавлен аргумент в макрос % news lastlist()% s_days_interval - строка, определяющая временной интервал по отношению к моменту начала отработки макроса, которым следует ограничить список выводимых новостей, а также порядок вывода новостей. 

Баннеры:
Появилась возможность City-таргетинга. 

Каталог:
В блоках objects_block_empty и category_block_empty включена поддержка % id%.
Исправлена ошибка в блоке category_block 

Комментарии:
Исправлена ошибка с перенаправлением после добавления нового комментария на дополнительных языковых версиях сайта. 

Интернет-магазин:
Обновлена функция импорта товаров в Яндекс-маркет, соответствующая новым возможностям Яндекса. 

Другое:
Добавлено состояние in_path в % content menu()% - отвечает за вывод отдельного пункта меню в том случае, выводимая страница является родительской страницей по отношению к текущей странице, то есть активен его дочерний элемент. 
Обновлена функция импорта товаров в Яндекс-маркет, соответствующая новым возможностям Яндекса. 
Добавлено новое событие "core sendmail", оно происходит каждый раз при отправке любого письма из системы (используя API).
Для модулей Новости, Каталог, Магазин добавлены файлы для добавления кастомных макросов в административную панель.
Исправлена ошибка, когда при импорте для элементов назначения "страница контента" не проставлялись права. Решена проблема с отработкой макросов, расположенных на одной строке.
Исправлена ошибка с cfg.pageStyle в административной панели
Исправлен ряд интерфейсных ошибок в скинах «Основной» и «Легкий»
Обновлена документация
Произведен рефакторинг ядра системы 


16.01.2008 — Версия 2.3.3.9

xslt-шаблонизатор:
Добавлена новая схема "umap://"
Добавлена поддержка вывода содержания свойств в виде xml, если они well-formed xml . 

Поиск:
Добавлен параметр для поиска разделов определённого типа: search_types. (Например, поиск всех новостей со словом "cms": /search/search_do/?search_string=cms&search_types[]=10). 

Интернет-магазин:
Добавлен параметр %par% в блок compare_block_line в шаблонах /tpls/eshop/compare/. Макрос возвращает "1" для чётных строк и "0" для нечётных. Удобно использовать в css, для применения разных стилей чётных и нёчетных строк.
В шаблонах дистрибутива для ссылок вида <a href="/eshop/addToCompare/49287/"> поставлен атрибут nofollow. 

Каталог:
Исправлена ошибка в обработке чисел с плавающей запятой в поле типа "Цена" Решена проблема обработки %per_page% в шаблонах. 

Пользователи:
Добавлено использование параметра в адресной строке макросом %users profile() %. Id пользователя должен быть указан в первом параметре страницы, которая выводит профиль пользователя, используя данный макрос. Например: /sample_profile/user_id, где user_id — это id пользователя, профиль которого необходимо показать. 

FAQ:
Решена проблема обработки %per_page% в шаблонах. 

Новости:
Решена проблема: Не работало ограничение limit в %news related_links() %. 

Комментарии:
Решена проблема: Модуль комментариев не сохранял (или потом не выводил через %users viewAuthor(%author_id%) % ни nickname, ни e-mail гостевого пользователя. 

Файловая система:
Исправлена ошибка с закачкой файла в английской версии.

