<?php
 abstract class __events_config {public function systemEventsNotify(iUmiEventPoint $v4119639092e62c55ea8be348e4d9260d) {$v53cc4db543d7a569e51c1d76ac6f278e = $v4119639092e62c55ea8be348e4d9260d->getEventId();$v1f759b7790a78d59b4cd9448e533b5df = $v1f759b7790a78d59b4cd9448e533b5df = 'event-' . $v53cc4db543d7a569e51c1d76ac6f278e . '-title';$v8f883ef37ded0e9f99b69ccafd927f16 = 'event-' . $v53cc4db543d7a569e51c1d76ac6f278e . '-content';$vd5d3db1765287eef77d7927cc956f50a = getLabel($v1f759b7790a78d59b4cd9448e533b5df, 'common/content/config');$v9a0364b9e99bb480dd25e1f0284c8555 = getLabel($v8f883ef37ded0e9f99b69ccafd927f16, 'common/content/config');if($v1f759b7790a78d59b4cd9448e533b5df == $vd5d3db1765287eef77d7927cc956f50a) {return;}if($v8e2dcfd7e7e24b1ca76c1193f645902b = $v4119639092e62c55ea8be348e4d9260d->getRef('element')) {$vb81ca7c0ccaa77e7aa91936ab0070695 = umiHierarchy::getInstance();$v7d489d6da124194c4a6de82576a7c094 = $vb81ca7c0ccaa77e7aa91936ab0070695->forceAbsolutePath(true);$v21ffce5b8a6cc8cc6a41448dd69623c9 = array(     '%page-name%' => $v8e2dcfd7e7e24b1ca76c1193f645902b->name,     '%page-link%' => $v8e2dcfd7e7e24b1ca76c1193f645902b->link    );$vb81ca7c0ccaa77e7aa91936ab0070695->forceAbsolutePath($v7d489d6da124194c4a6de82576a7c094);}else $v21ffce5b8a6cc8cc6a41448dd69623c9 = array();if($va8cfde6331bd59eb2ac96f8911c4b666 = $v4119639092e62c55ea8be348e4d9260d->getRef('object')) {$v21ffce5b8a6cc8cc6a41448dd69623c9['%object-name%'] = $va8cfde6331bd59eb2ac96f8911c4b666->name;$v0e8133eb006c0f85ed9444ae07a60842 = umiObjectTypesCollection::getInstance();$v726e8e4809d4c1b28a6549d86436a124 = $v0e8133eb006c0f85ed9444ae07a60842->getType($va8cfde6331bd59eb2ac96f8911c4b666->getTypeId());if($vacf567c9c3d6cf7c6e2cc0ce108e0631 = $v726e8e4809d4c1b28a6549d86436a124->getHierarchyTypeId()) {$v6942e8fa62b3cc9d93881a58210e2fd7 = umiHierarchyTypesCollection::getInstance();$v89b0b9deff65f8b9cd1f71bc74ce36ba = $v6942e8fa62b3cc9d93881a58210e2fd7->getType($vacf567c9c3d6cf7c6e2cc0ce108e0631);$v21ffce5b8a6cc8cc6a41448dd69623c9['%object-type%'] = $v89b0b9deff65f8b9cd1f71bc74ce36ba->getTitle();}}$vd5d3db1765287eef77d7927cc956f50a = str_replace(array_keys($v21ffce5b8a6cc8cc6a41448dd69623c9), array_values($v21ffce5b8a6cc8cc6a41448dd69623c9), $vd5d3db1765287eef77d7927cc956f50a);$v9a0364b9e99bb480dd25e1f0284c8555 = str_replace(array_keys($v21ffce5b8a6cc8cc6a41448dd69623c9), array_values($v21ffce5b8a6cc8cc6a41448dd69623c9), $v9a0364b9e99bb480dd25e1f0284c8555);$this->dispatchSystemEvent($vd5d3db1765287eef77d7927cc956f50a, $v9a0364b9e99bb480dd25e1f0284c8555);}public function dispatchSystemEvent($vd5d3db1765287eef77d7927cc956f50a, $v9a0364b9e99bb480dd25e1f0284c8555) {$v972af69bf73f8ad23a446a346a6f0fff = $this->getSystemEventRecipients();if(sizeof($v972af69bf73f8ad23a446a346a6f0fff)) {$vde70938849b75d3db63bba421c93e018 = umiMessages::getInstance();$v78e731027d8fd50ed642340b7c9a63b3 = $vde70938849b75d3db63bba421c93e018->create();$v78e731027d8fd50ed642340b7c9a63b3->setTitle($vd5d3db1765287eef77d7927cc956f50a);$v78e731027d8fd50ed642340b7c9a63b3->setContent($v9a0364b9e99bb480dd25e1f0284c8555);$v78e731027d8fd50ed642340b7c9a63b3->setType("sys-log");$v78e731027d8fd50ed642340b7c9a63b3->commit();$v78e731027d8fd50ed642340b7c9a63b3->send($v972af69bf73f8ad23a446a346a6f0fff);}}public function getSystemEventRecipients() {$permissions = permissionsCollection::getInstance();$v642ab4a777b74a9f5ea81e807bea7b67 = $permissions->getUserId();$v8be74552df93e31bbdd6b36ed74bdb6a = new selector('objects');$v8be74552df93e31bbdd6b36ed74bdb6a->types('object-type')->name('users', 'user');$v8be74552df93e31bbdd6b36ed74bdb6a->where('groups')->equals(SV_GROUP_ID);$result = array(SV_GROUP_ID);foreach($v8be74552df93e31bbdd6b36ed74bdb6a as $vee11cbb19052e40b07aac0ca060c23ee) {if($vee11cbb19052e40b07aac0ca060c23ee->id != $v642ab4a777b74a9f5ea81e807bea7b67) {$result[] = $vee11cbb19052e40b07aac0ca060c23ee->id;}}return $result;}};?>