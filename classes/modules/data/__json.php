<?php
class __json_data {public function json_move_field_after() {$v3aabf39f2d943fa886d86dcbbee4d910 = getRequest('param0');$vdad657587aa8d2135873a994bcf4ba3f = getRequest('param1');$v3f84b203eef48e9862ac1ffbe344dffe = getRequest('param2');$v94757cae63fd3e398c0811a976dd6bbe = getRequest('param3');$vfcd4b86e12c95a57c24239e8a4125360 = false;if($v3f84b203eef48e9862ac1ffbe344dffe != "false") {$v5f2444d49c5d43b9cf7a3d7174b983f1 = $v3f84b203eef48e9862ac1ffbe344dffe;}else {$vac5c74b64b4b8352ef2f181affb5ac2a = <<<SQL
SELECT fc.group_id FROM cms3_object_field_groups ofg, cms3_fields_controller fc WHERE ofg.type_id = '{$v94757cae63fd3e398c0811a976dd6bbe}' AND fc.group_id = ofg.id AND fc.field_id = '$vdad657587aa8d2135873a994bcf4ba3f'
SQL;   $result = l_mysql_query($vac5c74b64b4b8352ef2f181affb5ac2a);list($v5f2444d49c5d43b9cf7a3d7174b983f1) = mysql_fetch_row($result);}$vac5c74b64b4b8352ef2f181affb5ac2a = <<<SQL
SELECT fc.group_id FROM cms3_object_field_groups ofg, cms3_fields_controller fc WHERE ofg.type_id = '{$v94757cae63fd3e398c0811a976dd6bbe}' AND fc.group_id = ofg.id AND fc.field_id = '$v3aabf39f2d943fa886d86dcbbee4d910'
SQL;   $result = l_mysql_query($vac5c74b64b4b8352ef2f181affb5ac2a);list($v0e939a4ffd3aacd724dd3b50147b4353) = mysql_fetch_row($result);if($v3f84b203eef48e9862ac1ffbe344dffe == "false") {$vfcd4b86e12c95a57c24239e8a4125360 = $vdad657587aa8d2135873a994bcf4ba3f;}else {$vac5c74b64b4b8352ef2f181affb5ac2a = "SELECT field_id FROM cms3_fields_controller WHERE group_id = '{$v0e939a4ffd3aacd724dd3b50147b4353}' ORDER BY ord DESC LIMIT 1";$result = l_mysql_query($vac5c74b64b4b8352ef2f181affb5ac2a);if(mysql_num_rows($result)) {list($vfcd4b86e12c95a57c24239e8a4125360) = mysql_fetch_row($result);}else {$vfcd4b86e12c95a57c24239e8a4125360 = 0;}}$v9b207167e5381c47682c6b4f58a623fb = (string) (int) umiObjectTypesCollection::getInstance()->getType($v94757cae63fd3e398c0811a976dd6bbe)->getFieldsGroup($v0e939a4ffd3aacd724dd3b50147b4353)->moveFieldAfter($v3aabf39f2d943fa886d86dcbbee4d910, $vfcd4b86e12c95a57c24239e8a4125360, $v5f2444d49c5d43b9cf7a3d7174b983f1, ($v3f84b203eef48e9862ac1ffbe344dffe != "false") ? false : true);$v9b207167e5381c47682c6b4f58a623fb = "";$this->flush($v9b207167e5381c47682c6b4f58a623fb);}public function json_move_group_after() {$v0e939a4ffd3aacd724dd3b50147b4353 = getRequest('param0');$vc70b36d03bfa9bffff29ff473df162d3 = getRequest('param1');$v94757cae63fd3e398c0811a976dd6bbe = getRequest('param2');if($vc70b36d03bfa9bffff29ff473df162d3 != "false") {$vac5c74b64b4b8352ef2f181affb5ac2a = "SELECT ord FROM cms3_object_field_groups WHERE type_id = '{$v94757cae63fd3e398c0811a976dd6bbe}' AND id = '{$vc70b36d03bfa9bffff29ff473df162d3}'";$result = l_mysql_query($vac5c74b64b4b8352ef2f181affb5ac2a);if(!(list($vf2400bf3c8b70283e04af07d6d67fe6a) = mysql_fetch_row($result))) {$vf2400bf3c8b70283e04af07d6d67fe6a = 0;}}else {$vac5c74b64b4b8352ef2f181affb5ac2a = "SELECT MAX(ord) FROM cms3_object_field_groups WHERE type_id = '{$v94757cae63fd3e398c0811a976dd6bbe}'";$result = l_mysql_query($vac5c74b64b4b8352ef2f181affb5ac2a);if(list($vf2400bf3c8b70283e04af07d6d67fe6a) = mysql_fetch_row($result)) {$vf2400bf3c8b70283e04af07d6d67fe6a += 5;}else {$vf2400bf3c8b70283e04af07d6d67fe6a = 5;}}$vac5c74b64b4b8352ef2f181affb5ac2a = "SELECT id FROM cms3_object_field_groups WHERE type_id = '{$v94757cae63fd3e398c0811a976dd6bbe}' AND ord < '$vf2400bf3c8b70283e04af07d6d67fe6a' ORDER BY ord DESC LIMIT 1";$result = l_mysql_query($vac5c74b64b4b8352ef2f181affb5ac2a);if(!(list($v6cce2c9059a2269d42977dc4cec8f099) = mysql_fetch_row($result))) {$v6cce2c9059a2269d42977dc4cec8f099 = 0;}umiObjectTypesCollection::getInstance()->getType($v94757cae63fd3e398c0811a976dd6bbe)->setFieldGroupOrd($v0e939a4ffd3aacd724dd3b50147b4353, $vf2400bf3c8b70283e04af07d6d67fe6a, ($vc70b36d03bfa9bffff29ff473df162d3 == "false") ? true : false);$this->flush();}public function json_delete_field() {$v3aabf39f2d943fa886d86dcbbee4d910 = getRequest('param0');$v94757cae63fd3e398c0811a976dd6bbe = getRequest('param1');$vac5c74b64b4b8352ef2f181affb5ac2a = "SELECT fc.group_id FROM cms3_object_field_groups ofg, cms3_fields_controller fc WHERE ofg.type_id = '{$v94757cae63fd3e398c0811a976dd6bbe}' AND fc.group_id = ofg.id AND fc.field_id = '{$v3aabf39f2d943fa886d86dcbbee4d910}'";$result = l_mysql_query($vac5c74b64b4b8352ef2f181affb5ac2a);list($v0e939a4ffd3aacd724dd3b50147b4353) = mysql_fetch_row($result);umiObjectTypesCollection::getInstance()->getType($v94757cae63fd3e398c0811a976dd6bbe)->getFieldsGroup($v0e939a4ffd3aacd724dd3b50147b4353)->detachField($v3aabf39f2d943fa886d86dcbbee4d910);$this->flush();}public function json_delete_group() {$v0e939a4ffd3aacd724dd3b50147b4353 = getRequest('param0');$v94757cae63fd3e398c0811a976dd6bbe = getRequest('param1');umiObjectTypesCollection::getInstance()->getType($v94757cae63fd3e398c0811a976dd6bbe)->delFieldsGroup($v0e939a4ffd3aacd724dd3b50147b4353);$this->flush("");}public function json_load_hierarchy_level() {$v3aabf39f2d943fa886d86dcbbee4d910 = (string) getRequest('param0');$v6be379826b20cc58475f636e33f4606b = (int) getRequest('param1');$v662cbf1253ac7d8750ed9190c52163e5 = (int) getRequest('param2');if(((string) $v662cbf1253ac7d8750ed9190c52163e5) != getRequest('param2')) {$vf9b9218cbe221f8b9f1292474aa6f3e4 = getRequest('param2');$v662cbf1253ac7d8750ed9190c52163e5 = domainsCollection::getInstance()->getDomainId($vf9b9218cbe221f8b9f1292474aa6f3e4);}$v662cbf1253ac7d8750ed9190c52163e5 = $v662cbf1253ac7d8750ed9190c52163e5 ? $v662cbf1253ac7d8750ed9190c52163e5 : false;$v8be74552df93e31bbdd6b36ed74bdb6a = new umiSelection;$v8be74552df93e31bbdd6b36ed74bdb6a->setDomainId($v662cbf1253ac7d8750ed9190c52163e5);$vdad8db09124c43be9156ca0e7596fc04 = getRequest('element-types');if(is_array($vdad8db09124c43be9156ca0e7596fc04)) {$v5d879fd1adf0699210656315aa4dd0d8 = true;foreach($vdad8db09124c43be9156ca0e7596fc04 as $v94efb9bd8805ffa2a3d248cbe836b6ef) {$v8be74552df93e31bbdd6b36ed74bdb6a->addElementType($v94efb9bd8805ffa2a3d248cbe836b6ef);}if($v6be379826b20cc58475f636e33f4606b == 0) {$v8be74552df93e31bbdd6b36ed74bdb6a->optimize_root_search_query = true;}}else {$v5d879fd1adf0699210656315aa4dd0d8 = false;}$v6387e89ea8896e0478ffd442843ce996 = clone $v8be74552df93e31bbdd6b36ed74bdb6a;$v8be74552df93e31bbdd6b36ed74bdb6a->addHierarchyFilter($v6be379826b20cc58475f636e33f4606b);$result = umiSelectionsParser::runSelection($v8be74552df93e31bbdd6b36ed74bdb6a);$v9b207167e5381c47682c6b4f58a623fb = "var res = new Array();\n";$vb81ca7c0ccaa77e7aa91936ab0070695 = umiHierarchy::getInstance();if($v6be379826b20cc58475f636e33f4606b != 0) {$vdb5471b66339812265d1c290a7fed5a3 = $vb81ca7c0ccaa77e7aa91936ab0070695->getParent($v6be379826b20cc58475f636e33f4606b);$v9b207167e5381c47682c6b4f58a623fb .= "res[res.length] = new Array('{$vdb5471b66339812265d1c290a7fed5a3}', '..');\n";}foreach($result as $v7057e8409c7c531a1a6e9ac3df4ed549) {$v8e2dcfd7e7e24b1ca76c1193f645902b = $vb81ca7c0ccaa77e7aa91936ab0070695->getElement($v7057e8409c7c531a1a6e9ac3df4ed549);if($v8e2dcfd7e7e24b1ca76c1193f645902b instanceof umiHierarchyElement == false) {continue;}$vb068931cc450442b63f5b3d276ea4297 = $v8e2dcfd7e7e24b1ca76c1193f645902b->getName();$vb068931cc450442b63f5b3d276ea4297 = mysql_escape_string($vb068931cc450442b63f5b3d276ea4297);if($v5d879fd1adf0699210656315aa4dd0d8) {$vca7b4c69e7febea73d352081fb67746a = clone $v6387e89ea8896e0478ffd442843ce996;$vca7b4c69e7febea73d352081fb67746a->optimize_root_search_query = false;$vca7b4c69e7febea73d352081fb67746a->addHierarchyFilter($v7057e8409c7c531a1a6e9ac3df4ed549);$vcb5bf5680e70aeb84fd8d27c2796b463 = umiSelectionsParser::runSelectionCounts($vca7b4c69e7febea73d352081fb67746a);}else {$vcb5bf5680e70aeb84fd8d27c2796b463 = $vb81ca7c0ccaa77e7aa91936ab0070695->getChildsCount($v7057e8409c7c531a1a6e9ac3df4ed549, true, true, 1, false, $v662cbf1253ac7d8750ed9190c52163e5);}if($vcb5bf5680e70aeb84fd8d27c2796b463) {$vb068931cc450442b63f5b3d276ea4297 .= " ({$vcb5bf5680e70aeb84fd8d27c2796b463})";}$v9b207167e5381c47682c6b4f58a623fb .= "res[res.length] = new Array('{$v7057e8409c7c531a1a6e9ac3df4ed549}', '{$vb068931cc450442b63f5b3d276ea4297}');\n";}$v9b207167e5381c47682c6b4f58a623fb .= "window.symlinkInputCollectionInstance.getObj('{$v3aabf39f2d943fa886d86dcbbee4d910}').onLoad(res);\n";header("Content-type: text/javascript; charset=utf-8");$this->flush($v9b207167e5381c47682c6b4f58a623fb);}}?>