<?php
 abstract class __list_users {public function list_users($v66f6181bcb4cff4cd38fbc804a036db6 = "default", $v9d85c254b5062e518a134a61950999c3 = 10) {list($v364f9b183bd2dd9e0beb45c754830a6c, $vbb8360a6427003afe6c4f51e25f7a0e1) = $this->loadTemplates("./tpls/users/list_users/{$v66f6181bcb4cff4cd38fbc804a036db6}.tpl", "block", "block_item");$vfca1bff8ad8b3a8585abfb0ad523ba42 = Array();$ve1ba980ce14a8c0d7e2779f895ab8695 = (int) getRequest('p');$v94757cae63fd3e398c0811a976dd6bbe = umiObjectTypesCollection::getInstance()->getBaseType("users", "user");$v599dcce2998a6b40b1e38e8c6006cb0a = umiObjectTypesCollection::getInstance()->getType($v94757cae63fd3e398c0811a976dd6bbe);$v49609ac644997049c84839939306fec1 = $v599dcce2998a6b40b1e38e8c6006cb0a->getFieldId('is_activated');$v8be74552df93e31bbdd6b36ed74bdb6a = new umiSelection;$v8be74552df93e31bbdd6b36ed74bdb6a->addLimit($v9d85c254b5062e518a134a61950999c3, $ve1ba980ce14a8c0d7e2779f895ab8695);$v8be74552df93e31bbdd6b36ed74bdb6a->addObjectType($v94757cae63fd3e398c0811a976dd6bbe);$v8be74552df93e31bbdd6b36ed74bdb6a->addPropertyFilterEqual($v49609ac644997049c84839939306fec1, true);$this->autoDetectOrders($v8be74552df93e31bbdd6b36ed74bdb6a, $v94757cae63fd3e398c0811a976dd6bbe);$this->autoDetectFilters($v8be74552df93e31bbdd6b36ed74bdb6a, $v94757cae63fd3e398c0811a976dd6bbe);$result = umiSelectionsParser::runSelection($v8be74552df93e31bbdd6b36ed74bdb6a);$vfbb44b4487415b134bce9c790a27fe5e = umiSelectionsParser::runSelectionCounts($v8be74552df93e31bbdd6b36ed74bdb6a);$v691d502cfd0e0626cd3b058e5682ad1c = Array();foreach($result as $ve8701ad48ba05a91604e480dd60899a3) {$ve253bed1357afcefc5fadfbc92f9eb97 = Array();$ve253bed1357afcefc5fadfbc92f9eb97['void:user_id'] = $ve8701ad48ba05a91604e480dd60899a3;$ve253bed1357afcefc5fadfbc92f9eb97['attribute:id'] = $ve8701ad48ba05a91604e480dd60899a3;$ve253bed1357afcefc5fadfbc92f9eb97['xlink:href'] = "uobject://" . $ve8701ad48ba05a91604e480dd60899a3;$v691d502cfd0e0626cd3b058e5682ad1c[] = $this->parseTemplate($vbb8360a6427003afe6c4f51e25f7a0e1, $ve253bed1357afcefc5fadfbc92f9eb97, false, $ve8701ad48ba05a91604e480dd60899a3);}$vfca1bff8ad8b3a8585abfb0ad523ba42['subnodes:items'] = $v691d502cfd0e0626cd3b058e5682ad1c;$vfca1bff8ad8b3a8585abfb0ad523ba42['per_page'] = $v9d85c254b5062e518a134a61950999c3;$vfca1bff8ad8b3a8585abfb0ad523ba42['total'] = $vfbb44b4487415b134bce9c790a27fe5e;return $this->parseTemplate($v364f9b183bd2dd9e0beb45c754830a6c, $vfca1bff8ad8b3a8585abfb0ad523ba42);}public function count_users() {$v5f694956811487225d15e973ca38fbab = umiObjectTypesCollection::getInstance()->getBaseType("users", "user");$v599dcce2998a6b40b1e38e8c6006cb0a = umiObjectTypesCollection::getInstance()->getType($v5f694956811487225d15e973ca38fbab);$v67ba067f28d4ec1793b9eaeffe562f84 = $v599dcce2998a6b40b1e38e8c6006cb0a->getFieldId('is_activated');$v8be74552df93e31bbdd6b36ed74bdb6a = new umiSelection;$v8be74552df93e31bbdd6b36ed74bdb6a->addObjectType($v5f694956811487225d15e973ca38fbab);$v8be74552df93e31bbdd6b36ed74bdb6a->addPropertyFilterEqual($v67ba067f28d4ec1793b9eaeffe562f84, true);return umiSelectionsParser::runSelectionCounts($v8be74552df93e31bbdd6b36ed74bdb6a);$vfbb44b4487415b134bce9c790a27fe5e;}public function isUserOnline($v8e44f0089b076e18a718eb9ca3d94674 = false, $v841ef33a88a4512dfb1fda29e6c4dd53 = 900) {if($v8e44f0089b076e18a718eb9ca3d94674 === false) {throw new publicException("This macros need user id given.");}if($vee11cbb19052e40b07aac0ca060c23ee = umiObjectsCollection::getInstance()->getObject($v8e44f0089b076e18a718eb9ca3d94674)) {$v88b142e7df56683b45f080034400cd46 = $vee11cbb19052e40b07aac0ca060c23ee->getValue("last_request_time");$v8eaa2aaf46ef0d76587d608fa27aceb8 = (bool) (($v88b142e7df56683b45f080034400cd46 + $v841ef33a88a4512dfb1fda29e6c4dd53) >= time());$vee11cbb19052e40b07aac0ca060c23ee->setValue("is_online", $v8eaa2aaf46ef0d76587d608fa27aceb8);$vee11cbb19052e40b07aac0ca060c23ee->commit();return $v8eaa2aaf46ef0d76587d608fa27aceb8;}else {throw new publicException("User #{$v8e44f0089b076e18a718eb9ca3d94674} doesn't exists.");}}public function recountUserMessages() {}};?>