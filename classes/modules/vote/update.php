<?php
  $vc20baa4161945565bd89bb659504b1a7  = umiHierarchy::getInstance();$vc56c4b05ed55494b480fe745c3c24542 = umiObjectsCollection::getInstance();$v28bfcfa5817454e27c68c4c6165c6d1d = new umiSelection();$v962e815f38b596a84a775e8cce3d3ec5   = umiHierarchyTypesCollection::getInstance()->getTypeByName("vote", "poll")->getId();$v28bfcfa5817454e27c68c4c6165c6d1d->addElementType($v962e815f38b596a84a775e8cce3d3ec5);$va2066c7706a92598ded9807b13f8bae9     = umiSelectionsParser::runSelection($v28bfcfa5817454e27c68c4c6165c6d1d);$v28bfcfa5817454e27c68c4c6165c6d1d = new umiSelection();$vb1e8c1e4762cb2eae39906df8e867c27    = umiObjectTypesCollection::getInstance()->getBaseType("vote", "poll_item");$v28bfcfa5817454e27c68c4c6165c6d1d->addObjectType($vb1e8c1e4762cb2eae39906df8e867c27);$v2198ebf7048a68045ae3d7bda57200b9   = umiSelectionsParser::runSelection($v28bfcfa5817454e27c68c4c6165c6d1d);foreach($va2066c7706a92598ded9807b13f8bae9 as $v0e62d578e02f348b7a90b12ffec99f0a) {$v40b4dedd1fd589f7971fdf46ecf9b279            = $vc20baa4161945565bd89bb659504b1a7->getElement($v0e62d578e02f348b7a90b12ffec99f0a);$v51a6fc7973856800da092f00d697d0a6    = $v40b4dedd1fd589f7971fdf46ecf9b279->getObject()->getId();if(!($v40b4dedd1fd589f7971fdf46ecf9b279 instanceof umiHierarchyElement)) continue;$vb9adb233ec696f72dccb5cc477ad20a1 = $v40b4dedd1fd589f7971fdf46ecf9b279->getValue('answers');foreach($v2198ebf7048a68045ae3d7bda57200b9 as $vf5117207909ebc9a52c47d836676b1b3) {$vca71234643247afbe8c7a4271aab546b      = $vc56c4b05ed55494b480fe745c3c24542->getObject($vf5117207909ebc9a52c47d836676b1b3);if(!($vca71234643247afbe8c7a4271aab546b instanceof umiObject)) continue;$v53cac16b26a3cac7ffcd38e1535a1757 = $vca71234643247afbe8c7a4271aab546b->getValue('poll_rel');if($v51a6fc7973856800da092f00d697d0a6 != $v53cac16b26a3cac7ffcd38e1535a1757) continue;if(!in_array($vf5117207909ebc9a52c47d836676b1b3, $vb9adb233ec696f72dccb5cc477ad20a1)) {$vb9adb233ec696f72dccb5cc477ad20a1[] = $vf5117207909ebc9a52c47d836676b1b3;}}$v2198ebf7048a68045ae3d7bda57200b9 = array_diff($v2198ebf7048a68045ae3d7bda57200b9, $vb9adb233ec696f72dccb5cc477ad20a1);$v40b4dedd1fd589f7971fdf46ecf9b279->setValue('answers', $vb9adb233ec696f72dccb5cc477ad20a1);$v40b4dedd1fd589f7971fdf46ecf9b279->commit();}?>
