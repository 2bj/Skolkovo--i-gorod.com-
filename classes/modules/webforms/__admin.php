<?php
 class __webforms extends baseModuleAdmin {public $iFormFilter = 0, $iAddressFilter = 0;public function addresses() {$this->setDataType("list");$this->setActionType("view");if($this->ifNotXmlMode()) return $this->doData();$v8be74552df93e31bbdd6b36ed74bdb6a = new selector('objects');$v8be74552df93e31bbdd6b36ed74bdb6a->types('object-type')->name('webforms', 'address');selectorHelper::detectFilters($v8be74552df93e31bbdd6b36ed74bdb6a);$v8d777f385d3dfec8815d20f7496026dc = $this->prepareData($v8be74552df93e31bbdd6b36ed74bdb6a->result, "objects");$this->setData($v8d777f385d3dfec8815d20f7496026dc);return $this->doData();}public function address_add() {$v15d61712450a686a7f365adf4fef581f      = (string) getRequest('param0');$ve62e4d22f2d8630f6e44e2b7c3f70ddc = Array('type' => 'address');if($v15d61712450a686a7f365adf4fef581f == 'do') {if(!isset($_REQUEST['data']['new']['address_description']) ||       !isset($_REQUEST['data']['new']['address_list']) ||       !strlen($_REQUEST['data']['new']['address_description']) ||       !strlen($_REQUEST['data']['new']['address_list']))                     throw new publicAdminException(getLabel('error-required_fields'));$v6136adf26c496b7a486ecb0a7400fe40   = getRequest('data');$vd82f268d5a82fc66260ad083d1a2e5b4 = $this->saveAddedObjectData($ve62e4d22f2d8630f6e44e2b7c3f70ddc);$this->chooseRedirect('/admin/webforms/address_edit/'.$vd82f268d5a82fc66260ad083d1a2e5b4->getId().'/');}$this->setDataType("form");$this->setActionType("create");$v8d777f385d3dfec8815d20f7496026dc = $this->prepareData($ve62e4d22f2d8630f6e44e2b7c3f70ddc, "object");$this->setData($v8d777f385d3dfec8815d20f7496026dc);return $this->doData();}public function address_edit() {$va8cfde6331bd59eb2ac96f8911c4b666 = $this->expectObject("param0");$vb80bb7740288fda1f201890375a60c8f     = (int)    getRequest('param0');$v15d61712450a686a7f365adf4fef581f   = (string) getRequest('param1');if($v15d61712450a686a7f365adf4fef581f == "do") {if(!isset($_REQUEST['data'][$vb80bb7740288fda1f201890375a60c8f]['address_description']) ||       !isset($_REQUEST['data'][$vb80bb7740288fda1f201890375a60c8f]['address_list']) ||       !strlen($_REQUEST['data'][$vb80bb7740288fda1f201890375a60c8f]['address_description']) ||       !strlen($_REQUEST['data'][$vb80bb7740288fda1f201890375a60c8f]['address_list']))      throw new publicAdminException(getLabel('error-required_fields'));$this->saveEditedObjectData($va8cfde6331bd59eb2ac96f8911c4b666);$this->chooseRedirect();}$this->setDataType("form");$this->setActionType("modify");$v8d777f385d3dfec8815d20f7496026dc = $this->prepareData($va8cfde6331bd59eb2ac96f8911c4b666, "object");$this->setData($v8d777f385d3dfec8815d20f7496026dc);return $this->doData();}public function address_delete() {$va77b1053cb200e022574f213c7553d88 = (int)getRequest('param0');umiObjectsCollection::getInstance()->delObject($va77b1053cb200e022574f213c7553d88);$this->chooseRedirect('/admin/webforms/addresses/');}public function templates() {$this->setDataType("list");$this->setActionType("view");if($this->ifNotXmlMode()) return $this->doData();$vaa9f73eea60a006820d0f8768bc8a3fc = 20;$ve1ba980ce14a8c0d7e2779f895ab8695 = (int) getRequest("p");$v7a86c157ee9713c34fbd7a1ee40f0c5a =  $vaa9f73eea60a006820d0f8768bc8a3fc * $ve1ba980ce14a8c0d7e2779f895ab8695;$v8be74552df93e31bbdd6b36ed74bdb6a = new selector('objects');$v8be74552df93e31bbdd6b36ed74bdb6a->types('object-type')->name('webforms', 'template');$v8be74552df93e31bbdd6b36ed74bdb6a->limit($v7a86c157ee9713c34fbd7a1ee40f0c5a, $vaa9f73eea60a006820d0f8768bc8a3fc);selectorHelper::detectFilters($v8be74552df93e31bbdd6b36ed74bdb6a);$this->setDataRange($vaa9f73eea60a006820d0f8768bc8a3fc, $v7a86c157ee9713c34fbd7a1ee40f0c5a);$v8d777f385d3dfec8815d20f7496026dc = $this->prepareData($v8be74552df93e31bbdd6b36ed74bdb6a->result, "objects");$this->setData($v8d777f385d3dfec8815d20f7496026dc, $v8be74552df93e31bbdd6b36ed74bdb6a->length);return $this->doData();}public function template_add() {$v69d8e0d7451cce623d8d6bc078646534    = umiObjectTypesCollection::getInstance();$v7e24acefefe3e0e18e91e9d86018be0f   = $v69d8e0d7451cce623d8d6bc078646534->getBaseType('webforms', 'form');$v15d61712450a686a7f365adf4fef581f      = (string) getRequest('param0');$ve62e4d22f2d8630f6e44e2b7c3f70ddc = Array('type' => 'template');if($v15d61712450a686a7f365adf4fef581f == 'do') {$vd6ce61b34f07acc132fa4c00c2be04fd = (int)getRequest('system_form_id');if(!$vd6ce61b34f07acc132fa4c00c2be04fd || !$v69d8e0d7451cce623d8d6bc078646534->isExists($vd6ce61b34f07acc132fa4c00c2be04fd)) throw new publicAdminException( getLabel('error-no-form-binded') );$ve62e4d22f2d8630f6e44e2b7c3f70ddc['name'] = $v69d8e0d7451cce623d8d6bc078646534->getType($vd6ce61b34f07acc132fa4c00c2be04fd)->getName();$v588814ea8388bbd1c7cb1948306ca29e = $this->saveAddedObjectData($ve62e4d22f2d8630f6e44e2b7c3f70ddc);$v588814ea8388bbd1c7cb1948306ca29e->setValue('form_id', $vd6ce61b34f07acc132fa4c00c2be04fd);$this->chooseRedirect('/admin/webforms/template_edit/'.$v588814ea8388bbd1c7cb1948306ca29e->getId().'/');}$this->setDataType("form");$this->setActionType("create");$v8d777f385d3dfec8815d20f7496026dc = $this->prepareData($ve62e4d22f2d8630f6e44e2b7c3f70ddc, "object");$v8d777f385d3dfec8815d20f7496026dc['nodes:group'][1] = array( 'attribute:name' => 'BindToForm',             'attribute:title' => 'Принадлежность к форме',             'attribute:base_type' => $v7e24acefefe3e0e18e91e9d86018be0f,            'attribute:selected_type' => '' );$this->setData($v8d777f385d3dfec8815d20f7496026dc);return $this->doData();}public function template_edit() {$v69d8e0d7451cce623d8d6bc078646534    = umiObjectTypesCollection::getInstance();$v7e24acefefe3e0e18e91e9d86018be0f   = $v69d8e0d7451cce623d8d6bc078646534->getBaseType('webforms', 'form');$va8cfde6331bd59eb2ac96f8911c4b666 = $this->expectObject("param0");$v15d61712450a686a7f365adf4fef581f = (string) getRequest('param1');if($v15d61712450a686a7f365adf4fef581f == "do") {$vd6ce61b34f07acc132fa4c00c2be04fd = (int)getRequest('system_form_id');if(!$vd6ce61b34f07acc132fa4c00c2be04fd || !$v69d8e0d7451cce623d8d6bc078646534->isExists($vd6ce61b34f07acc132fa4c00c2be04fd))      throw new publicAdminException( getLabel('error-no-form-binded') );$this->saveEditedObjectData($va8cfde6331bd59eb2ac96f8911c4b666);$va8cfde6331bd59eb2ac96f8911c4b666->setName( $v69d8e0d7451cce623d8d6bc078646534->getType($vd6ce61b34f07acc132fa4c00c2be04fd)->getName() );$va8cfde6331bd59eb2ac96f8911c4b666->setValue('form_id', $vd6ce61b34f07acc132fa4c00c2be04fd);$this->chooseRedirect();}$this->setDataType("form");$this->setActionType("modify");$v8d777f385d3dfec8815d20f7496026dc = $this->prepareData($va8cfde6331bd59eb2ac96f8911c4b666, "object");$v8d777f385d3dfec8815d20f7496026dc['nodes:group'][1] = array( 'attribute:name' => 'BindToForm',             'attribute:title' => 'Принадлежность к форме',             'attribute:base_type' => $v7e24acefefe3e0e18e91e9d86018be0f,            'attribute:selected_type' => $va8cfde6331bd59eb2ac96f8911c4b666->getValue('form_id') );$this->setData($v8d777f385d3dfec8815d20f7496026dc);return $this->doData();}public function template_delete() {$va77b1053cb200e022574f213c7553d88 = (int)getRequest('param0');umiObjectsCollection::getInstance()->delObject($va77b1053cb200e022574f213c7553d88);$this->chooseRedirect('/admin/webforms/templates/');}public function messages() {$this->setDataType("list");$this->setActionType("view");if($this->ifNotXmlMode()) return $this->doData();$vaa9f73eea60a006820d0f8768bc8a3fc = 20;$ve1ba980ce14a8c0d7e2779f895ab8695 = (int) getRequest("p");$v7a86c157ee9713c34fbd7a1ee40f0c5a = $vaa9f73eea60a006820d0f8768bc8a3fc * $ve1ba980ce14a8c0d7e2779f895ab8695;$v8be74552df93e31bbdd6b36ed74bdb6a = new selector('objects');$v8be74552df93e31bbdd6b36ed74bdb6a->types('object-type')->name('webforms', 'form');$v8be74552df93e31bbdd6b36ed74bdb6a->limit($v7a86c157ee9713c34fbd7a1ee40f0c5a, $vaa9f73eea60a006820d0f8768bc8a3fc);selectorHelper::detectFilters($v8be74552df93e31bbdd6b36ed74bdb6a);$this->setDataRange($vaa9f73eea60a006820d0f8768bc8a3fc, $v7a86c157ee9713c34fbd7a1ee40f0c5a);$v8d777f385d3dfec8815d20f7496026dc = $this->prepareData($v8be74552df93e31bbdd6b36ed74bdb6a->result, "objects");$this->setData($v8d777f385d3dfec8815d20f7496026dc, $v8be74552df93e31bbdd6b36ed74bdb6a->length);return $this->doData();}public function message() {$va77b1053cb200e022574f213c7553d88   = (int)getRequest('param0');$vc56c4b05ed55494b480fe745c3c24542 = umiObjectsCollection::getInstance();if(!$vc56c4b05ed55494b480fe745c3c24542->isExists($va77b1053cb200e022574f213c7553d88)) {throw new publicAdminException('The object does not exist');}$vcb5f4ad7207c057352ca1f1d7555035a = umiObjectsCollection::getInstance()->getObject($va77b1053cb200e022574f213c7553d88);$this->validateEntityByTypes($vcb5f4ad7207c057352ca1f1d7555035a, array(    'module' => 'webforms'   ));$v4db516ba913a71d13c8507f0026ebd0e = $this->formatMessage($va77b1053cb200e022574f213c7553d88);$v7b914989a934081f3a630ba4af0d2161 = $vcb5f4ad7207c057352ca1f1d7555035a->getName();$v16017a754a8bde75200a80d719efd650    = umiObjectTypesCollection::getInstance()->getType($vcb5f4ad7207c057352ca1f1d7555035a->getTypeId())->getName();$v9ef7d99d6a1583f27a83b8a41a3f3bb6      = $vcb5f4ad7207c057352ca1f1d7555035a->getValue('sender_ip');$v57c1277b589b2de94a525806940ccc85    = $vcb5f4ad7207c057352ca1f1d7555035a->getValue('sending_time');$this->setDataType("settings");$this->setActionType("view");$v8d777f385d3dfec8815d20f7496026dc     = $this->prepareData(array( 'Message' => array(           'string:message'=>$v4db516ba913a71d13c8507f0026ebd0e,           'string:address'=>$v7b914989a934081f3a630ba4af0d2161,           'string:form'=>$v16017a754a8bde75200a80d719efd650,           'string:date'=> (($v57c1277b589b2de94a525806940ccc85 instanceof umiDate) ? $v57c1277b589b2de94a525806940ccc85->getFormattedDate() : ""),           'string:ip'=> $v9ef7d99d6a1583f27a83b8a41a3f3bb6,           'int:id'=>$va77b1053cb200e022574f213c7553d88)), "settings");$this->setData($v8d777f385d3dfec8815d20f7496026dc);return $this->doData();}public function message_delete() {$va77b1053cb200e022574f213c7553d88 = (int)getRequest('param0');umiObjectsCollection::getInstance()->delObject($va77b1053cb200e022574f213c7553d88);$this->chooseRedirect('/admin/webforms/messages/');}public function forms() {$ve1ba980ce14a8c0d7e2779f895ab8695 = (int) getRequest('p');$v9d85c254b5062e518a134a61950999c3 = 20;$v69d8e0d7451cce623d8d6bc078646534   = umiObjectTypesCollection::getInstance();$vb7f76745fde0ffabab3e8314913554ff = $v69d8e0d7451cce623d8d6bc078646534->getBaseType("webforms", "form");if($vb7f76745fde0ffabab3e8314913554ff === false) {throw new publicAdminException('No form base type was found');}if(isset($_REQUEST['search-all-text'][0])) {$va339e2404792d7f8add09a5013066a3e = array_extract_values($_REQUEST['search-all-text']);foreach($va339e2404792d7f8add09a5013066a3e as $v865c0c0b4ab0e063e5caa3387c1a8741 => $v9e3669d19b675bd57058fd4664205d2a) {$va339e2404792d7f8add09a5013066a3e[$v865c0c0b4ab0e063e5caa3387c1a8741] = wa_strtolower($v9e3669d19b675bd57058fd4664205d2a);}}else {$va339e2404792d7f8add09a5013066a3e = false;}$vd14a8022b085f9ef19d479cbdd581127 = $v69d8e0d7451cce623d8d6bc078646534;$v0a65750af42f5353446f244511e12e79 = $vd14a8022b085f9ef19d479cbdd581127->getSubTypesList($vb7f76745fde0ffabab3e8314913554ff);$vfa816edb83e95bf0c8da580bdfd491ef = Array();foreach($v0a65750af42f5353446f244511e12e79 as $v5f694956811487225d15e973ca38fbab) {$v599dcce2998a6b40b1e38e8c6006cb0a = $vd14a8022b085f9ef19d479cbdd581127->getType($v5f694956811487225d15e973ca38fbab);if($v599dcce2998a6b40b1e38e8c6006cb0a instanceof umiObjectType) {$vb068931cc450442b63f5b3d276ea4297 = $v599dcce2998a6b40b1e38e8c6006cb0a->getName();if($va339e2404792d7f8add09a5013066a3e) {$ve3cc92c14a5e6dd1a7d94b6ff634d7fc = false;foreach($va339e2404792d7f8add09a5013066a3e as $v597a51f04d341eba4ca965899acc10b3) {if(strstr(wa_strtolower($vb068931cc450442b63f5b3d276ea4297), $v597a51f04d341eba4ca965899acc10b3) !== false) {$ve3cc92c14a5e6dd1a7d94b6ff634d7fc = true;}}if(!$ve3cc92c14a5e6dd1a7d94b6ff634d7fc) {continue;}}$vfa816edb83e95bf0c8da580bdfd491ef[$v5f694956811487225d15e973ca38fbab] = $vb068931cc450442b63f5b3d276ea4297;}}if(isset($_REQUEST['order_filter']['name'])) {natsort($vfa816edb83e95bf0c8da580bdfd491ef);if($_REQUEST['order_filter']['name'] == "desc") {$vfa816edb83e95bf0c8da580bdfd491ef = array_reverse($vfa816edb83e95bf0c8da580bdfd491ef, true);}}$v0a65750af42f5353446f244511e12e79 = array_keys($vfa816edb83e95bf0c8da580bdfd491ef);unset($vfa816edb83e95bf0c8da580bdfd491ef);$v0a65750af42f5353446f244511e12e79 = $this->excludeNestedTypes($v0a65750af42f5353446f244511e12e79);$vfbb44b4487415b134bce9c790a27fe5e = sizeof($v0a65750af42f5353446f244511e12e79);$v4008c8dae6700f0b8ea250491564fddd = array_slice($v0a65750af42f5353446f244511e12e79, $ve1ba980ce14a8c0d7e2779f895ab8695 * $v9d85c254b5062e518a134a61950999c3, $v9d85c254b5062e518a134a61950999c3, false);$this->setDataType("list");$this->setActionType("view");$this->setDataRange($v9d85c254b5062e518a134a61950999c3, $v9d85c254b5062e518a134a61950999c3 * $ve1ba980ce14a8c0d7e2779f895ab8695);$v8d777f385d3dfec8815d20f7496026dc = $this->prepareData($v4008c8dae6700f0b8ea250491564fddd, "types");$v8d777f385d3dfec8815d20f7496026dc['nodes:basetype'] = array( array('attribute:id' => $vb7f76745fde0ffabab3e8314913554ff) );$this->setData($v8d777f385d3dfec8815d20f7496026dc, $vfbb44b4487415b134bce9c790a27fe5e);return $this->doData();}public function form_add() {$v0bf37cfe9982a08aeee2ac22107dcb2a    = (string)getRequest('param1');$v69d8e0d7451cce623d8d6bc078646534   = umiObjectTypesCollection::getInstance();$vb7f76745fde0ffabab3e8314913554ff = $v69d8e0d7451cce623d8d6bc078646534->getBaseType("webforms", "form");if($v0bf37cfe9982a08aeee2ac22107dcb2a == 'do') {if(!isset($_REQUEST['data']['name']) || !strlen($_REQUEST['data']['name']))     $this->chooseRedirect($this->pre_lang . "/admin/webforms/forms/");$v963cecbdfa91757f2c7a4a9e794f3da7     = $v69d8e0d7451cce623d8d6bc078646534->addType($vb7f76745fde0ffabab3e8314913554ff, $_REQUEST['data']['name']);$this->chooseRedirect($this->pre_lang . "/admin/webforms/form_edit/" . $v963cecbdfa91757f2c7a4a9e794f3da7 . "/");}$this->setDataType("form");$this->setActionType("create");$v8d777f385d3dfec8815d20f7496026dc = $this->prepareData($vb7f76745fde0ffabab3e8314913554ff, "type");$this->setData($v8d777f385d3dfec8815d20f7496026dc);return $this->doData();}public function form_edit() {$v5ac2c88b32e920d274484eadede01e42 = cmsController::getInstance()->getModule('data');if(!$v5ac2c88b32e920d274484eadede01e42) {throw new publicAdminException('Service unavailable');}$_SESSION['referer'] = "/admin/webforms/forms/";$this->setDataType("form");$this->setActionType("modify");return $v5ac2c88b32e920d274484eadede01e42->type_edit();}public function form_delete() {$v94757cae63fd3e398c0811a976dd6bbe = (int) getRequest('param0');umiObjectTypesCollection::getInstance()->delType($v94757cae63fd3e398c0811a976dd6bbe);$this->chooseRedirect();}public function form_group_add() {$v5ac2c88b32e920d274484eadede01e42 = cmsController::getInstance()->getModule('data');if(!$v5ac2c88b32e920d274484eadede01e42) {throw new publicAdminException('Service unavailable');}$v307b98da43f9d6c6fb4d231412b42631 = (int) getRequest('param0');$_SESSION['referer'] = "/admin/webforms/form_edit/".$v307b98da43f9d6c6fb4d231412b42631."/";cmsController::getInstance()->calculateRefererUri();return $v5ac2c88b32e920d274484eadede01e42->type_group_add('/admin/webforms/form_group_edit/');}public function form_group_edit() {$v5ac2c88b32e920d274484eadede01e42 = cmsController::getInstance()->getModule('data');if(!$v5ac2c88b32e920d274484eadede01e42) {throw new publicAdminException('Service unavailable');}$v307b98da43f9d6c6fb4d231412b42631 = (int) getRequest('param1');$_SESSION['referer'] = "/admin/webforms/form_edit/".$v307b98da43f9d6c6fb4d231412b42631."/";cmsController::getInstance()->calculateRefererUri();return $v5ac2c88b32e920d274484eadede01e42->type_group_edit();}public function form_field_add() {$v5ac2c88b32e920d274484eadede01e42 = cmsController::getInstance()->getModule('data');if(!$v5ac2c88b32e920d274484eadede01e42) {throw new publicAdminException('Service unavailable');}$v307b98da43f9d6c6fb4d231412b42631 = (int) getRequest('param1');$_SESSION['referer'] = "/admin/webforms/form_edit/".$v307b98da43f9d6c6fb4d231412b42631."/";cmsController::getInstance()->calculateRefererUri();return $v5ac2c88b32e920d274484eadede01e42->type_field_add('/admin/webforms/form_field_edit/');}public function form_field_edit() {$v5ac2c88b32e920d274484eadede01e42 = cmsController::getInstance()->getModule('data');if(!$v5ac2c88b32e920d274484eadede01e42) {throw new publicAdminException('Service unavailable');}$v307b98da43f9d6c6fb4d231412b42631 = (int) getRequest('param1');$_SESSION['referer'] = "/admin/webforms/form_edit/".$v307b98da43f9d6c6fb4d231412b42631."/";cmsController::getInstance()->calculateRefererUri();return $v5ac2c88b32e920d274484eadede01e42->type_field_edit();}public function getMessageFilter() {$v7bb3b6fc7d932bbd23113a3aaf5e0c27  = array('nodes:forms'=>array(array('attribute:id'=>$this->iFormFilter,'nodes:item'=>array())),          'nodes:addresses'=>array(array('attribute:id'=>$this->iAddressFilter,'nodes:item'=>array())));$v69d8e0d7451cce623d8d6bc078646534   = umiObjectTypesCollection::getInstance();$vb7f76745fde0ffabab3e8314913554ff = $v69d8e0d7451cce623d8d6bc078646534->getBaseType("webforms", "form");$vc830175e9a27854693563be403a26413  = $v69d8e0d7451cce623d8d6bc078646534->getSubTypesList($vb7f76745fde0ffabab3e8314913554ff);$vb18bef27661bf33931489374598e028f   = &$v7bb3b6fc7d932bbd23113a3aaf5e0c27['nodes:forms'][0]['nodes:item'];$vb18bef27661bf33931489374598e028f[] = array('attribute:id'=>0,         'node:name'=>getLabel('label-all'));foreach($vc830175e9a27854693563be403a26413 as $v963cecbdfa91757f2c7a4a9e794f3da7) {$vdaf3dfba989f67953c5e6f71493ca89a = $v69d8e0d7451cce623d8d6bc078646534->getType($v963cecbdfa91757f2c7a4a9e794f3da7);$vb18bef27661bf33931489374598e028f[] = array('attribute:id'=>$v963cecbdfa91757f2c7a4a9e794f3da7,          'node:name'=>$vdaf3dfba989f67953c5e6f71493ca89a->getName());}$vfc5ecff8bf18f57d6c531d097242e888   = umiObjectsCollection::getInstance();$v092d4e13eb3d3b1b20a807ed068431a9 = $vfc5ecff8bf18f57d6c531d097242e888->getGuidedItems( $v69d8e0d7451cce623d8d6bc078646534->getBaseType('webforms', 'address') );$v85013f0d394a2f9ee228ef05db52ea22  = &$v7bb3b6fc7d932bbd23113a3aaf5e0c27['nodes:addresses'][0]['nodes:item'];$v85013f0d394a2f9ee228ef05db52ea22[] = array('attribute:id'=>0,         'node:name'=>getLabel('label-all'));foreach($v092d4e13eb3d3b1b20a807ed068431a9 as $vb718adec73e04ce3ec720dd11a06a308=>$vf236f8907e0bc3d44552b3aff14548ca)    $v85013f0d394a2f9ee228ef05db52ea22[] = array('attribute:id'=>$vb718adec73e04ce3ec720dd11a06a308,           'node:name'=>$vf236f8907e0bc3d44552b3aff14548ca);return array($v7bb3b6fc7d932bbd23113a3aaf5e0c27);}public function placeOnPage() {$v307b98da43f9d6c6fb4d231412b42631 = getRequest('param0');if(!$v307b98da43f9d6c6fb4d231412b42631) $this->chooseRedirect(getServer('HTTP_REFERER'));$v3fcdb73d36d54f2cc22d0f68e6b6e182      = umiObjectTypesCollection::getInstance()->getType($v307b98da43f9d6c6fb4d231412b42631);$vdd4b6e331ccd77de375fdff61ec30f56    = umiHierarchyTypesCollection::getInstance()->getTypeByName('webforms', 'page')->getId();$v73a675fe8a30b9e15aa2af14cf4dd949  = $v3fcdb73d36d54f2cc22d0f68e6b6e182->getName();$vb81ca7c0ccaa77e7aa91936ab0070695 = umiHierarchy::getInstance();$va6eb4816205178e88dad66a16a19ff45    = $vb81ca7c0ccaa77e7aa91936ab0070695->addElement(0, $vdd4b6e331ccd77de375fdff61ec30f56, $v73a675fe8a30b9e15aa2af14cf4dd949, $v73a675fe8a30b9e15aa2af14cf4dd949);permissionsCollection::getInstance()->setDefaultPermissions($va6eb4816205178e88dad66a16a19ff45);$v71860c77c6745379b0d44304d66b6a13      = $vb81ca7c0ccaa77e7aa91936ab0070695->getElement($va6eb4816205178e88dad66a16a19ff45);$v71860c77c6745379b0d44304d66b6a13->setIsActive(true);$v71860c77c6745379b0d44304d66b6a13->setValue('form_id', $v307b98da43f9d6c6fb4d231412b42631);$v71860c77c6745379b0d44304d66b6a13->setValue('title', $v73a675fe8a30b9e15aa2af14cf4dd949);$v71860c77c6745379b0d44304d66b6a13->setValue('h1', $v73a675fe8a30b9e15aa2af14cf4dd949);$v71860c77c6745379b0d44304d66b6a13->setValue('content', '%webforms add('.$v307b98da43f9d6c6fb4d231412b42631.')%');$v71860c77c6745379b0d44304d66b6a13->commit();$this->chooseRedirect('/admin/content/edit/'.$va6eb4816205178e88dad66a16a19ff45.'/');}public function getPages(){$vb3b32a2d422265cd25c3323ed0157f81 = getRequest('id');$this->setDataType("list");$this->setActionType("view");$v8d777f385d3dfec8815d20f7496026dc  = array();if($vb3b32a2d422265cd25c3323ed0157f81 && !empty($vb3b32a2d422265cd25c3323ed0157f81))   foreach($vb3b32a2d422265cd25c3323ed0157f81 as $vb80bb7740288fda1f201890375a60c8f) {$v83878c91171338902e0fe0fb97a8c47a = $this->getBindedPage($vb80bb7740288fda1f201890375a60c8f);$v8d777f385d3dfec8815d20f7496026dc['nodes:page'][] = array_merge($v83878c91171338902e0fe0fb97a8c47a['page'], array('attribute:form'=>$vb80bb7740288fda1f201890375a60c8f));}$this->setData($v8d777f385d3dfec8815d20f7496026dc);return $this->doData();}public function del() {$v5891da2d64975cae48d175d1e001f5da = getRequest('element');if(!is_array($v5891da2d64975cae48d175d1e001f5da) && $v5891da2d64975cae48d175d1e001f5da) $v5891da2d64975cae48d175d1e001f5da = array($v5891da2d64975cae48d175d1e001f5da);if(is_array($v5891da2d64975cae48d175d1e001f5da) && !empty($v5891da2d64975cae48d175d1e001f5da)) {$vdb6d9b451b818ccc9a449383f2f0c450 = umiObjectsCollection::getInstance();foreach($v5891da2d64975cae48d175d1e001f5da as $v16b2b26000987faccb260b9d39df1269) {$vdb6d9b451b818ccc9a449383f2f0c450->delObject($v16b2b26000987faccb260b9d39df1269);}}}public function delType() {$v5891da2d64975cae48d175d1e001f5da = getRequest('element');if(!is_array($v5891da2d64975cae48d175d1e001f5da) && $v5891da2d64975cae48d175d1e001f5da) $v5891da2d64975cae48d175d1e001f5da = array($v5891da2d64975cae48d175d1e001f5da);if(is_array($v5891da2d64975cae48d175d1e001f5da) && !empty($v5891da2d64975cae48d175d1e001f5da)) {$vdb6d9b451b818ccc9a449383f2f0c450 = umiObjectTypesCollection::getInstance();foreach($v5891da2d64975cae48d175d1e001f5da as $v16b2b26000987faccb260b9d39df1269) {$vdb6d9b451b818ccc9a449383f2f0c450->delType($v16b2b26000987faccb260b9d39df1269);}}}public function getDatasetConfiguration($veca07335a33c5aeb5e1bc7c98b4b9d80 = '') {switch($veca07335a33c5aeb5e1bc7c98b4b9d80) {case 'templates':      $v89ab96b2cae2569ced36d70f6866f57d = 'templates';$va6b236ea114da1e02b0f9b90ce04b19b  = 'del';$v5f694956811487225d15e973ca38fbab  = umiObjectTypesCollection::getInstance()->getBaseType('webforms', 'template');$va4a918a45181164207929d52aec36aec = '';break;case 'messages' :      $v89ab96b2cae2569ced36d70f6866f57d = 'messages';$va6b236ea114da1e02b0f9b90ce04b19b  = 'del';$v5f694956811487225d15e973ca38fbab  = umiObjectTypesCollection::getInstance()->getBaseType('webforms', 'form');$va4a918a45181164207929d52aec36aec = 'destination_address[150px]|sending_time[100px]';break;case 'forms' :      $v89ab96b2cae2569ced36d70f6866f57d = 'forms';$va6b236ea114da1e02b0f9b90ce04b19b  = 'delType';$v5f694956811487225d15e973ca38fbab  = umiObjectTypesCollection::getInstance()->getBaseType('webforms', 'form');$va4a918a45181164207929d52aec36aec = 'page[250px,static]';break;default:      $v89ab96b2cae2569ced36d70f6866f57d = 'addresses';$va6b236ea114da1e02b0f9b90ce04b19b  = 'del';$v5f694956811487225d15e973ca38fbab  = umiObjectTypesCollection::getInstance()->getBaseType('webforms', 'address');$va4a918a45181164207929d52aec36aec = 'address_description[200px]';}return array(     'methods' => array(      array('title'=>getLabel('smc-load'), 'forload'=>true, 'module'=>'webforms', '#__name'=>$v89ab96b2cae2569ced36d70f6866f57d),      array('title'=>getLabel('smc-delete'),       'module'=>'webforms', '#__name'=>$va6b236ea114da1e02b0f9b90ce04b19b, 'aliases' => 'tree_delete_element,delete,del')),     'types' => array(      array('common' => 'true', 'id' => $v5f694956811487225d15e973ca38fbab)     ),     'stoplist' => array('form_id', 'rate_voters', 'rate_sum', 'destination_address', 'from_email_template', 'from_template', 'subject_template', 'master_template', 'autoreply_from_email_template', 'autoreply_from_template', 'autoreply_subject_template', 'autoreply_template'),     'default' => $va4a918a45181164207929d52aec36aec   );}public function excludeNestedTypes($v47c80780ab608cc046f2a6e6f071feb6) {$v0e8133eb006c0f85ed9444ae07a60842 = umiObjectTypesCollection::getInstance();$result = Array();foreach($v47c80780ab608cc046f2a6e6f071feb6 as $v5f694956811487225d15e973ca38fbab) {$v599dcce2998a6b40b1e38e8c6006cb0a = $v0e8133eb006c0f85ed9444ae07a60842->getType($v5f694956811487225d15e973ca38fbab);if($v599dcce2998a6b40b1e38e8c6006cb0a instanceof umiObjectType) {if(in_array($v599dcce2998a6b40b1e38e8c6006cb0a->getParentId(), $v47c80780ab608cc046f2a6e6f071feb6)) {continue;}else {$result[] = $v5f694956811487225d15e973ca38fbab;}}}return $result;}};?>