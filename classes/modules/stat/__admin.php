<?php
 abstract class __stat_admin extends baseModuleAdmin {public function config() {$vb1444fb0c07653567ad325aa25d4e37a = regedit::getInstance();$v21ffce5b8a6cc8cc6a41448dd69623c9 = array('config' => array('boolean:enabled' => null));$v15d61712450a686a7f365adf4fef581f = getRequest("param0");if($v15d61712450a686a7f365adf4fef581f == "do") {$v21ffce5b8a6cc8cc6a41448dd69623c9 = $this->expectParams($v21ffce5b8a6cc8cc6a41448dd69623c9);$vb1444fb0c07653567ad325aa25d4e37a->setVar("//modules/stat/collect", $v21ffce5b8a6cc8cc6a41448dd69623c9['config']['boolean:enabled']);$this->chooseRedirect();}$v21ffce5b8a6cc8cc6a41448dd69623c9['config']['boolean:enabled'] = (boolean) $vb1444fb0c07653567ad325aa25d4e37a->getVal("//modules/stat/collect");$this->setDataType("settings");$this->setActionType("modify");$v8d777f385d3dfec8815d20f7496026dc = $this->prepareData($v21ffce5b8a6cc8cc6a41448dd69623c9, "settings");$this->setData($v8d777f385d3dfec8815d20f7496026dc);return $this->doData();}public function clear() {$v15d61712450a686a7f365adf4fef581f      = (string) getRequest('param0');if($v15d61712450a686a7f365adf4fef581f == 'do') {$v753c58322e72d40855826c396def2829 = array('cms_stat_domains', 'cms_stat_entry_points', 'cms_stat_entry_points_events', 'cms_stat_events',                                  'cms_stat_events_collected', 'cms_stat_events_rel', 'cms_stat_events_urls', 'cms_stat_finders',                                  'cms_stat_hits', 'cms_stat_holidays', 'cms_stat_pages', 'cms_stat_paths', 'cms_stat_phrases',                                 'cms_stat_sites', 'cms_stat_sites_groups', 'cms_stat_sources', 'cms_stat_sources_coupon',                                 'cms_stat_sources_coupon_events', 'cms_stat_sources_openstat', 'cms_stat_sources_openstat_ad',                                 'cms_stat_sources_openstat_campaign', 'cms_stat_sources_openstat_service',                                  'cms_stat_sources_openstat_source', 'cms_stat_sources_pr', 'cms_stat_sources_pr_events',                                 'cms_stat_sources_pr_sites', 'cms_stat_sources_search', 'cms_stat_sources_search_queries',                                  'cms_stat_sources_sites', 'cms_stat_sources_sites_domains', 'cms_stat_sources_ticket', 'cms_stat_users');foreach($v753c58322e72d40855826c396def2829 as $vc9695ff7fb5e10741cb2f64b059a67b7) mysql_query('TRUNCATE `'.$vc9695ff7fb5e10741cb2f64b059a67b7.'`');$this->chooseRedirect();}$v21ffce5b8a6cc8cc6a41448dd69623c9    = array('clear' => array('button:clear' => null));$this->setDataType("settings");$this->setActionType("view");$v8d777f385d3dfec8815d20f7496026dc = $this->prepareData($v21ffce5b8a6cc8cc6a41448dd69623c9, 'settings');$this->setData($v8d777f385d3dfec8815d20f7496026dc);return $this->doData();}public function total() {$this->updateFilter();$v21ffce5b8a6cc8cc6a41448dd69623c9 = array();$v9549dd6065d019211460c59a86dd6536 = new statisticFactory(dirname(__FILE__) . '/classes');$v21ffce5b8a6cc8cc6a41448dd69623c9['tagss']['tags:tags_cloud'] = $this->tags_cloud();$v9549dd6065d019211460c59a86dd6536->isValid('visitersCommon');$ve98d2f001da5678b39482efbdf5770dc = $v9549dd6065d019211460c59a86dd6536->get('visitersCommon');$ve98d2f001da5678b39482efbdf5770dc->setStart($this->from_time);$ve98d2f001da5678b39482efbdf5770dc->setFinish($this->to_time);$ve98d2f001da5678b39482efbdf5770dc->setDomain($this->domain);$ve98d2f001da5678b39482efbdf5770dc->setUser($this->user);$result = $ve98d2f001da5678b39482efbdf5770dc->get();$v21ffce5b8a6cc8cc6a41448dd69623c9['visits']['int:routine'] = (int) $result['avg']['routine'];$v21ffce5b8a6cc8cc6a41448dd69623c9['visits']['int:weekend'] = (int) $result['avg']['weekend'];$v21ffce5b8a6cc8cc6a41448dd69623c9['visits']['int:sum']     = (int) $result['summ'];$v9549dd6065d019211460c59a86dd6536->isValid('hostsCommon');$ve98d2f001da5678b39482efbdf5770dc = $v9549dd6065d019211460c59a86dd6536->get('hostsCommon');$ve98d2f001da5678b39482efbdf5770dc->setStart($this->from_time);$ve98d2f001da5678b39482efbdf5770dc->setFinish($this->to_time);$ve98d2f001da5678b39482efbdf5770dc->setDomain($this->domain);$ve98d2f001da5678b39482efbdf5770dc->setUser($this->user);$result = $ve98d2f001da5678b39482efbdf5770dc->get();$v21ffce5b8a6cc8cc6a41448dd69623c9['visits']['int:hosts_total'] = (int) $result['summ'];$v9549dd6065d019211460c59a86dd6536->isValid('visitCommon');$ve98d2f001da5678b39482efbdf5770dc = $v9549dd6065d019211460c59a86dd6536->get('visitCommon');$ve98d2f001da5678b39482efbdf5770dc->setStart($this->from_time);$ve98d2f001da5678b39482efbdf5770dc->setFinish($this->to_time);$ve98d2f001da5678b39482efbdf5770dc->setDomain($this->domain);$ve98d2f001da5678b39482efbdf5770dc->setUser($this->user);$result = $ve98d2f001da5678b39482efbdf5770dc->get();$v21ffce5b8a6cc8cc6a41448dd69623c9['visits']['int:hits_total'] = (int) $result['summ'];$v9549dd6065d019211460c59a86dd6536->isValid('visitTime');$ve98d2f001da5678b39482efbdf5770dc = $v9549dd6065d019211460c59a86dd6536->get('visitTime');$ve98d2f001da5678b39482efbdf5770dc->setStart($this->from_time);$ve98d2f001da5678b39482efbdf5770dc->setFinish($this->to_time);$ve98d2f001da5678b39482efbdf5770dc->setLimit(1);$ve98d2f001da5678b39482efbdf5770dc->setDomain($this->domain);$ve98d2f001da5678b39482efbdf5770dc->setUser($this->user);$result = $ve98d2f001da5678b39482efbdf5770dc->get();$v93f2a5a7c11c9afb56398d089c12815d = array_pop($result['dynamic']);$v21ffce5b8a6cc8cc6a41448dd69623c9['visits']['int:time'] = round($v93f2a5a7c11c9afb56398d089c12815d['minutes_avg'], 2);$v9549dd6065d019211460c59a86dd6536->isValid('visitDeep');$ve98d2f001da5678b39482efbdf5770dc = $v9549dd6065d019211460c59a86dd6536->get('visitDeep');$ve98d2f001da5678b39482efbdf5770dc->setStart($this->from_time);$ve98d2f001da5678b39482efbdf5770dc->setFinish($this->to_time);$ve98d2f001da5678b39482efbdf5770dc->setLimit(1);$ve98d2f001da5678b39482efbdf5770dc->setDomain($this->domain);$ve98d2f001da5678b39482efbdf5770dc->setUser($this->user);$result = $ve98d2f001da5678b39482efbdf5770dc->get();$vee2a5d0a2c1a6fe3177baa4789574c53 = array_pop($result['dynamic']);$v21ffce5b8a6cc8cc6a41448dd69623c9['visits']['int:deep'] = round($vee2a5d0a2c1a6fe3177baa4789574c53['level_avg'], 2);$v9549dd6065d019211460c59a86dd6536->isValid('sourcesTop');$ve98d2f001da5678b39482efbdf5770dc = $v9549dd6065d019211460c59a86dd6536->get('sourcesTop');$ve98d2f001da5678b39482efbdf5770dc->setStart($this->from_time);$ve98d2f001da5678b39482efbdf5770dc->setFinish($this->to_time);$ve98d2f001da5678b39482efbdf5770dc->setLimit(1);$ve98d2f001da5678b39482efbdf5770dc->setDomain($this->domain);$ve98d2f001da5678b39482efbdf5770dc->setUser($this->user);$result = $ve98d2f001da5678b39482efbdf5770dc->get();if (isset($result[0]['cnt'])) {$v21ffce5b8a6cc8cc6a41448dd69623c9['sources']['string:top_source'] =  ($result[0]['type'] == "direct" ? getLabel('label-direct-enter') : $result[0]['name']) . " (" . $result[0]['cnt'] . ")";}$v9549dd6065d019211460c59a86dd6536->isValid('sourcesSEOKeywords');$ve98d2f001da5678b39482efbdf5770dc = $v9549dd6065d019211460c59a86dd6536->get('sourcesSEOKeywords');$ve98d2f001da5678b39482efbdf5770dc->setStart($this->from_time);$ve98d2f001da5678b39482efbdf5770dc->setFinish($this->to_time);$ve98d2f001da5678b39482efbdf5770dc->setLimit(1);$ve98d2f001da5678b39482efbdf5770dc->setDomain($this->domain);$ve98d2f001da5678b39482efbdf5770dc->setUser($this->user);$result = $ve98d2f001da5678b39482efbdf5770dc->get();$v21ffce5b8a6cc8cc6a41448dd69623c9['sources']['string:top_keyword'] = (isset($result['all'][0]['text'])&&strlen($result['all'][0]['text'])? $result['all'][0]['text']." (" . $result['all'][0]['cnt'] . ")" : "-");$v9549dd6065d019211460c59a86dd6536->isValid('sourcesSEO');$ve98d2f001da5678b39482efbdf5770dc = $v9549dd6065d019211460c59a86dd6536->get('sourcesSEO');$ve98d2f001da5678b39482efbdf5770dc->setStart($this->from_time);$ve98d2f001da5678b39482efbdf5770dc->setFinish($this->to_time);$ve98d2f001da5678b39482efbdf5770dc->setLimit(1);$ve98d2f001da5678b39482efbdf5770dc->setDomain($this->domain);$ve98d2f001da5678b39482efbdf5770dc->setUser($this->user);$result = $ve98d2f001da5678b39482efbdf5770dc->get();$v21ffce5b8a6cc8cc6a41448dd69623c9['sources']['string:top_searcher'] =                                 (isset($result['all'][0]['name'])&&strlen($result['all'][0]['name'])? $result['all'][0]['name']." (" . $result['all'][0]['cnt'] . ")" : "-");$v21ffce5b8a6cc8cc6a41448dd69623c9['filter'] = $this->getFilterPanel();$this->setDataType("settings");$this->setActionType("view");$v8d777f385d3dfec8815d20f7496026dc = $this->prepareData($v21ffce5b8a6cc8cc6a41448dd69623c9, 'settings');$this->setData($v8d777f385d3dfec8815d20f7496026dc);return $this->doData();}public function tag() {$this->updateFilter();$v3086f2e00ea19967e011c652edfc2884 = getRequest('param1');$vd67941c445fbe5cb221bfe197bacde0b      = (int) getRequest('param0');$v7982b1e077e535e00dc62cf8d6e9a455   = cmsController::getInstance()->getCurrentDomain()->getHost();$v23a2cbb13502e40ff869bbfa3211fc9b   = cmsController::getInstance()->getCurrentLang()->getPrefix();$v935ce824edb160b3142d2c3f4ad8f9d5 = '/'.$v23a2cbb13502e40ff869bbfa3211fc9b.'/admin/stat/';$v5430f956c571aa9e86e91947b5da11a2    = $v935ce824edb160b3142d2c3f4ad8f9d5.__FUNCTION__.'/'.$vd67941c445fbe5cb221bfe197bacde0b;if($v3086f2e00ea19967e011c652edfc2884 == 'xml') {$v9549dd6065d019211460c59a86dd6536 = new statisticFactory(dirname(__FILE__) . '/classes');$v9549dd6065d019211460c59a86dd6536->isValid('tag');$ve98d2f001da5678b39482efbdf5770dc  = $v9549dd6065d019211460c59a86dd6536->get('tag');$ve98d2f001da5678b39482efbdf5770dc->setStart($this->from_time);$ve98d2f001da5678b39482efbdf5770dc->setFinish($this->to_time);$ve98d2f001da5678b39482efbdf5770dc->setParams(array("tag_id" => $vd67941c445fbe5cb221bfe197bacde0b));$ve98d2f001da5678b39482efbdf5770dc->setDomain($this->domain);$ve98d2f001da5678b39482efbdf5770dc->setUser($this->user);$v5c633ca74df261fa24405e9e8ff9e444  = $ve98d2f001da5678b39482efbdf5770dc->get();$va35358fbd968fc1bb515f48c8a83cfdc  = "<"."?xml version=\"1.0\" encoding=\"utf-8\"?".">\n";$va35358fbd968fc1bb515f48c8a83cfdc .= "<statistics>\n";$va35358fbd968fc1bb515f48c8a83cfdc .= "  <report name=\"Tag\" title=\"\" lang=\"".$v23a2cbb13502e40ff869bbfa3211fc9b."\" host=\"".$v7982b1e077e535e00dc62cf8d6e9a455."\">
                              <chart type=\"pie\">  
                                <argument field=\"uri\" />  
                                <value    field=\"count\" />  
                                <caption  field=\"uri\" />  
                              </chart>
                              <table>
                                <column field=\"uri\"   title=\"Страница\" />
                                <column field=\"count\" title=\"Показов тега (всего)\" />
                                <column field=\"rel\"   title=\"Показов тега (относительно других страниц)\" valueSuffix=\"%\" />
                              </table>
                              <data>";foreach($v5c633ca74df261fa24405e9e8ff9e444 as $vad4f3b23a9c1baee57e5d091271a0053) {$va35358fbd968fc1bb515f48c8a83cfdc .= "      <row uri=\"".$vad4f3b23a9c1baee57e5d091271a0053['uri']."\" count=\"".$vad4f3b23a9c1baee57e5d091271a0053['count']."\" rel=\"".number_format($vad4f3b23a9c1baee57e5d091271a0053['rel']*100, 2, '.', '')."\" />";}$va35358fbd968fc1bb515f48c8a83cfdc .= "    </data>\n  </report>\n</statistics>";header("Content-type: text/xml; charset=utf-8");header("Content-length: ".strlen($va35358fbd968fc1bb515f48c8a83cfdc));$this->flush($va35358fbd968fc1bb515f48c8a83cfdc);return "";}$v21ffce5b8a6cc8cc6a41448dd69623c9 = array();$v21ffce5b8a6cc8cc6a41448dd69623c9['filter'] = $this->getFilterPanel();$v21ffce5b8a6cc8cc6a41448dd69623c9['ReportTag']['flash:report1'] = "url=".$v5430f956c571aa9e86e91947b5da11a2."/xml/";$this->setDataType("settings");$this->setActionType("view");$v8d777f385d3dfec8815d20f7496026dc = $this->prepareData($v21ffce5b8a6cc8cc6a41448dd69623c9, 'settings');$this->setData($v8d777f385d3dfec8815d20f7496026dc);return $this->doData();}public function getFilterPanel() {$vd8df91ac9811857eaa3598e4334d9ee5    = $_SERVER['REQUEST_URI'];$v69dcca300d8c6188cb76799d893ce20b = ($this->domain)    ? $this->domain    : 'all';$vf81b5cddebd47daf0caa6af0aea28802   = ($this->user)      ? $this->user      : '0';$v4783c93b77525d0ac55531efdbe90f6a      = ($this->from_time) ? $this->from_time : time();$vdbd95633adacb9e00885abe724e39145        = ($this->to_time)   ? $this->to_time   : time();$v89412d9ae599ccc0d4f8ef62a8ec7217          = array();$v82b9e3fe6a4800f636e525ced91f98d9        = array();$vc456eb05327fd4076e99245b766177a5         = array();$v5a08a6d6ee7619e6f2305ab5605f6fec  = array( getLabel('month-jan'),     getLabel('month-feb'),     getLabel('month-mar'),     getLabel('month-apr'),     getLabel('month-may'),     getLabel('month-jun'),     getLabel('month-jul'),     getLabel('month-aug'),     getLabel('month-sep'),     getLabel('month-oct'),     getLabel('month-nov'),     getLabel('month-dec')    );foreach(range(1, 31) as $v865c0c0b4ab0e063e5caa3387c1a8741) $v89412d9ae599ccc0d4f8ef62a8ec7217[]   = array('attribute:id' => $v865c0c0b4ab0e063e5caa3387c1a8741, 'node:name' => $v865c0c0b4ab0e063e5caa3387c1a8741);foreach(range(1, 12) as $v865c0c0b4ab0e063e5caa3387c1a8741) $v82b9e3fe6a4800f636e525ced91f98d9[] = array('attribute:id' => $v865c0c0b4ab0e063e5caa3387c1a8741, 'node:name' => $v5a08a6d6ee7619e6f2305ab5605f6fec[$v865c0c0b4ab0e063e5caa3387c1a8741-1]);foreach(range((int)date('Y') - 2, (int)date('Y')) as $v56180dd7083bb76da3c08f1af88ca073) $vc456eb05327fd4076e99245b766177a5[] = array('attribute:id' => $v56180dd7083bb76da3c08f1af88ca073, 'node:name' => $v56180dd7083bb76da3c08f1af88ca073);$v9bd6140bf8c2911a8b6012de85bcadcc = array();$v9bd6140bf8c2911a8b6012de85bcadcc['domain:domain'] = array( 'nodes:item' => array() , 'attribute:id' => $v69dcca300d8c6188cb76799d893ce20b );$vdda3538cc8344d9ca4e50a2dffec27f3         = &$v9bd6140bf8c2911a8b6012de85bcadcc['domain:domain']['nodes:item'];foreach($this->domainArray as $v61adcb2cd3bec191f3057b6c9bef9158 => $vb790175058e05911758cdaedd66fe5d9)    $vdda3538cc8344d9ca4e50a2dffec27f3[] = array( 'attribute:id' => $v61adcb2cd3bec191f3057b6c9bef9158, 'node:name' => $vb790175058e05911758cdaedd66fe5d9);$v9bd6140bf8c2911a8b6012de85bcadcc['users:user']    = array( 'attribute:id' => $vf81b5cddebd47daf0caa6af0aea28802, 'nodes:item' => array());$v06cc7489297eb419ce34d4d796461161          = &$v9bd6140bf8c2911a8b6012de85bcadcc['users:user']['nodes:item'];foreach($this->usersArray as $v4818cf377fdac23ca8686be2c2f31412 => $va2acb0ceb4ee70a3094c4b5cb2b73deb) $v06cc7489297eb419ce34d4d796461161[] = array( 'attribute:id' => $v4818cf377fdac23ca8686be2c2f31412, 'node:name' => $va2acb0ceb4ee70a3094c4b5cb2b73deb);$v9bd6140bf8c2911a8b6012de85bcadcc['period:start']  = array( 'nodes:entity' => array(                                            array( 'attribute:type' => 'day',   'attribute:id' => (int)date('d', $v4783c93b77525d0ac55531efdbe90f6a), 'nodes:item' => $v89412d9ae599ccc0d4f8ef62a8ec7217 ),                                            array( 'attribute:type' => 'month', 'attribute:id' => (int)date('m', $v4783c93b77525d0ac55531efdbe90f6a), 'nodes:item' => $v82b9e3fe6a4800f636e525ced91f98d9 ),                                            array( 'attribute:type' => 'year',  'attribute:id' => (int)date('Y', $v4783c93b77525d0ac55531efdbe90f6a), 'nodes:item' => $vc456eb05327fd4076e99245b766177a5 )                                            ));$v9bd6140bf8c2911a8b6012de85bcadcc['period:end']    = array( 'nodes:entity' => array(                                            array( 'attribute:type' => 'day',   'attribute:id' => (int)date('d', $vdbd95633adacb9e00885abe724e39145), 'nodes:item' => $v89412d9ae599ccc0d4f8ef62a8ec7217 ),                                            array( 'attribute:type' => 'month', 'attribute:id' => (int)date('m', $vdbd95633adacb9e00885abe724e39145), 'nodes:item' => $v82b9e3fe6a4800f636e525ced91f98d9 ),                                            array( 'attribute:type' => 'year',  'attribute:id' => (int)date('Y', $vdbd95633adacb9e00885abe724e39145), 'nodes:item' => $vc456eb05327fd4076e99245b766177a5 )                                            ));return $v9bd6140bf8c2911a8b6012de85bcadcc;}public function updateFilter() {try {$v007d8c3c5f894c63ad8af6f491aa6dac = array('config' => array(                                        'string:domain'   => null,                                        'int:user'        => null,                                        'int:start_day'   => null,                                        'int:start_month' => null,                                        'int:start_year'  => null,                                        'int:end_day'     => null,                                        'int:end_month'   => null,                                        'int:end_year'    => null,                            ));$v007d8c3c5f894c63ad8af6f491aa6dac = $this->expectParams($v007d8c3c5f894c63ad8af6f491aa6dac);if(in_array($v007d8c3c5f894c63ad8af6f491aa6dac['config']['string:domain'], $this->domainArray) || $v007d8c3c5f894c63ad8af6f491aa6dac['config']['string:domain']=='all')                {$this->domain = $v007d8c3c5f894c63ad8af6f491aa6dac['config']['string:domain'];setcookie('stat_domain', $this->domain, 0, '/');}else {if(isset($_COOKIE['stat_domain']))                    if(in_array($_COOKIE['stat_domain'], $this->domainArray) || $_COOKIE['stat_domain'] == 'all')                        $this->domain = $_COOKIE['stat_domain'];}if(in_array($v007d8c3c5f894c63ad8af6f491aa6dac['config']['int:user'], array_keys($this->usersArray)) || $v007d8c3c5f894c63ad8af6f491aa6dac['config']['int:user']==0)                {$this->user = $v007d8c3c5f894c63ad8af6f491aa6dac['config']['int:user'];setcookie('stat_user', $this->user, 0, '/');}else {if(isset($_COOKIE['stat_user']))                    if(in_array($_COOKIE['stat_user'], $this->usersArray) || $_COOKIE['stat_user'] == 'all')                        $this->user = $_COOKIE['stat_user'];}$v36eba1e1e343279857ea7f69a597324e = (int) $v007d8c3c5f894c63ad8af6f491aa6dac['config']['int:start_day'];$v0ab34ca97d9946591bf89817789cb5de = (int) $v007d8c3c5f894c63ad8af6f491aa6dac['config']['int:start_month'];$v263ed3ca689addde40e4ee6150c611d3 = (int) $v007d8c3c5f894c63ad8af6f491aa6dac['config']['int:start_year'];$this->from_time = (int) strtotime($v263ed3ca689addde40e4ee6150c611d3 . "-" . $v0ab34ca97d9946591bf89817789cb5de . "-" . $v36eba1e1e343279857ea7f69a597324e);setcookie("from_time", $this->from_time, 0, "/");$v626726e60bd1215f36719a308a25b798 = (int) $v007d8c3c5f894c63ad8af6f491aa6dac['config']['int:end_day'];$v6a962563e235e1789e663e356ac8d9e4 = (int) $v007d8c3c5f894c63ad8af6f491aa6dac['config']['int:end_month'];$v36f3af6226e0b5303e19b824e7442272 = (int) $v007d8c3c5f894c63ad8af6f491aa6dac['config']['int:end_year'];$this->to_time = (int) strtotime($v36f3af6226e0b5303e19b824e7442272 . "-" . $v6a962563e235e1789e663e356ac8d9e4 . "-" . $v626726e60bd1215f36719a308a25b798);if ($this->to_time < $this->from_time) {$this->to_time = strtotime('+1 day', $this->from_time);}setcookie("to_time", $this->to_time, 0, "/");}catch(Exception $ve1671797c52e15f763380b45e841ec32) {if(isset($_COOKIE['from_time']))   $this->from_time = (int) $_COOKIE['from_time'];if(isset($_COOKIE['to_time']))     $this->to_time   = (int) $_COOKIE['to_time'];if(isset($_COOKIE['stat_domain'])) $this->domain    = (in_array($_COOKIE['stat_domain'], $this->domainArray)  || $_COOKIE['stat_domain'] == 'all' )                                                                 ? $_COOKIE['stat_domain'] : 'all';if(!$this->domain)          $this->domain    = 'all';if(isset($_COOKIE['stat_user'])) $this->user    = (in_array($_COOKIE['stat_user'], array_keys($this->usersArray))  || $_COOKIE['stat_user'] == 0 )                                                                 ? $_COOKIE['stat_user'] : 0;if(!$this->user)          $this->user    = 0;}}public static function makeDate($_sFormat, $_iTimeStamp = -1) {$v95c6275361de017f553ca75cc9efa1ad = array("Январь","Февраль","Март","Апрель","Май",        "Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь");$v3056c122b8176ac78d5f088c416b4ee9 = array("Янв","Фев","Мар","Апр","Май",         "Июнь","Июль","Авг","Сен","Окт","Ноя","Дек");if($_iTimeStamp == -1) $_iTimeStamp = time();$v85b4634953e54949678c9ab97eb56e6b = strlen($_sFormat);$v18f291b59d6f09bab8d9965368023f6c = "";for($v865c0c0b4ab0e063e5caa3387c1a8741=0;$v865c0c0b4ab0e063e5caa3387c1a8741<$v85b4634953e54949678c9ab97eb56e6b;$v865c0c0b4ab0e063e5caa3387c1a8741++) {switch($_sFormat[$v865c0c0b4ab0e063e5caa3387c1a8741]) {case 'F': $v18f291b59d6f09bab8d9965368023f6c .=  $v95c6275361de017f553ca75cc9efa1ad[intval(date("n", $_iTimeStamp))];break;case 'M': $v18f291b59d6f09bab8d9965368023f6c .= $v3056c122b8176ac78d5f088c416b4ee9[intval(date("n", $_iTimeStamp))-1];break;default:  $v18f291b59d6f09bab8d9965368023f6c .= date($_sFormat[$v865c0c0b4ab0e063e5caa3387c1a8741], $_iTimeStamp);}}return $v18f291b59d6f09bab8d9965368023f6c;}};?>