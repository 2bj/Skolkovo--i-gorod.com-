<?php
 class umiCron implements iUmiCron {protected $statFile, $buffer = array(), $logs = NULL;public function __construct() {$v2245023265ae4cf87d02c8b6ba991139 = mainConfiguration::getInstance();$this->statFile = $v2245023265ae4cf87d02c8b6ba991139->includeParam('system.runtime-cache') . 'cron';}public function __destruct() {$this->setLastCall();}public function run() {$vb6b9464f2f59896b4297666183eee817 = $this->getLastCall();$v8f41181a2712293624ac98172267c6d8 = time();$result = $this->callEvent($vb6b9464f2f59896b4297666183eee817, $v8f41181a2712293624ac98172267c6d8);$this->setLastCall();return $result;}public function getBuffer() {return $this->buffer;}public function getLogs() {return $this->logs;}public function getParsedLogs() {$result = "";$v2165e4fa5bddb65a31f6a0c495c2fa37 = $this->getLogs();if(sizeof($v2165e4fa5bddb65a31f6a0c495c2fa37['executed'])) {$result .= "Executed event handlers:\n";$result .= $this->getParsedLogsByArray($v2165e4fa5bddb65a31f6a0c495c2fa37['executed']);$result .= "\n";}if(sizeof($v2165e4fa5bddb65a31f6a0c495c2fa37['failed'])) {$result .= "Failed event handlers:\n";$result .= $this->getParsedLogsByArray($v2165e4fa5bddb65a31f6a0c495c2fa37['failed']);$result .= "\n";}if(sizeof($v2165e4fa5bddb65a31f6a0c495c2fa37['breaked'])) {$result .= "Breaked event handlers:\n";$result .= $this->getParsedLogsByArray($v2165e4fa5bddb65a31f6a0c495c2fa37['breaked']);$result .= "\n";}return $result ? $result : "No event handlers found";}protected function getParsedLogsByArray($v47c80780ab608cc046f2a6e6f071feb6) {$result = "";for($v865c0c0b4ab0e063e5caa3387c1a8741 = 0;$v865c0c0b4ab0e063e5caa3387c1a8741 < sizeof($v47c80780ab608cc046f2a6e6f071feb6);$v865c0c0b4ab0e063e5caa3387c1a8741++) {$v70e8822b2e035fa3777d666207aeafa8 = $v47c80780ab608cc046f2a6e6f071feb6[$v865c0c0b4ab0e063e5caa3387c1a8741];$v22884db148f0ffb0d830ba431102b0b5 = $v70e8822b2e035fa3777d666207aeafa8->getCallbackModule();$vea9f6aca279138c58f705c8d4cb4b8ce = $v70e8822b2e035fa3777d666207aeafa8->getCallbackMethod();$vb988295c268025b49dfb3df26171ddc3 = $v70e8822b2e035fa3777d666207aeafa8->getPriority();$v7e85bcb66fb9a809d5ab4f62a8b8bea8 = $v70e8822b2e035fa3777d666207aeafa8->getIsCritical() ? "critical" : "not critial";$v7b8b965ad4bca0e41ab51de7b31363a1 = $v865c0c0b4ab0e063e5caa3387c1a8741 + 1;$result .= <<<END
	{$v7b8b965ad4bca0e41ab51de7b31363a1}. {$v22884db148f0ffb0d830ba431102b0b5}::{$vea9f6aca279138c58f705c8d4cb4b8ce} (umiEventPoint), priority = {$vb988295c268025b49dfb3df26171ddc3}, {$v7e85bcb66fb9a809d5ab4f62a8b8bea8}

END;   }return $result;}protected function getLastCall() {if(is_file($this->statFile)) {return filemtime($this->statFile);}else {$this->setLastCall();return time();}}protected function setLastCall() {if (!$v9b207167e5381c47682c6b4f58a623fb = @touch($this->statFile)) {$v9b207167e5381c47682c6b4f58a623fb = @touch($this->statFile);}return $v9b207167e5381c47682c6b4f58a623fb;}protected function callEvent($vb6b9464f2f59896b4297666183eee817, $v8f41181a2712293624ac98172267c6d8) {static $v886bb73b3156b0aa24aac99d2de0b238 = 0;$v4119639092e62c55ea8be348e4d9260d = new umiEventPoint("cron");$v4119639092e62c55ea8be348e4d9260d->setMode("process");$v4119639092e62c55ea8be348e4d9260d->setParam("lastCallTime", $vb6b9464f2f59896b4297666183eee817);$v4119639092e62c55ea8be348e4d9260d->setParam("currCallTime", $v8f41181a2712293624ac98172267c6d8);$v4119639092e62c55ea8be348e4d9260d->addRef("buffer", $this->buffer);$v4119639092e62c55ea8be348e4d9260d->addRef("counter", $v886bb73b3156b0aa24aac99d2de0b238);$this->logs = $v4119639092e62c55ea8be348e4d9260d->call();return $v886bb73b3156b0aa24aac99d2de0b238;}};?>
