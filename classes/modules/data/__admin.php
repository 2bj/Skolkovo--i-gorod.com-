<?php
 abstract class __data extends baseModuleAdmin {public function config() {$v15d61712450a686a7f365adf4fef581f = getRequest("param0");if($v15d61712450a686a7f365adf4fef581f == "do") {$this->saveEditedList("basetypes");$this->chooseRedirect();}$vc47a1ff7587ae1acc82b121f7b297b45 = umiHierarchyTypesCollection::getInstance()->getTypesList();$this->setDataType("list");$this->setActionType("modify");$v8d777f385d3dfec8815d20f7496026dc = $this->prepareData($vc47a1ff7587ae1acc82b121f7b297b45, "hierarchy_types");$this->setData($v8d777f385d3dfec8815d20f7496026dc, sizeof($vc47a1ff7587ae1acc82b121f7b297b45));return $this->doData();}public function types() {$ve1ba980ce14a8c0d7e2779f895ab8695 = (int) getRequest('p');$v9d85c254b5062e518a134a61950999c3 = 50;if(isset($_REQUEST['rel'][0])) {$v2e3c048401582f4247d7ccac43657d2d = $this->expectObjectTypeId($_REQUEST['rel'][0], false, true);}else {$v2e3c048401582f4247d7ccac43657d2d = $this->expectObjectTypeId('param0');}if(isset($_REQUEST['search-all-text'][0])) {$va339e2404792d7f8add09a5013066a3e = array_extract_values($_REQUEST['search-all-text']);foreach($va339e2404792d7f8add09a5013066a3e as $v865c0c0b4ab0e063e5caa3387c1a8741 => $v9e3669d19b675bd57058fd4664205d2a) {$va339e2404792d7f8add09a5013066a3e[$v865c0c0b4ab0e063e5caa3387c1a8741] = wa_strtolower($v9e3669d19b675bd57058fd4664205d2a);}}else {$va339e2404792d7f8add09a5013066a3e = false;}$v21ffce5b8a6cc8cc6a41448dd69623c9 = Array();$vd14a8022b085f9ef19d479cbdd581127 = umiObjectTypesCollection::getInstance();if($va339e2404792d7f8add09a5013066a3e && !$v2e3c048401582f4247d7ccac43657d2d) {$v0a65750af42f5353446f244511e12e79 = $vd14a8022b085f9ef19d479cbdd581127->getChildClasses(0);}else {$v0a65750af42f5353446f244511e12e79 = $vd14a8022b085f9ef19d479cbdd581127->getSubTypesList($v2e3c048401582f4247d7ccac43657d2d);}$vfa816edb83e95bf0c8da580bdfd491ef = Array();foreach($v0a65750af42f5353446f244511e12e79 as $v5f694956811487225d15e973ca38fbab) {$v599dcce2998a6b40b1e38e8c6006cb0a = $vd14a8022b085f9ef19d479cbdd581127->getType($v5f694956811487225d15e973ca38fbab);if($v599dcce2998a6b40b1e38e8c6006cb0a instanceof umiObjectType) {$vb068931cc450442b63f5b3d276ea4297 = $v599dcce2998a6b40b1e38e8c6006cb0a->getName();if($va339e2404792d7f8add09a5013066a3e) {$ve3cc92c14a5e6dd1a7d94b6ff634d7fc = false;foreach($va339e2404792d7f8add09a5013066a3e as $v597a51f04d341eba4ca965899acc10b3) {if(strstr(wa_strtolower($vb068931cc450442b63f5b3d276ea4297), $v597a51f04d341eba4ca965899acc10b3) !== false) {$ve3cc92c14a5e6dd1a7d94b6ff634d7fc = true;}}if(!$ve3cc92c14a5e6dd1a7d94b6ff634d7fc) {continue;}}$vfa816edb83e95bf0c8da580bdfd491ef[$v5f694956811487225d15e973ca38fbab] = $vb068931cc450442b63f5b3d276ea4297;}}if(isset($_REQUEST['order_filter']['name'])) {natsort($vfa816edb83e95bf0c8da580bdfd491ef);if($_REQUEST['order_filter']['name'] == "desc") {$vfa816edb83e95bf0c8da580bdfd491ef = array_reverse($vfa816edb83e95bf0c8da580bdfd491ef, true);}}$v0a65750af42f5353446f244511e12e79 = array_keys($vfa816edb83e95bf0c8da580bdfd491ef);unset($vfa816edb83e95bf0c8da580bdfd491ef);$v0a65750af42f5353446f244511e12e79 = $this->excludeNestedTypes($v0a65750af42f5353446f244511e12e79);$vfbb44b4487415b134bce9c790a27fe5e = sizeof($v0a65750af42f5353446f244511e12e79);$v0a65750af42f5353446f244511e12e79 = array_slice($v0a65750af42f5353446f244511e12e79, $ve1ba980ce14a8c0d7e2779f895ab8695 * $v9d85c254b5062e518a134a61950999c3, $v9d85c254b5062e518a134a61950999c3, false);$this->setDataType("list");$this->setActionType("view");$this->setDataRange($v9d85c254b5062e518a134a61950999c3, $ve1ba980ce14a8c0d7e2779f895ab8695 * $v9d85c254b5062e518a134a61950999c3);$v8d777f385d3dfec8815d20f7496026dc = $this->prepareData($v0a65750af42f5353446f244511e12e79, "types");$this->setData($v8d777f385d3dfec8815d20f7496026dc, $vfbb44b4487415b134bce9c790a27fe5e);return $this->doData();}public function type_add() {$v2e3c048401582f4247d7ccac43657d2d = (int) $this->expectObjectTypeId('param0');$v0e8133eb006c0f85ed9444ae07a60842 = umiObjectTypesCollection::getInstance();$v94757cae63fd3e398c0811a976dd6bbe = $v0e8133eb006c0f85ed9444ae07a60842->addType($v2e3c048401582f4247d7ccac43657d2d, "i18n::object-type-new-data-type");$this->redirect($this->pre_lang . "/admin/data/type_edit/" . $v94757cae63fd3e398c0811a976dd6bbe . "/");}public function type_edit() {$v599dcce2998a6b40b1e38e8c6006cb0a = $this->expectObjectType('param0');$v15d61712450a686a7f365adf4fef581f = (String) getRequest('param1');if($v15d61712450a686a7f365adf4fef581f == "do") {$this->saveEditedTypeData($v599dcce2998a6b40b1e38e8c6006cb0a);$this->chooseRedirect();}$this->setDataType("form");$this->setActionType("modify");$v8d777f385d3dfec8815d20f7496026dc = $this->prepareData($v599dcce2998a6b40b1e38e8c6006cb0a, "type");$this->setData($v8d777f385d3dfec8815d20f7496026dc);return $this->doData();}public function type_field_add($v81faba977ce3a1599878f66752c8e16f = false) {$v0e939a4ffd3aacd724dd3b50147b4353 = (int) getRequest('param0');$v94757cae63fd3e398c0811a976dd6bbe = (int) getRequest('param1');$v15d61712450a686a7f365adf4fef581f = (string) getRequest('param2');$ve62e4d22f2d8630f6e44e2b7c3f70ddc = Array("group-id" => $v0e939a4ffd3aacd724dd3b50147b4353, "type-id" => $v94757cae63fd3e398c0811a976dd6bbe);if($v15d61712450a686a7f365adf4fef581f == "do") {$v3aabf39f2d943fa886d86dcbbee4d910 = $this->saveAddedFieldData($ve62e4d22f2d8630f6e44e2b7c3f70ddc);if(getRequest('noredirect')) {$v06e3d36fa30cea095545139854ad1fb9 = umiFieldsCollection::getInstance()->getField($v3aabf39f2d943fa886d86dcbbee4d910);$this->setDataType("form");$this->setActionType("modify");$v8d777f385d3dfec8815d20f7496026dc = $this->prepareData($v06e3d36fa30cea095545139854ad1fb9, "field");$this->setData($v8d777f385d3dfec8815d20f7496026dc);return $this->doData();}else {$this->chooseRedirect(($v81faba977ce3a1599878f66752c8e16f ? $v81faba977ce3a1599878f66752c8e16f : ($this->pre_lang . '/admin/data/type_field_edit/')) . $v3aabf39f2d943fa886d86dcbbee4d910 . '/' . $v94757cae63fd3e398c0811a976dd6bbe . '/');}}$this->setDataType("form");$this->setActionType("create");$v8d777f385d3dfec8815d20f7496026dc = $this->prepareData($ve62e4d22f2d8630f6e44e2b7c3f70ddc, "field");$this->setData($v8d777f385d3dfec8815d20f7496026dc);return $this->doData();}public function type_field_edit() {$v3aabf39f2d943fa886d86dcbbee4d910 = (int) getRequest('param0');$v94757cae63fd3e398c0811a976dd6bbe = (int) getRequest('param1');$v15d61712450a686a7f365adf4fef581f = (string) getRequest('param2');$v06e3d36fa30cea095545139854ad1fb9 = umiFieldsCollection::getInstance()->getField($v3aabf39f2d943fa886d86dcbbee4d910);if($v15d61712450a686a7f365adf4fef581f == "do") {$this->saveEditedFieldData($v06e3d36fa30cea095545139854ad1fb9);if(!getRequest('noredirect')) {$this->chooseRedirect();}}$this->setDataType("form");$this->setActionType("modify");$v8d777f385d3dfec8815d20f7496026dc = $this->prepareData($v06e3d36fa30cea095545139854ad1fb9, "field");$this->setData($v8d777f385d3dfec8815d20f7496026dc);return $this->doData();}public function type_group_edit() {$v0e939a4ffd3aacd724dd3b50147b4353 = (int) getRequest('param0');$v94757cae63fd3e398c0811a976dd6bbe = (int) getRequest('param1');$v15d61712450a686a7f365adf4fef581f = (string) getRequest('param2');$vdb0f6f37ebeb6ea09489124345af2a45 = umiObjectTypesCollection::getInstance()->getType($v94757cae63fd3e398c0811a976dd6bbe)->getFieldsGroup($v0e939a4ffd3aacd724dd3b50147b4353);if($v15d61712450a686a7f365adf4fef581f == "do") {$this->saveEditedGroupData($vdb0f6f37ebeb6ea09489124345af2a45);$this->chooseRedirect();}$this->setDataType("form");$this->setActionType("modify");$v8d777f385d3dfec8815d20f7496026dc = $this->prepareData($vdb0f6f37ebeb6ea09489124345af2a45, "group");$this->setData($v8d777f385d3dfec8815d20f7496026dc);return $this->doData();}public function type_group_add($v81faba977ce3a1599878f66752c8e16f = false) {$v94757cae63fd3e398c0811a976dd6bbe = (int) getRequest('param0');$v15d61712450a686a7f365adf4fef581f = (string) getRequest('param1');$ve62e4d22f2d8630f6e44e2b7c3f70ddc = Array("type-id" => $v94757cae63fd3e398c0811a976dd6bbe);if($v15d61712450a686a7f365adf4fef581f == "do") {$v6790ebc6beba7eb1ae08a825c28e1600 = $this->saveAddedGroupData($ve62e4d22f2d8630f6e44e2b7c3f70ddc);if(getRequest('noredirect')) {$vdb0f6f37ebeb6ea09489124345af2a45 = umiObjectTypesCollection::getInstance()->getType($v94757cae63fd3e398c0811a976dd6bbe)->getFieldsGroup($v6790ebc6beba7eb1ae08a825c28e1600);$this->setDataType("form");$this->setActionType("modify");$v8d777f385d3dfec8815d20f7496026dc = $this->prepareData($vdb0f6f37ebeb6ea09489124345af2a45, "group");$this->setData($v8d777f385d3dfec8815d20f7496026dc);return $this->doData();}else {$this->chooseRedirect(($v81faba977ce3a1599878f66752c8e16f ? $v81faba977ce3a1599878f66752c8e16f : ($this->pre_lang . '/admin/data/type_group_edit/')) . $v6790ebc6beba7eb1ae08a825c28e1600 . '/' . $v94757cae63fd3e398c0811a976dd6bbe . '/');}}$this->setDataType("form");$this->setActionType("create");$v8d777f385d3dfec8815d20f7496026dc = $this->prepareData($ve62e4d22f2d8630f6e44e2b7c3f70ddc, "group");$this->setData($v8d777f385d3dfec8815d20f7496026dc);return $this->doData();}public function type_del() {$vd14a8022b085f9ef19d479cbdd581127 = getRequest('element');if(!is_array($vd14a8022b085f9ef19d479cbdd581127)) {$vd14a8022b085f9ef19d479cbdd581127 = Array($vd14a8022b085f9ef19d479cbdd581127);}foreach($vd14a8022b085f9ef19d479cbdd581127 as $v5f694956811487225d15e973ca38fbab) {$v8277e0910d750195b448797616e091ad = $this->expectObjectTypeId($v5f694956811487225d15e973ca38fbab, true, true);umiObjectTypesCollection::getInstance()->delType($v5f694956811487225d15e973ca38fbab);}$this->setDataType("list");$this->setActionType("view");$v8d777f385d3dfec8815d20f7496026dc = $this->prepareData($vd14a8022b085f9ef19d479cbdd581127, "types");$this->setData($v8d777f385d3dfec8815d20f7496026dc);return $this->doData();}public function getEditLink($v94757cae63fd3e398c0811a976dd6bbe) {$v20d49e744b40132da5f81045b5d6ec25 = false;$v441c674b4099be68caf8fb0f7ff47e3e = $this->pre_lang . "/admin/data/type_edit/{$v94757cae63fd3e398c0811a976dd6bbe}/";return Array($v20d49e744b40132da5f81045b5d6ec25, $v441c674b4099be68caf8fb0f7ff47e3e);}public function getDatasetConfiguration($veca07335a33c5aeb5e1bc7c98b4b9d80 = '') {$vbd269368d92362975c0ab1bb7b461813 = 'type_del';if($veca07335a33c5aeb5e1bc7c98b4b9d80 == "guides") {$v89ab96b2cae2569ced36d70f6866f57d = "guides";}else if ($veca07335a33c5aeb5e1bc7c98b4b9d80 == "trash") {$v89ab96b2cae2569ced36d70f6866f57d   = 'trash';$vbd269368d92362975c0ab1bb7b461813 = 'trash_del';}else if (is_numeric($veca07335a33c5aeb5e1bc7c98b4b9d80)) {$v89ab96b2cae2569ced36d70f6866f57d = "guide_items/" . $veca07335a33c5aeb5e1bc7c98b4b9d80;return array(     'methods' => array(      array('title'=>getLabel('smc-load'), 'forload'=>true,     'module'=>'data', '#__name'=>$v89ab96b2cae2569ced36d70f6866f57d),      array('title'=>getLabel('smc-delete'),           'module'=>'data', '#__name'=>'guide_item_del', 'aliases' => 'tree_delete_element,delete,del')),     'types' => array(      array('common' => 'true', 'id' => $veca07335a33c5aeb5e1bc7c98b4b9d80)     )    );}else {$v89ab96b2cae2569ced36d70f6866f57d = "types";}$v83878c91171338902e0fe0fb97a8c47a = array(     'methods' => array(      array('title'=>getLabel('smc-load'), 'forload'=>true,     'module'=>'data', '#__name'=>$v89ab96b2cae2569ced36d70f6866f57d),      array('title'=>getLabel('smc-delete'),           'module'=>'data', '#__name'=>$vbd269368d92362975c0ab1bb7b461813, 'aliases' => 'tree_delete_element,delete,del')      )    );if ($veca07335a33c5aeb5e1bc7c98b4b9d80 == "trash") {$v83878c91171338902e0fe0fb97a8c47a['methods'][] = array('title'=>getLabel('smc-restore'),  'module'=>'data', '#__name'=>'trash_restore', 'aliases' => 'restore_element');}return $v83878c91171338902e0fe0fb97a8c47a;}public function getObjectTypeEditLink($v5f694956811487225d15e973ca38fbab) {return Array(    'create-link' => $this->pre_lang . "/admin/data/type_add/" . $v5f694956811487225d15e973ca38fbab . "/",    'edit-link' => $this->pre_lang . "/admin/data/type_edit/" . $v5f694956811487225d15e973ca38fbab . "/"   );}public function excludeNestedTypes($v47c80780ab608cc046f2a6e6f071feb6) {$v0e8133eb006c0f85ed9444ae07a60842 = umiObjectTypesCollection::getInstance();$result = Array();foreach($v47c80780ab608cc046f2a6e6f071feb6 as $v5f694956811487225d15e973ca38fbab) {$v599dcce2998a6b40b1e38e8c6006cb0a = $v0e8133eb006c0f85ed9444ae07a60842->getType($v5f694956811487225d15e973ca38fbab);if($v599dcce2998a6b40b1e38e8c6006cb0a instanceof umiObjectType) {if(in_array($v599dcce2998a6b40b1e38e8c6006cb0a->getParentId(), $v47c80780ab608cc046f2a6e6f071feb6)) {continue;}else {$result[] = $v5f694956811487225d15e973ca38fbab;}}}return $result;}public function getObjectsByTypeId($v6301cee35ea764a1e241978f93f01069) {$v5891da2d64975cae48d175d1e001f5da = umiObjectsCollection::getInstance();$v8be74552df93e31bbdd6b36ed74bdb6a = new umiSelection;$v8be74552df93e31bbdd6b36ed74bdb6a->addObjectType($v6301cee35ea764a1e241978f93f01069);$result = umiSelectionsParser::runSelection($v8be74552df93e31bbdd6b36ed74bdb6a);$vf1386a17eed513dff70798b0551dc170 = Array();foreach($result as $v16b2b26000987faccb260b9d39df1269) {$va8cfde6331bd59eb2ac96f8911c4b666 = $v5891da2d64975cae48d175d1e001f5da->getObject($v16b2b26000987faccb260b9d39df1269);if($va8cfde6331bd59eb2ac96f8911c4b666 instanceof umiObject) {$vf1386a17eed513dff70798b0551dc170[] = $va8cfde6331bd59eb2ac96f8911c4b666;}}$vfca1bff8ad8b3a8585abfb0ad523ba42 = Array("items" => Array("nodes:item" => $vf1386a17eed513dff70798b0551dc170));return $vfca1bff8ad8b3a8585abfb0ad523ba42;}};?>