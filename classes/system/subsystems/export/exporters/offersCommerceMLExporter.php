<?php
 class offersCommerceMLExporter extends umiExporter {public function setOutputBuffer() {$v7f2db423a49b305459147332fb01cf87 = outputBuffer::current('HTTPOutputBuffer');$v7f2db423a49b305459147332fb01cf87->charset("utf-8");$v7f2db423a49b305459147332fb01cf87->contentType("text/xml");return $v7f2db423a49b305459147332fb01cf87;}public function export($v92ec19ffde05e15769b1bb3ee05ad745) {$v8be74552df93e31bbdd6b36ed74bdb6a = new selector('pages');$v8be74552df93e31bbdd6b36ed74bdb6a->types('hierarchy-type')->name('catalog', 'object');if (count($v92ec19ffde05e15769b1bb3ee05ad745)) {foreach ($v92ec19ffde05e15769b1bb3ee05ad745 as $v9603a224b40d7b67210b78f2e390d00f) {$v8be74552df93e31bbdd6b36ed74bdb6a->where('hierarchy')->page($v9603a224b40d7b67210b78f2e390d00f->id)->childs(1000);}}$ved780287e302ec3b9fd3c5e78771919f = new xmlExporter("CommerceML2");$ved780287e302ec3b9fd3c5e78771919f->addElements($v8be74552df93e31bbdd6b36ed74bdb6a->result);$vbbd738a112791dd1d0cb6bd0d61d878f = $ved780287e302ec3b9fd3c5e78771919f->execute();$vd0c75bac742760cf71fd76cd75d0c02a = './xsl/export/' . $this->type . '.xsl';if (!is_file($vd0c75bac742760cf71fd76cd75d0c02a)) {throw new publicException("Can't load exporter {$vd0c75bac742760cf71fd76cd75d0c02a}");}$v9a09b4dfda82e3e665e31092d1c3ec8d = new DOMDocument("1.0", "utf-8");$v9a09b4dfda82e3e665e31092d1c3ec8d->formatOutput = XML_FORMAT_OUTPUT;$v9a09b4dfda82e3e665e31092d1c3ec8d->loadXML($vbbd738a112791dd1d0cb6bd0d61d878f->saveXML());$v640eac53ad75db5c49a9ec86390d8530 = xslTemplater::getInstance();$v640eac53ad75db5c49a9ec86390d8530->setIsInited(false);$v640eac53ad75db5c49a9ec86390d8530->init($vd0c75bac742760cf71fd76cd75d0c02a);$v640eac53ad75db5c49a9ec86390d8530->setXmlDocument($v9a09b4dfda82e3e665e31092d1c3ec8d);return $v640eac53ad75db5c49a9ec86390d8530->parseResult();}}?>