<?php
 abstract class __profile_users {public function profile($v66f6181bcb4cff4cd38fbc804a036db6 = "default", $ve8701ad48ba05a91604e480dd60899a3 = false) {if(!$v66f6181bcb4cff4cd38fbc804a036db6) $v66f6181bcb4cff4cd38fbc804a036db6 = "default";list($v364f9b183bd2dd9e0beb45c754830a6c, $vf05b0da46bee59e3768b4be894d18f27) = def_module::loadTemplates("tpls/users/profile/{$v66f6181bcb4cff4cd38fbc804a036db6}.tpl", "profile_block", "bad_user_block");$vfca1bff8ad8b3a8585abfb0ad523ba42 = Array();if(!$ve8701ad48ba05a91604e480dd60899a3) {$ve8701ad48ba05a91604e480dd60899a3 = (int) getRequest('param0');}if(!$ve8701ad48ba05a91604e480dd60899a3) {$permissions = permissionsCollection::getInstance();if($permissions->isAuth()) {$ve8701ad48ba05a91604e480dd60899a3 = $permissions->getUserId();}}if($vee11cbb19052e40b07aac0ca060c23ee = selector::get('object')->id($ve8701ad48ba05a91604e480dd60899a3)) {$this->validateEntityByTypes($vee11cbb19052e40b07aac0ca060c23ee, array('module' => 'users', 'method' => 'user'));$vfca1bff8ad8b3a8585abfb0ad523ba42['xlink:href'] = "uobject://" . $ve8701ad48ba05a91604e480dd60899a3;$v71531c96af40bfbcff591223b978c34d = $vee11cbb19052e40b07aac0ca060c23ee->getTypeId();if($v3d88fcbaa3581c4957147ef9ad47ec5e = umiObjectTypesCollection::getInstance()->getType($v71531c96af40bfbcff591223b978c34d)) {$vde84bb19c34be316243ad0e25a48442a = $v3d88fcbaa3581c4957147ef9ad47ec5e->getHierarchyTypeId();if($v9d5e6f50eda5e82be3edae08726a4895 = umiHierarchyTypesCollection::getInstance()->getType($vde84bb19c34be316243ad0e25a48442a)) {if($v9d5e6f50eda5e82be3edae08726a4895->getName() == "users" && $v9d5e6f50eda5e82be3edae08726a4895->getExt() == "user") {$vfca1bff8ad8b3a8585abfb0ad523ba42['id'] = $ve8701ad48ba05a91604e480dd60899a3;return def_module::parseTemplate($v364f9b183bd2dd9e0beb45c754830a6c, $vfca1bff8ad8b3a8585abfb0ad523ba42, false, $ve8701ad48ba05a91604e480dd60899a3);}}}}else {throw new publicException(getLabel('error-object-does-not-exist', null, $ve8701ad48ba05a91604e480dd60899a3));}return def_module::parseTemplate($vf05b0da46bee59e3768b4be894d18f27, $vfca1bff8ad8b3a8585abfb0ad523ba42);}public function onSubscribeChanges(umiEventPoint $ve1671797c52e15f763380b45e841ec32) {static $v5ddc7db6ac5deb141b409dff9ef9481e;if($v5ddc7db6ac5deb141b409dff9ef9481e === true) {return true;}$v15d61712450a686a7f365adf4fef581f = (bool) getRequest('subscribe_changes');$v24af3aa6132f2de2388dc4d034732920 = cmsController::getInstance()->getModule("users");if($ve8701ad48ba05a91604e480dd60899a3 = $v24af3aa6132f2de2388dc4d034732920->user_id) {$vee11cbb19052e40b07aac0ca060c23ee = umiObjectsCollection::getInstance()->getObject($ve8701ad48ba05a91604e480dd60899a3);if($vee11cbb19052e40b07aac0ca060c23ee instanceof umiObject) {$v19b4d72735aafc4970ca2c69b34cb3aa = $ve1671797c52e15f763380b45e841ec32->getParam("topic_id");$vdec177e7702875801c6711990652f62d = $vee11cbb19052e40b07aac0ca060c23ee->getValue("subscribed_pages");if($v15d61712450a686a7f365adf4fef581f) {$v9d9b68ac2b1de18d3712096354b3c3a5 = umiHierarchy::getInstance()->getElement($v19b4d72735aafc4970ca2c69b34cb3aa);if($v9d9b68ac2b1de18d3712096354b3c3a5 instanceof umiHierarchyElement) {if(!in_array($v9d9b68ac2b1de18d3712096354b3c3a5, $vdec177e7702875801c6711990652f62d)) {$vdec177e7702875801c6711990652f62d[] = $v19b4d72735aafc4970ca2c69b34cb3aa;}}}else {$vfa816edb83e95bf0c8da580bdfd491ef = Array();if(!is_array($vdec177e7702875801c6711990652f62d)) {$vdec177e7702875801c6711990652f62d = Array();}foreach($vdec177e7702875801c6711990652f62d as $v71860c77c6745379b0d44304d66b6a13) {if($v71860c77c6745379b0d44304d66b6a13->getId() != $v19b4d72735aafc4970ca2c69b34cb3aa) {$vfa816edb83e95bf0c8da580bdfd491ef[] = $v71860c77c6745379b0d44304d66b6a13;}}$vdec177e7702875801c6711990652f62d = $vfa816edb83e95bf0c8da580bdfd491ef;unset($vfa816edb83e95bf0c8da580bdfd491ef);}$vee11cbb19052e40b07aac0ca060c23ee->setValue("subscribed_pages", $vdec177e7702875801c6711990652f62d);$vee11cbb19052e40b07aac0ca060c23ee->commit();return true;}else {return false;}}else {return false;}}};?>