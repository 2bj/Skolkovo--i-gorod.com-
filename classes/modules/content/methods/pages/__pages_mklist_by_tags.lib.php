<?php
class __pages_mklist_by_tags {public function pages_mklist_by_tags($v9d3e0532d7068f78394c7f8744acc5ce, $ve2e057726efeb9a546eda92e6381fe27 = NULL, $v3ed5b343328db107bc720771701a2e39 = "tags", $v31d6b76c1497a19da70f395ec9d06ea8 = false, $v6016bcc6f7effd8b6eaaea39ee02896f = false, $v0551692958f8382f326d4a0eb6115f4d = '') {$v9e4527928871c7ce9e2cbd959423b9bb = "pages";$vc02aca99c3d1ca1256931972519736ca = "page";$v42ab2220688d1e54e6654b0b21f1fd8b = "pages_empty";$v31d6b76c1497a19da70f395ec9d06ea8 = intval($v31d6b76c1497a19da70f395ec9d06ea8);if (!$v31d6b76c1497a19da70f395ec9d06ea8) $v31d6b76c1497a19da70f395ec9d06ea8 = 10;if ($v31d6b76c1497a19da70f395ec9d06ea8 === -1) $v6016bcc6f7effd8b6eaaea39ee02896f = true;$v3ed5b343328db107bc720771701a2e39 = strval($v3ed5b343328db107bc720771701a2e39);if (!strlen($v3ed5b343328db107bc720771701a2e39)) $v3ed5b343328db107bc720771701a2e39 = "tags";$v5147d0e2653ceed8f71d25fe9fc076ee = intval(getRequest('p'));if ($v6016bcc6f7effd8b6eaaea39ee02896f) $v5147d0e2653ceed8f71d25fe9fc076ee = 0;$v0551692958f8382f326d4a0eb6115f4d = strval($v0551692958f8382f326d4a0eb6115f4d);list(   $v5c52894fbc12fa9a8a3b3fabac6fc7f9,   $v618e4eb3605d6369d02e5a3793cea47c,   $v80be7bbb0c6e8dca18f42f9e25b0ffe0  ) = def_module::loadTemplates("tpls/content/".$v3ed5b343328db107bc720771701a2e39.".tpl",   $v9e4527928871c7ce9e2cbd959423b9bb,   $vc02aca99c3d1ca1256931972519736ca,   $v42ab2220688d1e54e6654b0b21f1fd8b  );$v1c409fec5edda8f69556b4b45698caca = new umiSelection();if ($ve2e057726efeb9a546eda92e6381fe27) {$v1c409fec5edda8f69556b4b45698caca->setIsDomainIgnored(false);}else {$v1c409fec5edda8f69556b4b45698caca->setIsDomainIgnored(true);}if (strlen($v0551692958f8382f326d4a0eb6115f4d)) {$v1c409fec5edda8f69556b4b45698caca->setElementTypeFilter();$v2d1bdf42827c6ff958724ee3d2ada161 = preg_split("/\s+/is", $v0551692958f8382f326d4a0eb6115f4d);foreach ($v2d1bdf42827c6ff958724ee3d2ada161 as $v5df1109fa5c00b0fa47d2a8759f3ca82) {$v012d42050461c6d85d8e2c5153e6b2ec = explode('.', $v5df1109fa5c00b0fa47d2a8759f3ca82);if (count($v012d42050461c6d85d8e2c5153e6b2ec) === 2) {$vb51c784a8e5dacb9fd74ccae4049b734 = umiHierarchyTypesCollection::getInstance()->getTypeByName($v012d42050461c6d85d8e2c5153e6b2ec[0], $v012d42050461c6d85d8e2c5153e6b2ec[1]);if ($vb51c784a8e5dacb9fd74ccae4049b734 instanceof umiHierarchyType) {$v8c97b8e9e11fdb40fe5306e50ffb1e20 = $vb51c784a8e5dacb9fd74ccae4049b734->getId();$v1c409fec5edda8f69556b4b45698caca->addElementType($v8c97b8e9e11fdb40fe5306e50ffb1e20);}}}}$v1c409fec5edda8f69556b4b45698caca->forceHierarchyTable();$vf5b788937450a693e6cbec05d8b8b13f = 3;$v8636cb7e3d45cd4e1e8e863d3286393e = umiObjectTypesCollection::getInstance()->getType($vf5b788937450a693e6cbec05d8b8b13f);$vef9a071f13863047c0f6a71945a74c95 = $v8636cb7e3d45cd4e1e8e863d3286393e->getFieldId('tags');$v0c9f256a99696bf581f70994c264b110 = preg_split("/\s*,\s*/is", $v9d3e0532d7068f78394c7f8744acc5ce);$v1c409fec5edda8f69556b4b45698caca->setPropertyFilter();$v1c409fec5edda8f69556b4b45698caca->addPropertyFilterEqual($vef9a071f13863047c0f6a71945a74c95, $v0c9f256a99696bf581f70994c264b110);$v1c409fec5edda8f69556b4b45698caca->setPermissionsFilter();$v1c409fec5edda8f69556b4b45698caca->addPermissions();if ($v31d6b76c1497a19da70f395ec9d06ea8 !== -1) {$v1c409fec5edda8f69556b4b45698caca->setLimitFilter();$v1c409fec5edda8f69556b4b45698caca->addLimit($v31d6b76c1497a19da70f395ec9d06ea8, $v5147d0e2653ceed8f71d25fe9fc076ee);}$result = umiSelectionsParser::runSelection($v1c409fec5edda8f69556b4b45698caca);$vfbb44b4487415b134bce9c790a27fe5e = umiSelectionsParser::runSelectionCounts($v1c409fec5edda8f69556b4b45698caca);if (($v7dabf5c198b0bab2eaa42bb03a113e55 = sizeof($result)) > 0) {$vfca1bff8ad8b3a8585abfb0ad523ba42 = array();$va14c833c41a3c7c4a80fc2314c1d2ca0 = array();for ($v865c0c0b4ab0e063e5caa3387c1a8741 = 0;$v865c0c0b4ab0e063e5caa3387c1a8741 < $v7dabf5c198b0bab2eaa42bb03a113e55;$v865c0c0b4ab0e063e5caa3387c1a8741++) {$v69ba0c89abba8a3e9cc0c5e32be0d35d = Array();$v7057e8409c7c531a1a6e9ac3df4ed549 = intval($result[$v865c0c0b4ab0e063e5caa3387c1a8741]);$v8e2dcfd7e7e24b1ca76c1193f645902b = umiHierarchy::getInstance()->getElement($v7057e8409c7c531a1a6e9ac3df4ed549);if(!$v8e2dcfd7e7e24b1ca76c1193f645902b) continue;$v69ba0c89abba8a3e9cc0c5e32be0d35d['attribute:id'] = $v7057e8409c7c531a1a6e9ac3df4ed549;$v69ba0c89abba8a3e9cc0c5e32be0d35d['node:name'] = $v8e2dcfd7e7e24b1ca76c1193f645902b->getName();$v69ba0c89abba8a3e9cc0c5e32be0d35d['attribute:link'] = umiHierarchy::getInstance()->getPathById($v7057e8409c7c531a1a6e9ac3df4ed549);$v69ba0c89abba8a3e9cc0c5e32be0d35d['void:header'] = $v058ea00715de566bfe7b13f8e17aaf15['name'] = $v8e2dcfd7e7e24b1ca76c1193f645902b->getName();if ($v0faea619a3eb6dfca4ced9bbe5bf4c9a = $v8e2dcfd7e7e24b1ca76c1193f645902b->getValue('publish_time')) {$v69ba0c89abba8a3e9cc0c5e32be0d35d['attribute:publish_time'] = $v0faea619a3eb6dfca4ced9bbe5bf4c9a->getFormattedDate("U");}$va14c833c41a3c7c4a80fc2314c1d2ca0[] = $this->parseTemplate($v618e4eb3605d6369d02e5a3793cea47c, $v69ba0c89abba8a3e9cc0c5e32be0d35d, $v7057e8409c7c531a1a6e9ac3df4ed549);umiHierarchy::getInstance()->unloadElement($v7057e8409c7c531a1a6e9ac3df4ed549);}$vfca1bff8ad8b3a8585abfb0ad523ba42['subnodes:items'] = $va14c833c41a3c7c4a80fc2314c1d2ca0;$vfca1bff8ad8b3a8585abfb0ad523ba42['tags'] = $v9d3e0532d7068f78394c7f8744acc5ce;$vfca1bff8ad8b3a8585abfb0ad523ba42['total'] = $vfbb44b4487415b134bce9c790a27fe5e;$vfca1bff8ad8b3a8585abfb0ad523ba42['per_page'] = $v31d6b76c1497a19da70f395ec9d06ea8;return $this->parseTemplate($v5c52894fbc12fa9a8a3b3fabac6fc7f9, $vfca1bff8ad8b3a8585abfb0ad523ba42);}else {$vfca1bff8ad8b3a8585abfb0ad523ba42 = array();return $this->parseTemplate($v80be7bbb0c6e8dca18f42f9e25b0ffe0, $vfca1bff8ad8b3a8585abfb0ad523ba42);}}}