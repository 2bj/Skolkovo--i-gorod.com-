<?php
 abstract class __emarket_required {public static $steps = array('personal');public function required(order $v70a17ffa722a3985b86d30b034ad06d7, $v2764ca9d34e90313978d044f27ae433b, $v15d61712450a686a7f365adf4fef581f, $v66f6181bcb4cff4cd38fbc804a036db6) {switch($v2764ca9d34e90313978d044f27ae433b) {case 'personal': {return ($v15d61712450a686a7f365adf4fef581f == 'do') ? $this->savePersonalInfo($v70a17ffa722a3985b86d30b034ad06d7) : $this->editPersonalInfo($v70a17ffa722a3985b86d30b034ad06d7, $v66f6181bcb4cff4cd38fbc804a036db6);}}}public function requiredCheckStep(order $v70a17ffa722a3985b86d30b034ad06d7, $v2764ca9d34e90313978d044f27ae433b) {if(!$v2764ca9d34e90313978d044f27ae433b) return self::$steps[0];if(in_array($v2764ca9d34e90313978d044f27ae433b, self::$steps)) {return $v2764ca9d34e90313978d044f27ae433b;}else {throw new privateException("Unkown order delivery step \"{$v2764ca9d34e90313978d044f27ae433b}\"");}}public function editPersonalInfo(order $v70a17ffa722a3985b86d30b034ad06d7, $v66f6181bcb4cff4cd38fbc804a036db6) {list($v31912934b8f34be4364cc043cd8a0176) = def_module::loadTemplates("./tpls/emarket/required/{$v66f6181bcb4cff4cd38fbc804a036db6}.tpl", 'required_block');$vc7fe6c0da028dabd8e96b311aeb9eedc = customer::get()->id;if($v31912934b8f34be4364cc043cd8a0176) {return def_module::parseTemplate($v31912934b8f34be4364cc043cd8a0176, array(     'customer_id' => $vc7fe6c0da028dabd8e96b311aeb9eedc    ));}else {return array(     'customer-id' => $vc7fe6c0da028dabd8e96b311aeb9eedc    );}}public function savePersonalInfo($v70a17ffa722a3985b86d30b034ad06d7) {$v8b1dc169bf460ee884fceef66c6607d6 = cmsController::getInstance();$v8d777f385d3dfec8815d20f7496026dc = $v8b1dc169bf460ee884fceef66c6607d6->getModule('data');$v8d777f385d3dfec8815d20f7496026dc->saveEditedObject(customer::get()->id, false, true);$this->redirect($this->pre_lang . '/emarket/purchase/delivery/address/');}}?>