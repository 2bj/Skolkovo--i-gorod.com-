<?php
 class allOrdersPricesDiscountRule extends discountRule implements orderDiscountRule {public function validateOrder(order $v70a17ffa722a3985b86d30b034ad06d7) {$v897585e1db8029ce4151c7889296c2dd = $this->getPricesSum();if($this->minimal && $v897585e1db8029ce4151c7889296c2dd < $this->minimal) {return false;}if($this->maximum && $v897585e1db8029ce4151c7889296c2dd > $this->maximum) {return false;}return true;}protected function getPricesSum() {$v12c500ed0b7879105fb46af0f246be87 = $this->getCustomerOrders();$v78a5eb43deef9a7b5b9ce157b9d52ac4 = 0;foreach($v12c500ed0b7879105fb46af0f246be87 as $v47fd8ad7e2bd353a9419fd4795fe6fc2) {$v70a17ffa722a3985b86d30b034ad06d7 = order::get($v47fd8ad7e2bd353a9419fd4795fe6fc2->id);$v78a5eb43deef9a7b5b9ce157b9d52ac4 += $v70a17ffa722a3985b86d30b034ad06d7->getActualPrice();}return $v78a5eb43deef9a7b5b9ce157b9d52ac4;}protected function getCustomerOrders() {$v91ec1f9324753048c0096d036a694f86 = customer::get();$v8be74552df93e31bbdd6b36ed74bdb6a = new selector('objects');$v8be74552df93e31bbdd6b36ed74bdb6a->types('object-type')->name('emarket', 'order');$v8be74552df93e31bbdd6b36ed74bdb6a->where('customer_id')->equals($v91ec1f9324753048c0096d036a694f86->id);$v8be74552df93e31bbdd6b36ed74bdb6a->where('status_id')->equals(order::getStatusByCode('ready'));return $v8be74552df93e31bbdd6b36ed74bdb6a->result;}};?>