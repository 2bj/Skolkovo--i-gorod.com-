<?php
 class receiptPayment extends payment {public function validate() {return true;}public function process() {$v70a17ffa722a3985b86d30b034ad06d7 = $this->order;$v70a17ffa722a3985b86d30b034ad06d7->order();$v70a17ffa722a3985b86d30b034ad06d7->payment_document_num = $v70a17ffa722a3985b86d30b034ad06d7->id;$result = $this->printReceipt($v70a17ffa722a3985b86d30b034ad06d7);$v7f2db423a49b305459147332fb01cf87 = outputBuffer::current();$v7f2db423a49b305459147332fb01cf87->charset('utf-8');$v7f2db423a49b305459147332fb01cf87->contentType('text/html');$v7f2db423a49b305459147332fb01cf87->clear();$v7f2db423a49b305459147332fb01cf87->push($result);$v7f2db423a49b305459147332fb01cf87->end();}public function poll() {$v7f2db423a49b305459147332fb01cf87 = outputBuffer::current();$v7f2db423a49b305459147332fb01cf87->clear();$v7f2db423a49b305459147332fb01cf87->contentType('text/plain');$v7f2db423a49b305459147332fb01cf87->push('Sorry, but this payment system doesn\'t support server polling.' . getRequest('param0'));$v7f2db423a49b305459147332fb01cf87->end();}protected function printReceipt(order $v70a17ffa722a3985b86d30b034ad06d7) {$v61e9abeaa2ba0e1296555c135d818e6e = $v70a17ffa722a3985b86d30b034ad06d7->getId();$v9305b73d359bd06734fee0b3638079e1 = "uobject://{$v61e9abeaa2ba0e1296555c135d818e6e}/?transform=sys-tpls/emarket-receipt.xsl";return file_get_contents($v9305b73d359bd06734fee0b3638079e1);}};?>