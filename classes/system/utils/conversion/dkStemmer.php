<?php
class Lingua_Stem_Ru{var $VERSION = "0.02";var $Stem_Caching = 0;var $Stem_Cache = array();var $VOWEL = '/аеиоуыэю€/';var $PERFECTIVEGROUND = '/((ив|ивши|ившись|ыв|ывши|ывшись)|((?<=[а€])(в|вши|вшись)))$/';var $REFLEXIVE = '/(с[€ь])$/';var $ADJECTIVE = '/(ее|ие|ые|ое|ими|ыми|ей|ий|ый|ой|ем|им|ым|ом|его|ого|ему|ому|их|ых|ую|юю|а€|€€|ою|ею)$/';var $PARTICIPLE = '/((ивш|ывш|ующ)|((?<=[а€])(ем|нн|вш|ющ|щ)))$/';var $VERB = '/((ила|ыла|ена|ейте|уйте|ите|или|ыли|ей|уй|ил|ыл|им|ым|ен|ило|ыло|ено|€т|ует|уют|ит|ыт|ены|ить|ыть|ишь|ую|ю)|((?<=[а€])(ла|на|ете|йте|ли|й|л|ем|н|ло|но|ет|ют|ны|ть|ешь|нно)))$/';var $NOUN = '/(а|ев|ов|ие|ье|е|и€ми|€ми|ами|еи|ии|и|ией|ей|ой|ий|й|и€м|€м|ием|ем|ам|ом|о|у|ах|и€х|€х|ы|ь|ию|ью|ю|и€|ь€|€)$/';var $RVRE = '/^(.*?[аеиоуыэю€])(.*)$/';var $DERIVATIONAL = '/[^аеиоуыэю€][аеиоуыэю€]+[^аеиоуыэю€]+[аеиоуыэю€].*(?<=о)сть?$/';function s(&$v03c7c0ace395d80182db07ae2c30f034, $v12eccbdd9b32918131341f38907cbbb5, $v01b6e20344b68835c5ed1ddedf20d531)    {$v025f253325b46929cd34f2a7c3c55e7c = $v03c7c0ace395d80182db07ae2c30f034;$v03c7c0ace395d80182db07ae2c30f034 = preg_replace($v12eccbdd9b32918131341f38907cbbb5, $v01b6e20344b68835c5ed1ddedf20d531, $v03c7c0ace395d80182db07ae2c30f034);return $v025f253325b46929cd34f2a7c3c55e7c !== $v03c7c0ace395d80182db07ae2c30f034;}function m($v03c7c0ace395d80182db07ae2c30f034, $v12eccbdd9b32918131341f38907cbbb5)    {return preg_match($v12eccbdd9b32918131341f38907cbbb5, $v03c7c0ace395d80182db07ae2c30f034);}function stem_word($vc47d187067c6cf953245f128b5fde62a)    {$vc47d187067c6cf953245f128b5fde62a = strtolower($vc47d187067c6cf953245f128b5fde62a);$vc47d187067c6cf953245f128b5fde62a = strtr($vc47d187067c6cf953245f128b5fde62a, 'Є', 'е');if ($this->Stem_Caching && isset($this->Stem_Cache[$vc47d187067c6cf953245f128b5fde62a])) {return $this->Stem_Cache[$vc47d187067c6cf953245f128b5fde62a];}$ve730db5c29b7ba34f4d465b01bd33c5e = $vc47d187067c6cf953245f128b5fde62a;do {if (!preg_match($this->RVRE, $vc47d187067c6cf953245f128b5fde62a, $v83878c91171338902e0fe0fb97a8c47a)) break;$vea2b2676c28c0db26d39331a336c6b92 = $v83878c91171338902e0fe0fb97a8c47a[1];$v3df8a820012c09fd73447ab491a0c15c = $v83878c91171338902e0fe0fb97a8c47a[2];if (!$v3df8a820012c09fd73447ab491a0c15c) break;if (!$this->s($v3df8a820012c09fd73447ab491a0c15c, $this->PERFECTIVEGROUND, '')) {$this->s($v3df8a820012c09fd73447ab491a0c15c, $this->REFLEXIVE, '');if ($this->s($v3df8a820012c09fd73447ab491a0c15c, $this->ADJECTIVE, '')) {$this->s($v3df8a820012c09fd73447ab491a0c15c, $this->PARTICIPLE, '');}else {if (!$this->s($v3df8a820012c09fd73447ab491a0c15c, $this->VERB, ''))                      $this->s($v3df8a820012c09fd73447ab491a0c15c, $this->NOUN, '');}}$this->s($v3df8a820012c09fd73447ab491a0c15c, '/и$/', '');if ($this->m($v3df8a820012c09fd73447ab491a0c15c, $this->DERIVATIONAL))              $this->s($v3df8a820012c09fd73447ab491a0c15c, '/ость?$/', '');if (!$this->s($v3df8a820012c09fd73447ab491a0c15c, '/ь$/', '')) {$this->s($v3df8a820012c09fd73447ab491a0c15c, '/ейше?/', '');$this->s($v3df8a820012c09fd73447ab491a0c15c, '/нн$/', 'н');}$ve730db5c29b7ba34f4d465b01bd33c5e = $vea2b2676c28c0db26d39331a336c6b92.$v3df8a820012c09fd73447ab491a0c15c;}while(false);if ($this->Stem_Caching) $this->Stem_Cache[$vc47d187067c6cf953245f128b5fde62a] = $ve730db5c29b7ba34f4d465b01bd33c5e;return $ve730db5c29b7ba34f4d465b01bd33c5e;}function stem_caching($v0c540edcdafc86b67622da2dfa177204)    {$v281e2241ccf71445008cfd04ea4150b7 = @$v0c540edcdafc86b67622da2dfa177204['-level'];if ($v281e2241ccf71445008cfd04ea4150b7) {if (!$this->m($v281e2241ccf71445008cfd04ea4150b7, '/^[012]$/')) {die(__CLASS__ . "::stem_caching() - Legal values are '0','1' or '2'. '$v281e2241ccf71445008cfd04ea4150b7' is not a legal value");}$this->Stem_Caching = $v281e2241ccf71445008cfd04ea4150b7;}return $this->Stem_Caching;}function clear_stem_cache()    {$this->Stem_Cache = array();}}?>