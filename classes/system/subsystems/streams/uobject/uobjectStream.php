<?php
 class uobjectStream extends umiBaseStream {protected $scheme = "uobject", $prop_name = NULL;public function stream_open($vd6fe1d0be6347b8ef2427fa629c04485, $v15d61712450a686a7f365adf4fef581f, $v93da65a9fd0004d9477aeac024e08e15, $v6385a5865e0b96f09e4142ab2d9e3736) {$vb99eb979e6f6efabc396f777b503f7e7 = cacheFrontend::getInstance();if($v8d777f385d3dfec8815d20f7496026dc = $vb99eb979e6f6efabc396f777b503f7e7->loadData($vd6fe1d0be6347b8ef2427fa629c04485)) {return $this->setData($v8d777f385d3dfec8815d20f7496026dc);}$vaf31437ce61345f416579830a98c91e5 = $this->parsePath($vd6fe1d0be6347b8ef2427fa629c04485);$va8cfde6331bd59eb2ac96f8911c4b666 = umiObjectsCollection::getInstance()->getObject($vaf31437ce61345f416579830a98c91e5);if($va8cfde6331bd59eb2ac96f8911c4b666 instanceof iUmiObject) {if(is_null($this->prop_name)) {$v164d124aa1de584618cde85506eb8cd4 = translatorWrapper::$showEmptyFields;if(!is_null( getArrayKey($this->params, 'show-empty') )) {translatorWrapper::$showEmptyFields = true;}$v8d777f385d3dfec8815d20f7496026dc = $this->translateToXml($va8cfde6331bd59eb2ac96f8911c4b666);translatorWrapper::$showEmptyFields = $v164d124aa1de584618cde85506eb8cd4;}else {$v23a5b8ab834cb5140fa6665622eb6417 = $va8cfde6331bd59eb2ac96f8911c4b666->getPropByName($this->prop_name);if($v23a5b8ab834cb5140fa6665622eb6417 instanceof iUmiObjectProperty) {$v8d777f385d3dfec8815d20f7496026dc = $this->translateToXml($va8cfde6331bd59eb2ac96f8911c4b666, $v23a5b8ab834cb5140fa6665622eb6417);}else {return $this->setDataError('not-found');}}if($this->expire) $vb99eb979e6f6efabc396f777b503f7e7->saveObject($vd6fe1d0be6347b8ef2427fa629c04485, $v8d777f385d3dfec8815d20f7496026dc, $this->expire);return $this->setData($v8d777f385d3dfec8815d20f7496026dc);}else {return $this->setDataError('not-found');}}protected function parsePath($vd6fe1d0be6347b8ef2427fa629c04485) {$vd6fe1d0be6347b8ef2427fa629c04485 = parent::parsePath($vd6fe1d0be6347b8ef2427fa629c04485);if(strpos($vd6fe1d0be6347b8ef2427fa629c04485, ".") !== false) {list($vd6fe1d0be6347b8ef2427fa629c04485, $vdfc394bd05a4b48161c790034af522a8) = split("\.", $vd6fe1d0be6347b8ef2427fa629c04485);$this->prop_name = $vdfc394bd05a4b48161c790034af522a8;}else {$this->prop_name = NULL;}return (int) $vd6fe1d0be6347b8ef2427fa629c04485;}protected function translateToXml(iUmiObject $va8cfde6331bd59eb2ac96f8911c4b666, $v1a8db4c996d8ed8289da5f957879ab94 = NULL) {if(is_null($v1a8db4c996d8ed8289da5f957879ab94)) {$v10573b873d2fa5a365d558a45e328e47 = array("full:object" => $va8cfde6331bd59eb2ac96f8911c4b666);}else {$v10573b873d2fa5a365d558a45e328e47 = array('property' => $v1a8db4c996d8ed8289da5f957879ab94);}return parent::translateToXml($v10573b873d2fa5a365d558a45e328e47);}};?>