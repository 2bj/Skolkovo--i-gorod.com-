<?php
 function ch_get_version_line() {$vb1444fb0c07653567ad325aa25d4e37a = regedit::getInstance();return (string) $vb1444fb0c07653567ad325aa25d4e37a->getVal("//modules/autoupdate/system_edition");}function ch_get_illegal_modules($vc41fef576c968e96c4ac5f15173cedff = false) {if(!$vc41fef576c968e96c4ac5f15173cedff) $vc41fef576c968e96c4ac5f15173cedff = ch_get_version_line();$v0eb9b3af2e4a00837a1b1a854c9ea18c = Array();switch($vc41fef576c968e96c4ac5f15173cedff) {case "commerce":   case "commerce_enc":   case "trial": {$v0eb9b3af2e4a00837a1b1a854c9ea18c = Array('geoip', 'organization');break;}case "business":   case "business_enc": {$v0eb9b3af2e4a00837a1b1a854c9ea18c = Array('geoip', 'organization', 'eshop', 'comments');break;}case "corporate":   case "corporate_enc": {$v0eb9b3af2e4a00837a1b1a854c9ea18c = Array('geoip', 'organization', 'eshop', 'comments', 'banners', 'catalog', 'photoalbum', 'faq');break;}case "free":   case "lite":   case "freelance": {$v0eb9b3af2e4a00837a1b1a854c9ea18c = Array('geoip', 'organization', 'eshop', 'comments', 'banners', 'catalog', 'photoalbum', 'faq', 'filemanager', 'dispatches');break;}case "intranet": {$v0eb9b3af2e4a00837a1b1a854c9ea18c = Array('geoip', 'eshop', 'seo');break;}}return $v0eb9b3af2e4a00837a1b1a854c9ea18c;}function ch_remove_m_garbage($vc41fef576c968e96c4ac5f15173cedff = false) {$v0eb9b3af2e4a00837a1b1a854c9ea18c = ch_get_illegal_modules($vc41fef576c968e96c4ac5f15173cedff);foreach($v0eb9b3af2e4a00837a1b1a854c9ea18c as $v22884db148f0ffb0d830ba431102b0b5) {ch_remove_illegal_module($v22884db148f0ffb0d830ba431102b0b5);}}function ch_remove_illegal_module($v854203cccade0bbe21be239a208aea49) {if(!trim($v854203cccade0bbe21be239a208aea49, " \r\n\t\/")) {return;}$vb1444fb0c07653567ad325aa25d4e37a = regedit::getInstance();$vb1444fb0c07653567ad325aa25d4e37a->delVar("//modules/{$v854203cccade0bbe21be239a208aea49}");ch_remove_dir("./classes/modules/{$v854203cccade0bbe21be239a208aea49}/");}function ch_remove_dir($vd6fe1d0be6347b8ef2427fa629c04485) {if(is_dir($vd6fe1d0be6347b8ef2427fa629c04485)) {if(is_writable($vd6fe1d0be6347b8ef2427fa629c04485)) {$v736007832d2167baaae763fd3a3f3cf1 = opendir($vd6fe1d0be6347b8ef2427fa629c04485);while($vbe8f80182e0c983916da7338c2c1c040 = readdir($v736007832d2167baaae763fd3a3f3cf1)) {if($vbe8f80182e0c983916da7338c2c1c040 == "." || $vbe8f80182e0c983916da7338c2c1c040 == "..") continue;$v61cdeb5194efaef4fa627f7a4c30e5e1 = $vd6fe1d0be6347b8ef2427fa629c04485 . $vbe8f80182e0c983916da7338c2c1c040;if(is_file($v61cdeb5194efaef4fa627f7a4c30e5e1)) {if(is_writable($v61cdeb5194efaef4fa627f7a4c30e5e1)) {unlink($v61cdeb5194efaef4fa627f7a4c30e5e1);}}else if (is_dir($v61cdeb5194efaef4fa627f7a4c30e5e1)) {ch_remove_dir($v61cdeb5194efaef4fa627f7a4c30e5e1 . '/');}else {continue;}}rmdir($vd6fe1d0be6347b8ef2427fa629c04485);}}}?>