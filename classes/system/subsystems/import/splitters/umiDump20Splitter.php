<?php
 class umiDump20Splitter extends umiImportSplitter {protected function __getNodeParents(DOMNode $v8e2dcfd7e7e24b1ca76c1193f645902b) {$vc68ad910ed49ac65f21f1bf2c5dbf912 = array();$vc68ad910ed49ac65f21f1bf2c5dbf912[] = $v8e2dcfd7e7e24b1ca76c1193f645902b->nodeName;if (($vd0e45878043844ffc41aac437e86b602 = $v8e2dcfd7e7e24b1ca76c1193f645902b->parentNode) instanceof DOMElement) {$vc68ad910ed49ac65f21f1bf2c5dbf912 = array_merge($this->__getNodeParents($v8e2dcfd7e7e24b1ca76c1193f645902b->parentNode), $vc68ad910ed49ac65f21f1bf2c5dbf912);}return $vc68ad910ed49ac65f21f1bf2c5dbf912;}protected function __getNodePath(DOMNode $v8e2dcfd7e7e24b1ca76c1193f645902b) {return implode("/", $this->__getNodeParents($v8e2dcfd7e7e24b1ca76c1193f645902b));}protected function readDataBlock() {$v4b43b0aee35624cd95b910189b3dc231 = new XMLReader;$v4b43b0aee35624cd95b910189b3dc231->open($this->file_path, "utf-8",  LIBXML_COMPACT ^ LIBXML_NOEMPTYTAG);$v2245023265ae4cf87d02c8b6ba991139 = mainConfiguration::getInstance();$vf7c163939469a0b7becb4e4e6a94efac = $v2245023265ae4cf87d02c8b6ba991139->includeParam('system.kernel') . 'subsystems/import/schemes/' . $this->type . '.xsd';if (is_file($vf7c163939469a0b7becb4e4e6a94efac)) {$v4b43b0aee35624cd95b910189b3dc231->setSchema($vf7c163939469a0b7becb4e4e6a94efac);}$v9a09b4dfda82e3e665e31092d1c3ec8d = new DomDocument("1.0", "utf-8");$v07214c6750d983a32e0a33da225c4efd = array(    'umidump/types/type',    'umidump/pages/page',    'umidump/objects/object'   );$v95723b5e620e47cf613462b9f293282a = 0;$v4757fe07fd492a8be0ea6a760d683d6e = 0;$v5f0b6ebc4bea10285ba2b8a6ce78b863 = $v9a09b4dfda82e3e665e31092d1c3ec8d;$v7aa28ed115707345d0274032757e8991 = $v4b43b0aee35624cd95b910189b3dc231->read();while ($v7aa28ed115707345d0274032757e8991 && $v95723b5e620e47cf613462b9f293282a <= $this->block_size) {switch ($v4b43b0aee35624cd95b910189b3dc231->nodeType) {case XMLReader::ELEMENT: {$v3f02ab347aeca12e013036ce82046c38 = $this->__getNodePath($v5f0b6ebc4bea10285ba2b8a6ce78b863);if (in_array($v3f02ab347aeca12e013036ce82046c38 . "/" . $v4b43b0aee35624cd95b910189b3dc231->name, $v07214c6750d983a32e0a33da225c4efd)) {if ($v4757fe07fd492a8be0ea6a760d683d6e++ < $this->offset) {$v7aa28ed115707345d0274032757e8991 = $v4b43b0aee35624cd95b910189b3dc231->next();continue(2);}if (($v95723b5e620e47cf613462b9f293282a + 1) > $this->block_size) break(2);$v95723b5e620e47cf613462b9f293282a++;}$v65c10911d8b8591219a21ebacf46da01 = $v9a09b4dfda82e3e665e31092d1c3ec8d->createElement($v4b43b0aee35624cd95b910189b3dc231->name, $v4b43b0aee35624cd95b910189b3dc231->value);$v5f0b6ebc4bea10285ba2b8a6ce78b863->appendChild($v65c10911d8b8591219a21ebacf46da01);if (!$v4b43b0aee35624cd95b910189b3dc231->isEmptyElement) {$v5f0b6ebc4bea10285ba2b8a6ce78b863 = $v65c10911d8b8591219a21ebacf46da01;}if ($v4b43b0aee35624cd95b910189b3dc231->attributeCount) {while ($v4b43b0aee35624cd95b910189b3dc231->moveToNextAttribute()) {$v815be97df65d6c4b510cd07189c5347a = $v9a09b4dfda82e3e665e31092d1c3ec8d->createAttribute($v4b43b0aee35624cd95b910189b3dc231->name);$v815be97df65d6c4b510cd07189c5347a->appendChild($v9a09b4dfda82e3e665e31092d1c3ec8d->createTextNode($v4b43b0aee35624cd95b910189b3dc231->value));$v65c10911d8b8591219a21ebacf46da01->appendChild($v815be97df65d6c4b510cd07189c5347a);}}}break;case XMLReader::END_ELEMENT: {$v5f0b6ebc4bea10285ba2b8a6ce78b863 = $v5f0b6ebc4bea10285ba2b8a6ce78b863->parentNode;}break;case XMLReader::ATTRIBUTE: {$v815be97df65d6c4b510cd07189c5347a = $v9a09b4dfda82e3e665e31092d1c3ec8d->createAttribute($v4b43b0aee35624cd95b910189b3dc231->name);$v815be97df65d6c4b510cd07189c5347a->appendChild($v9a09b4dfda82e3e665e31092d1c3ec8d->createTextNode($v4b43b0aee35624cd95b910189b3dc231->value));$v5f0b6ebc4bea10285ba2b8a6ce78b863->appendChild($v815be97df65d6c4b510cd07189c5347a);}break;case XMLReader::TEXT: {$vc7824f3d4d5f7b2f22d034758c1e9454 =  $v9a09b4dfda82e3e665e31092d1c3ec8d->createTextNode($v4b43b0aee35624cd95b910189b3dc231->value);$v5f0b6ebc4bea10285ba2b8a6ce78b863->appendChild($vc7824f3d4d5f7b2f22d034758c1e9454);}break;case XMLReader::CDATA: {$vd9ef6bda8fb69f1c7e277bd1c2cd21d1 =  $v9a09b4dfda82e3e665e31092d1c3ec8d->createCDATASection($v4b43b0aee35624cd95b910189b3dc231->value);$v5f0b6ebc4bea10285ba2b8a6ce78b863->appendChild($vd9ef6bda8fb69f1c7e277bd1c2cd21d1);}break;case XMLReader::NONE:     default:          }$v7aa28ed115707345d0274032757e8991 = $v4b43b0aee35624cd95b910189b3dc231->read();}$this->offset += $v95723b5e620e47cf613462b9f293282a;if (!$v7aa28ed115707345d0274032757e8991) $this->complete = true;return $v9a09b4dfda82e3e665e31092d1c3ec8d;}public function translate(DomDocument $v9a09b4dfda82e3e665e31092d1c3ec8d) {return $v9a09b4dfda82e3e665e31092d1c3ec8d->saveXML();}}?>