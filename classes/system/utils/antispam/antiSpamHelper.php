<?php
final class antiSpamHelper {public static function checkForSpam($v7552cd149af7495ee7d8225974e50f80, $v5180805afcdc53d067cf7c6b96c68c9d = 'content') {$vcda4cbf02569e4ebcf42d8adc923a52c  = false;$vaaabf0d39951f3e6c3e8a7911df524c2 = antiSpamService::get();$v8e2dcfd7e7e24b1ca76c1193f645902b = umiHierarchy::getInstance()->getElement($v7552cd149af7495ee7d8225974e50f80);if($vaaabf0d39951f3e6c3e8a7911df524c2 && $v8e2dcfd7e7e24b1ca76c1193f645902b) {self::fillFields($vaaabf0d39951f3e6c3e8a7911df524c2, $v8e2dcfd7e7e24b1ca76c1193f645902b, $v5180805afcdc53d067cf7c6b96c68c9d);$vcda4cbf02569e4ebcf42d8adc923a52c = $vaaabf0d39951f3e6c3e8a7911df524c2->isSpam();$v8e2dcfd7e7e24b1ca76c1193f645902b->setValue('is_spam', $vcda4cbf02569e4ebcf42d8adc923a52c);$v2245023265ae4cf87d02c8b6ba991139 = mainConfiguration::getInstance();if((int) $v2245023265ae4cf87d02c8b6ba991139->get('anti-spam', 'hide-spam')) {$v8e2dcfd7e7e24b1ca76c1193f645902b->setIsActive(!$vcda4cbf02569e4ebcf42d8adc923a52c);}}return $vcda4cbf02569e4ebcf42d8adc923a52c;}public static function report($v7552cd149af7495ee7d8225974e50f80, $v5180805afcdc53d067cf7c6b96c68c9d = 'content') {$vaaabf0d39951f3e6c3e8a7911df524c2 = antiSpamService::get();$v8e2dcfd7e7e24b1ca76c1193f645902b = umiHierarchy::getInstance()->getElement($v7552cd149af7495ee7d8225974e50f80);if($vaaabf0d39951f3e6c3e8a7911df524c2 && $v8e2dcfd7e7e24b1ca76c1193f645902b) {self::fillFields($vaaabf0d39951f3e6c3e8a7911df524c2, $v8e2dcfd7e7e24b1ca76c1193f645902b, $v5180805afcdc53d067cf7c6b96c68c9d);if($v8e2dcfd7e7e24b1ca76c1193f645902b->getValue('is_spam')) {$vaaabf0d39951f3e6c3e8a7911df524c2->reportSpam();}else {$vaaabf0d39951f3e6c3e8a7911df524c2->reportHam();}}}private static function fillFields(antiSpamService $vaaabf0d39951f3e6c3e8a7911df524c2, iUmiHierarchyElement $v8e2dcfd7e7e24b1ca76c1193f645902b, $v5180805afcdc53d067cf7c6b96c68c9d = 'content') {$v02bd92faa38aaa6cc0ea75e59937a1ef  = null;$v5891da2d64975cae48d175d1e001f5da = umiObjectsCollection::getInstance();$vb81ca7c0ccaa77e7aa91936ab0070695 = umiHierarchy::getInstance();$ve0d61127bd180c59c3c5a9565ade8a7e = ($ve358efa489f58062f10dd7316b65649e = $v8e2dcfd7e7e24b1ca76c1193f645902b->getValue('author_id')) ? $ve358efa489f58062f10dd7316b65649e : $v8e2dcfd7e7e24b1ca76c1193f645902b->getObject()->getOwnerId();$v02bd92faa38aaa6cc0ea75e59937a1ef  = $v5891da2d64975cae48d175d1e001f5da->getObject($ve0d61127bd180c59c3c5a9565ade8a7e);if($v02bd92faa38aaa6cc0ea75e59937a1ef && $v02bd92faa38aaa6cc0ea75e59937a1ef->is_registrated) $v02bd92faa38aaa6cc0ea75e59937a1ef = $v5891da2d64975cae48d175d1e001f5da->getObject($v02bd92faa38aaa6cc0ea75e59937a1ef->user_id);if($v02bd92faa38aaa6cc0ea75e59937a1ef) {$ve2e42a07550863f8b67f5eb252581f6d  = $v02bd92faa38aaa6cc0ea75e59937a1ef->nickname ? $v02bd92faa38aaa6cc0ea75e59937a1ef->nickname : $v02bd92faa38aaa6cc0ea75e59937a1ef->login;$v0c83f57c786a0b4a39efab23731c7ebc = $v02bd92faa38aaa6cc0ea75e59937a1ef->email ? $v02bd92faa38aaa6cc0ea75e59937a1ef->email : $v02bd92faa38aaa6cc0ea75e59937a1ef->getValue('e-mail');$vaaabf0d39951f3e6c3e8a7911df524c2->setNick($ve2e42a07550863f8b67f5eb252581f6d);$vaaabf0d39951f3e6c3e8a7911df524c2->setEmail($v0c83f57c786a0b4a39efab23731c7ebc);}else {$vaaabf0d39951f3e6c3e8a7911df524c2->setNick('');$vaaabf0d39951f3e6c3e8a7911df524c2->setEmail('');}$vaaabf0d39951f3e6c3e8a7911df524c2->setContent($v8e2dcfd7e7e24b1ca76c1193f645902b->getValue($v5180805afcdc53d067cf7c6b96c68c9d));$v2a304a1348456ccd2234cd71a81bd338 = cmsController::getInstance()->getCurrentDomain()->getHost() . $vb81ca7c0ccaa77e7aa91936ab0070695->getPathById($v7552cd149af7495ee7d8225974e50f80);$vaaabf0d39951f3e6c3e8a7911df524c2->setLink($v2a304a1348456ccd2234cd71a81bd338);return $vaaabf0d39951f3e6c3e8a7911df524c2;}};?>
