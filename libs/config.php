<?php
 if(!defined('CONFIG_INI_PATH')) {define('CONFIG_INI_PATH', CURRENT_WORKING_DIR . '/config.ini');}if(!class_exists('mainConfiguration')) {require CURRENT_WORKING_DIR . '/libs/configuration.php';}try {$v2245023265ae4cf87d02c8b6ba991139 = mainConfiguration::getInstance();}catch (Exception $ve1671797c52e15f763380b45e841ec32) {echo 'Critical error: ', $ve1671797c52e15f763380b45e841ec32->getMessage();exit;}$v4d90362d661461e558408e982aaa49d3 = $v2245023265ae4cf87d02c8b6ba991139->getParsedIni();initConfigConstants($v4d90362d661461e558408e982aaa49d3);define("SYS_KERNEL_PATH", $v2245023265ae4cf87d02c8b6ba991139->includeParam('system.kernel'));define("SYS_KERNEL_ASM", $v2245023265ae4cf87d02c8b6ba991139->includeParam('system.kernel.assebled'));define("SYS_LIBS_PATH", $v2245023265ae4cf87d02c8b6ba991139->includeParam('system.libs'));define("SYS_DEF_MODULE_PATH", $v2245023265ae4cf87d02c8b6ba991139->includeParam('system.default-module'));define("SYS_TPLS_PATH", $v2245023265ae4cf87d02c8b6ba991139->includeParam('templates.tpl'));define("SYS_XSLT_PATH", $v2245023265ae4cf87d02c8b6ba991139->includeParam('templates.xsl'));define("SYS_SKIN_PATH", $v2245023265ae4cf87d02c8b6ba991139->includeParam('templates.skins'));define("SYS_ERRORS_PATH", $v2245023265ae4cf87d02c8b6ba991139->includeParam('system.error'));define("SYS_MODULES_PATH", $v2245023265ae4cf87d02c8b6ba991139->includeParam('system.modules'));define("SYS_CACHE_RUNTIME", $v2245023265ae4cf87d02c8b6ba991139->includeParam('system.runtime-cache'));define("SYS_MANIFEST_PATH", $v2245023265ae4cf87d02c8b6ba991139->includeParam('system.manifest'));define("SYS_KERNEL_STREAMS", $v2245023265ae4cf87d02c8b6ba991139->includeParam('system.kernel.streams'));define("KEYWORD_GRAB_ALL", $v2245023265ae4cf87d02c8b6ba991139->get('kernel', 'grab-all-keyword'));$vfba0d91e419859c990a71867be15cec8 = $v2245023265ae4cf87d02c8b6ba991139->get('system', 'salt');if(!$vfba0d91e419859c990a71867be15cec8) {$vfba0d91e419859c990a71867be15cec8 = sha1(rand());$v2245023265ae4cf87d02c8b6ba991139->set('system', 'salt', $vfba0d91e419859c990a71867be15cec8);}define("SYS_CACHE_SALT", $vfba0d91e419859c990a71867be15cec8);if(!defined('_C_REQUIRES')) {require SYS_LIBS_PATH . 'requires.php';}$vad42f6697b035b7580e4fef93be20b4d = false;if($v2245023265ae4cf87d02c8b6ba991139->get('debug', 'enabled')) {$vde56be8fa19339d679efa6232455f342 = $v2245023265ae4cf87d02c8b6ba991139->get('debug', 'filter.ip');if(is_array($vde56be8fa19339d679efa6232455f342)) {if(in_array(getServer('REMOTE_ADDR'), $vde56be8fa19339d679efa6232455f342)) {$vad42f6697b035b7580e4fef93be20b4d = true;}}else {$vad42f6697b035b7580e4fef93be20b4d = true;}}define('DEBUG', $vad42f6697b035b7580e4fef93be20b4d);require SYS_LIBS_PATH . 'errors.php';initConfigConnections($v4d90362d661461e558408e982aaa49d3);if(defined("LIBXML_VERSION")) {define("DOM_LOAD_OPTIONS", (LIBXML_VERSION < 20621) ? 0 : LIBXML_COMPACT);}else {define("DOM_LOAD_OPTIONS", LIBXML_COMPACT);}if (!defined("PHP_INT_MAX")) define("PHP_INT_MAX", 4294967296 / 2 - 1);if(!isset($_ENV['OS']) || strtolower(substr($_ENV['OS'], 0, 3)) != "win") {setlocale(LC_NUMERIC, 'en_US.utf8');}if(function_exists("mb_internal_encoding")) {mb_internal_encoding('UTF-8');}ini_set("session.gc_maxlifetime", SESSION_LIVETIME * 60);ini_set("session.cookie_lifetime", "0");ini_set("session.use_cookies", "1");ini_set("session.use_only_cookies", "1");if(CLUSTER_CACHE_CORRECTION) {cacheFrontend::getInstance();clusterCacheSync::getInstance();}function __autoload($v6f66e878c62db60568a3487869695820) {global $vbb2b21ef7774df8687ff02b0284505c6;if ($v6f66e878c62db60568a3487869695820 == "XSLTProcessor" && !class_exists("XSLTProcessor")){xslt_fatal();}if(defined('INTERRUPT_DEPRECATED_CALL') && INTERRUPT_DEPRECATED_CALL) {$v04acbbf097cd951f88078cfa9f755ffc = array('umiSelection', 'umiSelectionsParser');if(in_array($v6f66e878c62db60568a3487869695820, $v04acbbf097cd951f88078cfa9f755ffc)) {$ve1671797c52e15f763380b45e841ec32 = new coreException("Deprecated class \"{$v6f66e878c62db60568a3487869695820}\" called");traceException($ve1671797c52e15f763380b45e841ec32);}}if(isset($vbb2b21ef7774df8687ff02b0284505c6[$v6f66e878c62db60568a3487869695820])) {$v45b963397aa40d4a0063e0d85e4fe7a1 = $vbb2b21ef7774df8687ff02b0284505c6[$v6f66e878c62db60568a3487869695820];if(is_array($v45b963397aa40d4a0063e0d85e4fe7a1)) foreach($v45b963397aa40d4a0063e0d85e4fe7a1 as $v47826cacc65c665212b821e6ff80b9b0) require $v47826cacc65c665212b821e6ff80b9b0;}}function initConfigConstants($v4d90362d661461e558408e982aaa49d3) {$v24226a6ae78009cfdb0ebfd01d968d41 = array(   'system:db-driver' => array('DB_DRIVER', '%value%'),   'system:version-line' => array('CURRENT_VERSION_LINE', '%value%'),   'system:session-lifetime' => array('SESSION_LIVETIME', '%value%'),   'system:default-date-format' => array('DEFAULT_DATE_FORMAT', '%value%'),   'kernel:use-reflection-extension' => array('USE_REFLECTION_EXT', '%value%'),   'kernel:cluster-cache-correction' => array('CLUSTER_CACHE_CORRECTION', '%value%'),   'kernel:xslt-nested-menu' => array('XLST_NESTED_MENU', '%value%'),   'kernel:pages-auto-index' => array('PAGES_AUTO_INDEX', '%value%'),   'kernel:enable-pre-auth' => array('PRE_AUTH_ENABLED', '%value%'),   'kernel:ignore-module-names-overwrite' => array('IGNORE_MODULE_NAMES_OVERWRITE', '%value%'),   'kernel:xml-format-output' => array('XML_FORMAT_OUTPUT', '%value%'),   'kernel:selection-max-joins' => array('MAX_SELECTION_TABLE_JOINS', '%value%'),   'kernel:property-value-mode' => array('XML_PROP_VALUE_MODE', '%value%'),   'kernel:xml-macroses-disable' => array('XML_MACROSES_DISABLE', '%value%'),   'kernel:selection-calc-found-rows-disable' => array('DISABLE_CALC_FOUND_ROWS', '%value%'),   'kernel:sql-query-cache' => array('SQL_QUERY_CACHE', '%value%'),   'seo:calculate-e-tag' => array('CALC_E_TAG', '%value%'),   'seo:calculate-last-modified' => array('CALC_LAST_MODIFIED', '%value%')  );foreach($v24226a6ae78009cfdb0ebfd01d968d41 as $vb068931cc450442b63f5b3d276ea4297 => $v6680dba00f3a88f66f8029a93d71d93c) {list($v73d5342eba070f636ac3246f319bf77f, $ve04aa5104d082e4a51d241391941ba26) = explode(':', $vb068931cc450442b63f5b3d276ea4297);$v2063c1608d6e0baf80249c42e2be5804 = $v6680dba00f3a88f66f8029a93d71d93c[1];if(is_string($v2063c1608d6e0baf80249c42e2be5804)) {$vb78a8fc85436584420cc48cc283ca2d2 = isset($v4d90362d661461e558408e982aaa49d3[$v73d5342eba070f636ac3246f319bf77f][$ve04aa5104d082e4a51d241391941ba26]) ? $v4d90362d661461e558408e982aaa49d3[$v73d5342eba070f636ac3246f319bf77f][$ve04aa5104d082e4a51d241391941ba26] : "";$v2063c1608d6e0baf80249c42e2be5804 = str_replace('%value%', $vb78a8fc85436584420cc48cc283ca2d2, $v2063c1608d6e0baf80249c42e2be5804);}else if (!$v2063c1608d6e0baf80249c42e2be5804 && isset($v6680dba00f3a88f66f8029a93d71d93c[2])) {$v2063c1608d6e0baf80249c42e2be5804 = $v6680dba00f3a88f66f8029a93d71d93c[2];}if(!defined($v6680dba00f3a88f66f8029a93d71d93c[0])) {if($v6680dba00f3a88f66f8029a93d71d93c[0] == 'CURRENT_VERSION_LINE' && !$v2063c1608d6e0baf80249c42e2be5804) {continue;}define($v6680dba00f3a88f66f8029a93d71d93c[0], $v2063c1608d6e0baf80249c42e2be5804);}}}function initConfigConnections($v4d90362d661461e558408e982aaa49d3) {$v1e4e0a3ebca33b9df743bacb740ce1d4 = array();foreach($v4d90362d661461e558408e982aaa49d3['connections'] as $vb068931cc450442b63f5b3d276ea4297 => $v2063c1608d6e0baf80249c42e2be5804) {list($va2f2ed4f8ebc2cbb4c21a29dc40ab61d, $v1fda785a420c0ffe9a33d814a05d5273) = explode('.', $vb068931cc450442b63f5b3d276ea4297);if(!isset($v1e4e0a3ebca33b9df743bacb740ce1d4[$va2f2ed4f8ebc2cbb4c21a29dc40ab61d])) {$v1e4e0a3ebca33b9df743bacb740ce1d4[$va2f2ed4f8ebc2cbb4c21a29dc40ab61d] = array(          'type'        => 'mysql',          'host'    => 'localhost',          'login'       => 'root',          'password'    => '',          'dbname'      => 'umi',          'port'       => false,          'persistent'  => false,          'compression' => false);}$v1e4e0a3ebca33b9df743bacb740ce1d4[$va2f2ed4f8ebc2cbb4c21a29dc40ab61d][$v1fda785a420c0ffe9a33d814a05d5273] = $v2063c1608d6e0baf80249c42e2be5804;}$vb10a8c0bede9eb4ea771b04db3149f28 = ConnectionPool::getInstance();foreach($v1e4e0a3ebca33b9df743bacb740ce1d4 as $va2f2ed4f8ebc2cbb4c21a29dc40ab61d => $v7ed201fa20d25d22b291dc85ae9e5ced) {switch($v7ed201fa20d25d22b291dc85ae9e5ced['type']) {default:        $vb10a8c0bede9eb4ea771b04db3149f28->setConnectionObjectClass();}if($v7ed201fa20d25d22b291dc85ae9e5ced['dbname'] == '-=demo=-' || $v7ed201fa20d25d22b291dc85ae9e5ced['dbname'] == '-=custom=-') {if($v7ed201fa20d25d22b291dc85ae9e5ced['dbname'] == '-=demo=-') {require './demo-center.php';}$v7ed201fa20d25d22b291dc85ae9e5ced['host'] = MYSQL_HOST;$v7ed201fa20d25d22b291dc85ae9e5ced['login'] = MYSQL_LOGIN;$v7ed201fa20d25d22b291dc85ae9e5ced['password'] = MYSQL_PASSWORD;$v7ed201fa20d25d22b291dc85ae9e5ced['dbname'] = ($v7ed201fa20d25d22b291dc85ae9e5ced['dbname'] == '-=custom=-') ? MYSQL_DB_NAME : DEMO_DB_NAME;}$vb10a8c0bede9eb4ea771b04db3149f28->addConnection($va2f2ed4f8ebc2cbb4c21a29dc40ab61d, $v7ed201fa20d25d22b291dc85ae9e5ced['host'], $v7ed201fa20d25d22b291dc85ae9e5ced['login'], $v7ed201fa20d25d22b291dc85ae9e5ced['password'], $v7ed201fa20d25d22b291dc85ae9e5ced['dbname'],     ($v7ed201fa20d25d22b291dc85ae9e5ced['port'] !== false) ? intval($v7ed201fa20d25d22b291dc85ae9e5ced['port']) : false,     (bool) intval($v7ed201fa20d25d22b291dc85ae9e5ced['persistent']) );}if(DB_DRIVER == "mysql") {$v4717d53ebfdfea8477f780ec66151dcb = ConnectionPool::getInstance()->getConnection();ini_set('mysql.trace_mode', false);}}function mysql_fatal() {require "./errors/mysql_failed.html";exit();}function xslt_fatal(){require ("./errors/xslt_failed.html");exit();}?>