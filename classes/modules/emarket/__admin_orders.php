<?php
 abstract class __emarket_admin_orders extends baseModuleAdmin {public function orders () {$this->setDataType("list");$this->setActionType("view");if($this->ifNotXmlMode()) return $this->doData();$vaa9f73eea60a006820d0f8768bc8a3fc = 20;$ve1ba980ce14a8c0d7e2779f895ab8695 = (int) getRequest('p');$v7a86c157ee9713c34fbd7a1ee40f0c5a = $vaa9f73eea60a006820d0f8768bc8a3fc * $ve1ba980ce14a8c0d7e2779f895ab8695;$v8be74552df93e31bbdd6b36ed74bdb6a = new selector('objects');$v8be74552df93e31bbdd6b36ed74bdb6a->types('object-type')->name('emarket', 'order');$v8be74552df93e31bbdd6b36ed74bdb6a->where('name')->isNull(false);$v8be74552df93e31bbdd6b36ed74bdb6a->limit($v7a86c157ee9713c34fbd7a1ee40f0c5a, $vaa9f73eea60a006820d0f8768bc8a3fc);selectorHelper::detectFilters($v8be74552df93e31bbdd6b36ed74bdb6a);$ve4e46deb7f9cc58c7abfb32e5570b6f3 = getRequest('domain_id');if(is_array($ve4e46deb7f9cc58c7abfb32e5570b6f3) && sizeof($ve4e46deb7f9cc58c7abfb32e5570b6f3)) {$v14a0ffee308315f250f040d5b4d48560 = domainsCollection::getInstance();if(sizeof($v14a0ffee308315f250f040d5b4d48560->getList()) > 1) {$v8be74552df93e31bbdd6b36ed74bdb6a->where('domain_id')->equals($ve4e46deb7f9cc58c7abfb32e5570b6f3[0]);}}$this->setDataRange($vaa9f73eea60a006820d0f8768bc8a3fc, $v7a86c157ee9713c34fbd7a1ee40f0c5a);$v8d777f385d3dfec8815d20f7496026dc = $this->prepareData($v8be74552df93e31bbdd6b36ed74bdb6a->result, "objects");$this->setData($v8d777f385d3dfec8815d20f7496026dc, $v8be74552df93e31bbdd6b36ed74bdb6a->length);return $this->doData();}public function order_edit() {$va8cfde6331bd59eb2ac96f8911c4b666 = $this->expectObject("param0", true);$v15d61712450a686a7f365adf4fef581f = (string) getRequest('param1');$v16b2b26000987faccb260b9d39df1269 = $va8cfde6331bd59eb2ac96f8911c4b666->getId();$this->setHeaderLabel("header-users-edit-" . $this->getObjectTypeMethod($va8cfde6331bd59eb2ac96f8911c4b666));$this->checkSv($v16b2b26000987faccb260b9d39df1269);$ve62e4d22f2d8630f6e44e2b7c3f70ddc = Array( "object" => $va8cfde6331bd59eb2ac96f8911c4b666,      "allowed-element-types" => Array('emarket', 'order')   );if($v15d61712450a686a7f365adf4fef581f == "do") {$va8cfde6331bd59eb2ac96f8911c4b666 = $this->saveEditedObjectData($ve62e4d22f2d8630f6e44e2b7c3f70ddc);$v70a17ffa722a3985b86d30b034ad06d7 = order::get($va8cfde6331bd59eb2ac96f8911c4b666->id);$v701f861a33205e9adad8d6f36b057370 = getRequest('order-amount-item');$vcc86ffa55f0ab6b9ddbf32c1a3d24d67 = getRequest('order-del-item');$v4339767add16b387a06839d3f7fc6441 = false;if(is_array($v701f861a33205e9adad8d6f36b057370)) foreach($v701f861a33205e9adad8d6f36b057370 as $v59a814aa020a1b32c4674a5887a35022 => $ve9f40e1f1d1658681dad2dac4ae0971e) {$v447b7147e84be512208dcc0995d67ebc = $v70a17ffa722a3985b86d30b034ad06d7->getItem($v59a814aa020a1b32c4674a5887a35022);if($v447b7147e84be512208dcc0995d67ebc instanceof orderItem) {if($v447b7147e84be512208dcc0995d67ebc->getAmount() != $ve9f40e1f1d1658681dad2dac4ae0971e) {$v447b7147e84be512208dcc0995d67ebc->setAmount($ve9f40e1f1d1658681dad2dac4ae0971e);$v447b7147e84be512208dcc0995d67ebc->commit();$v4339767add16b387a06839d3f7fc6441 = true;}}}if(is_array($vcc86ffa55f0ab6b9ddbf32c1a3d24d67)) foreach($vcc86ffa55f0ab6b9ddbf32c1a3d24d67 as $v59a814aa020a1b32c4674a5887a35022) {$v447b7147e84be512208dcc0995d67ebc = orderItem::get($v59a814aa020a1b32c4674a5887a35022);if($v447b7147e84be512208dcc0995d67ebc instanceof orderItem) {$v70a17ffa722a3985b86d30b034ad06d7->removeItem($v447b7147e84be512208dcc0995d67ebc);$v4339767add16b387a06839d3f7fc6441 = true;}}if($v4339767add16b387a06839d3f7fc6441) {$v70a17ffa722a3985b86d30b034ad06d7->refresh();$v70a17ffa722a3985b86d30b034ad06d7->commit();}$this->chooseRedirect();}$this->setDataType("form");$this->setActionType("modify");$v8d777f385d3dfec8815d20f7496026dc = $this->prepareData($ve62e4d22f2d8630f6e44e2b7c3f70ddc, "object");$this->setData($v8d777f385d3dfec8815d20f7496026dc);return $this->doData();}};?>