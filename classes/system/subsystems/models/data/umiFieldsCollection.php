<?php
 class umiFieldsCollection extends singleton implements iSingleton, iUmiFieldsCollection {private $fields = Array();protected function __construct() {}public static function getInstance() {return parent::getInstance(__CLASS__);}public function getField($v3aabf39f2d943fa886d86dcbbee4d910, $vf1965a857bc285d26fe22023aa5ab50d = false) {if($this->isExists($v3aabf39f2d943fa886d86dcbbee4d910)) {return $this->fields[$v3aabf39f2d943fa886d86dcbbee4d910];}else {return $this->loadField($v3aabf39f2d943fa886d86dcbbee4d910, $vf1965a857bc285d26fe22023aa5ab50d);}}public function delField($v3aabf39f2d943fa886d86dcbbee4d910) {$this->disableCache();if($this->isExists($v3aabf39f2d943fa886d86dcbbee4d910)) {$vac5c74b64b4b8352ef2f181affb5ac2a = "DELETE FROM cms3_object_fields WHERE id = '{$v3aabf39f2d943fa886d86dcbbee4d910}'";l_mysql_query($vac5c74b64b4b8352ef2f181affb5ac2a);if($v56bd7107802ebe56c6918992f0608ec6 = mysql_error()) {throw new coreException($v56bd7107802ebe56c6918992f0608ec6);return false;}unset($this->fields[$v3aabf39f2d943fa886d86dcbbee4d910]);return true;}else {return false;}}public function addField($vb068931cc450442b63f5b3d276ea4297, $vd5d3db1765287eef77d7927cc956f50a, $v1e3f04102267eaf5e8d0ca424fd5c561, $ve1c6c9ef2fcbe75f26f815c4ef2e60b4 = true, $v1945c9a2a5e2ba6133f1db6757a35fcb = false, $vd5752333adc3a004f826f2ea2a41273a = false) {$this->disableCache();$vac5c74b64b4b8352ef2f181affb5ac2a = "INSERT INTO cms3_object_fields VALUES()";l_mysql_query($vac5c74b64b4b8352ef2f181affb5ac2a);if($v56bd7107802ebe56c6918992f0608ec6 = mysql_error()) {throw new coreException($v56bd7107802ebe56c6918992f0608ec6);return false;}$v3aabf39f2d943fa886d86dcbbee4d910 = mysql_insert_id();$v06e3d36fa30cea095545139854ad1fb9 = new umiField($v3aabf39f2d943fa886d86dcbbee4d910);$v06e3d36fa30cea095545139854ad1fb9->setName($vb068931cc450442b63f5b3d276ea4297);$v06e3d36fa30cea095545139854ad1fb9->setTitle($vd5d3db1765287eef77d7927cc956f50a);if(!$v06e3d36fa30cea095545139854ad1fb9->setFieldTypeId($v1e3f04102267eaf5e8d0ca424fd5c561)) return false;$v06e3d36fa30cea095545139854ad1fb9->setIsVisible($ve1c6c9ef2fcbe75f26f815c4ef2e60b4);$v06e3d36fa30cea095545139854ad1fb9->setIsLocked($v1945c9a2a5e2ba6133f1db6757a35fcb);$v06e3d36fa30cea095545139854ad1fb9->setIsInheritable($vd5752333adc3a004f826f2ea2a41273a);if(!$v06e3d36fa30cea095545139854ad1fb9->commit()) return false;$this->fields[$v3aabf39f2d943fa886d86dcbbee4d910] = $v06e3d36fa30cea095545139854ad1fb9;return $v3aabf39f2d943fa886d86dcbbee4d910;}public function isExists($v3aabf39f2d943fa886d86dcbbee4d910) {if(!$v3aabf39f2d943fa886d86dcbbee4d910) return false;return (bool) array_key_exists($v3aabf39f2d943fa886d86dcbbee4d910, $this->fields);}private function loadField($v3aabf39f2d943fa886d86dcbbee4d910, $vf1965a857bc285d26fe22023aa5ab50d) {$v06e3d36fa30cea095545139854ad1fb9 = cacheFrontend::getInstance()->load($v3aabf39f2d943fa886d86dcbbee4d910, "field");if($v06e3d36fa30cea095545139854ad1fb9 instanceof umiField == false) {try {$v06e3d36fa30cea095545139854ad1fb9 = new umiField($v3aabf39f2d943fa886d86dcbbee4d910, $vf1965a857bc285d26fe22023aa5ab50d);}catch(privateException $ve1671797c52e15f763380b45e841ec32) {return false;}cacheFrontend::getInstance()->save($v06e3d36fa30cea095545139854ad1fb9, "field");}if($v06e3d36fa30cea095545139854ad1fb9 instanceof umiField) {$this->fields[$v3aabf39f2d943fa886d86dcbbee4d910] = $v06e3d36fa30cea095545139854ad1fb9;return $this->fields[$v3aabf39f2d943fa886d86dcbbee4d910];}else {return false;}}}?>