<?php
 abstract class __news extends baseModuleAdmin {public function config() {$vb1444fb0c07653567ad325aa25d4e37a = regedit::getInstance();$v21ffce5b8a6cc8cc6a41448dd69623c9 = array('config' => array('int:per_page' => NULL));$v15d61712450a686a7f365adf4fef581f = getRequest("param0");if($v15d61712450a686a7f365adf4fef581f == "do") {$v21ffce5b8a6cc8cc6a41448dd69623c9 = $this->expectParams($v21ffce5b8a6cc8cc6a41448dd69623c9);$vb1444fb0c07653567ad325aa25d4e37a->setVar("//modules/news/per_page", $v21ffce5b8a6cc8cc6a41448dd69623c9['config']['int:per_page']);$this->chooseRedirect();}$v21ffce5b8a6cc8cc6a41448dd69623c9['config']['int:per_page'] = (int) $vb1444fb0c07653567ad325aa25d4e37a->getVal("//modules/news/per_page");$this->setDataType("settings");$this->setActionType("modify");$v8d777f385d3dfec8815d20f7496026dc = $this->prepareData($v21ffce5b8a6cc8cc6a41448dd69623c9, "settings");$this->setData($v8d777f385d3dfec8815d20f7496026dc);return $this->doData();}public function lists() {$this->setDataType("list");$this->setActionType("view");if($this->ifNotXmlMode()) return $this->doData();$vaa9f73eea60a006820d0f8768bc8a3fc = 20;$ve1ba980ce14a8c0d7e2779f895ab8695 = getRequest('p');$v7a86c157ee9713c34fbd7a1ee40f0c5a = $ve1ba980ce14a8c0d7e2779f895ab8695 * $vaa9f73eea60a006820d0f8768bc8a3fc;$v8be74552df93e31bbdd6b36ed74bdb6a = new selector('pages');$v8be74552df93e31bbdd6b36ed74bdb6a->types('hierarchy-type')->name('news', 'rubric');$v8be74552df93e31bbdd6b36ed74bdb6a->types('hierarchy-type')->name('news', 'item');$v8be74552df93e31bbdd6b36ed74bdb6a->limit($v7a86c157ee9713c34fbd7a1ee40f0c5a, $vaa9f73eea60a006820d0f8768bc8a3fc);selectorHelper::detectFilters($v8be74552df93e31bbdd6b36ed74bdb6a);$v8d777f385d3dfec8815d20f7496026dc = $this->prepareData($v8be74552df93e31bbdd6b36ed74bdb6a->result, "pages");$this->setData($v8d777f385d3dfec8815d20f7496026dc, $v8be74552df93e31bbdd6b36ed74bdb6a->length);$this->setDataRangeByPerPage($vaa9f73eea60a006820d0f8768bc8a3fc, $ve1ba980ce14a8c0d7e2779f895ab8695);return $this->doData();}public function add() {$vd0e45878043844ffc41aac437e86b602 = $this->expectElement("param0");$v599dcce2998a6b40b1e38e8c6006cb0a = (string) getRequest("param1");$v15d61712450a686a7f365adf4fef581f = (string) getRequest("param2");$this->setHeaderLabel("header-news-add-" . $v599dcce2998a6b40b1e38e8c6006cb0a);$ve62e4d22f2d8630f6e44e2b7c3f70ddc = Array( "type" => $v599dcce2998a6b40b1e38e8c6006cb0a,      "parent" => $vd0e45878043844ffc41aac437e86b602,      'type-id' => getRequest('type-id'),            "allowed-element-types" => Array('rubric', 'item'));if($v15d61712450a686a7f365adf4fef581f == "do") {$v7057e8409c7c531a1a6e9ac3df4ed549 = $this->saveAddedElementData($ve62e4d22f2d8630f6e44e2b7c3f70ddc);if($v599dcce2998a6b40b1e38e8c6006cb0a == "item") {umiHierarchy::getInstance()->moveFirst($v7057e8409c7c531a1a6e9ac3df4ed549, ($vd0e45878043844ffc41aac437e86b602 instanceof umiHierarchyElement)?$vd0e45878043844ffc41aac437e86b602->getId():0);}$this->chooseRedirect();}$this->setDataType("form");$this->setActionType("create");$v8d777f385d3dfec8815d20f7496026dc = $this->prepareData($ve62e4d22f2d8630f6e44e2b7c3f70ddc, "page");$this->setData($v8d777f385d3dfec8815d20f7496026dc);return $this->doData();}public function edit() {$v8e2dcfd7e7e24b1ca76c1193f645902b = $this->expectElement('param0', true);$v15d61712450a686a7f365adf4fef581f = (string) getRequest('param1');$this->setHeaderLabel("header-news-edit-" . $this->getObjectTypeMethod($v8e2dcfd7e7e24b1ca76c1193f645902b->getObject()));$ve62e4d22f2d8630f6e44e2b7c3f70ddc = array(    'element'    => $v8e2dcfd7e7e24b1ca76c1193f645902b,    'allowed-element-types' => array('rubric', 'item')   );if($v15d61712450a686a7f365adf4fef581f == "do") {$this->saveEditedElementData($ve62e4d22f2d8630f6e44e2b7c3f70ddc);$this->chooseRedirect();}$this->setDataType("form");$this->setActionType("modify");$v8d777f385d3dfec8815d20f7496026dc = $this->prepareData($ve62e4d22f2d8630f6e44e2b7c3f70ddc, "page");$this->setData($v8d777f385d3dfec8815d20f7496026dc);return $this->doData();}public function del() {$v6a7f245843454cf4f28ad7c5e2572aa2 = getRequest('element');if(!is_array($v6a7f245843454cf4f28ad7c5e2572aa2)) {$v6a7f245843454cf4f28ad7c5e2572aa2 = array($v6a7f245843454cf4f28ad7c5e2572aa2);}foreach($v6a7f245843454cf4f28ad7c5e2572aa2 as $v7552cd149af7495ee7d8225974e50f80) {$v8e2dcfd7e7e24b1ca76c1193f645902b = $this->expectElement($v7552cd149af7495ee7d8225974e50f80, false, true);$v21ffce5b8a6cc8cc6a41448dd69623c9 = array(     "element" => $v8e2dcfd7e7e24b1ca76c1193f645902b,     "allowed-element-types" => Array('rubric', 'item')    );$this->deleteElement($v21ffce5b8a6cc8cc6a41448dd69623c9);}$this->setDataType("list");$this->setActionType("view");$v8d777f385d3dfec8815d20f7496026dc = $this->prepareData($v6a7f245843454cf4f28ad7c5e2572aa2, "pages");$this->setData($v8d777f385d3dfec8815d20f7496026dc);return $this->doData();}public function activity() {$v6a7f245843454cf4f28ad7c5e2572aa2 = getRequest('element');if(!is_array($v6a7f245843454cf4f28ad7c5e2572aa2)) {$v6a7f245843454cf4f28ad7c5e2572aa2 = array($v6a7f245843454cf4f28ad7c5e2572aa2);}$v4264c638e0098acb172519b0436db099 = getRequest('active');foreach($v6a7f245843454cf4f28ad7c5e2572aa2 as $v7552cd149af7495ee7d8225974e50f80) {$v8e2dcfd7e7e24b1ca76c1193f645902b = $this->expectElement($v7552cd149af7495ee7d8225974e50f80, false, true);$v21ffce5b8a6cc8cc6a41448dd69623c9 = array(     "element" => $v8e2dcfd7e7e24b1ca76c1193f645902b,     "allowed-element-types" => Array('rubric', 'item'),     "activity" => $v4264c638e0098acb172519b0436db099    );$this->switchActivity($v21ffce5b8a6cc8cc6a41448dd69623c9);$v8e2dcfd7e7e24b1ca76c1193f645902b->commit();}$this->setDataType("list");$this->setActionType("view");$v8d777f385d3dfec8815d20f7496026dc = $this->prepareData($v6a7f245843454cf4f28ad7c5e2572aa2, "pages");$this->setData($v8d777f385d3dfec8815d20f7496026dc);return $this->doData();}public function getDatasetConfiguration($veca07335a33c5aeb5e1bc7c98b4b9d80 = '') {return array(     'methods' => array(      array('title'=>getLabel('smc-load'), 'forload'=>true,     'module'=>'news', '#__name'=>'lists'),      array('title'=>getLabel('smc-delete'),           'module'=>'news', '#__name'=>'del', 'aliases' => 'tree_delete_element,delete,del'),      array('title'=>getLabel('smc-activity'),    'module'=>'news', '#__name'=>'activity', 'aliases' => 'tree_set_activity,activity'),      array('title'=>getLabel('smc-copy'), 'module'=>'content', '#__name'=>'tree_copy_element'),      array('title'=>getLabel('smc-move'),       'module'=>'content', '#__name'=>'tree_move_element'),      array('title'=>getLabel('smc-change-template'),        'module'=>'content', '#__name'=>'change_template'),      array('title'=>getLabel('smc-change-lang'),       'module'=>'content', '#__name'=>'move_to_lang')),     'types' => array(      array('common' => 'true', 'id' => 'item')     ),     'stoplist' => array('title', 'h1', 'meta_keywords', 'meta_descriptions', 'menu_pic_ua', 'menu_pic_a', 'header_pic', 'more_params', 'robots_deny', 'is_unindexed', 'store_amounts', 'locktime', 'lockuser', 'anons', 'content', 'rate_voters', 'rate_sum', 'begin_time', 'end_time'),     'default' => 'publish_time[140px]'    );}};?>