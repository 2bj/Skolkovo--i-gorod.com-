<?php
 abstract class discountRule extends umiObjectProxy {public static function create(discount $ve2dc6c48c56de466f6d13781796abf3d, umiObject $v5bb8d90052e0538eb38d425636bc171e) {$v5891da2d64975cae48d175d1e001f5da = umiObjectsCollection::getInstance();$v16b2b26000987faccb260b9d39df1269 = $v5891da2d64975cae48d175d1e001f5da->addObject('', $v5bb8d90052e0538eb38d425636bc171e->rule_type_id);$va8cfde6331bd59eb2ac96f8911c4b666 = $v5891da2d64975cae48d175d1e001f5da->getObject($v16b2b26000987faccb260b9d39df1269);if($va8cfde6331bd59eb2ac96f8911c4b666 instanceof umiObject) {$va8cfde6331bd59eb2ac96f8911c4b666->setValue('rule_type_id', $v5bb8d90052e0538eb38d425636bc171e->getId());$va8cfde6331bd59eb2ac96f8911c4b666->commit();return self::get($v16b2b26000987faccb260b9d39df1269, $ve2dc6c48c56de466f6d13781796abf3d);}else {return false;}}public static function get($v338c1f7a2f8afe2cd832c21fbaf2491a, discount $ve2dc6c48c56de466f6d13781796abf3d) {$v5891da2d64975cae48d175d1e001f5da = umiObjectsCollection::getInstance();$v55551339c2ae3c4ac7cff84da33d332e = $v5891da2d64975cae48d175d1e001f5da->getObject($v338c1f7a2f8afe2cd832c21fbaf2491a);if($v55551339c2ae3c4ac7cff84da33d332e instanceof umiObject == false) return false;$vadceddddb69e6187bceace83aa4ab0f6 = self::getCodeName($v55551339c2ae3c4ac7cff84da33d332e->rule_type_id);$v6f66e878c62db60568a3487869695820 = $vadceddddb69e6187bceace83aa4ab0f6 . 'DiscountRule';if(!$vadceddddb69e6187bceace83aa4ab0f6) return false;if(!self::includeRule($vadceddddb69e6187bceace83aa4ab0f6)) return false;if(!class_exists($v6f66e878c62db60568a3487869695820)) return false;$v981c1e7b3795da18687613fbd66d4954 = new $v6f66e878c62db60568a3487869695820($ve2dc6c48c56de466f6d13781796abf3d, $v55551339c2ae3c4ac7cff84da33d332e, $vadceddddb69e6187bceace83aa4ab0f6);return ($v981c1e7b3795da18687613fbd66d4954 instanceof discountRule) ? $v981c1e7b3795da18687613fbd66d4954 : false;}public static function getList($v65b6e2aac2f682a632ccd61650e47085 = false) {$v6301cee35ea764a1e241978f93f01069 = self::getRuleType()->getId();$v8be74552df93e31bbdd6b36ed74bdb6a = new selector('objects');$v8be74552df93e31bbdd6b36ed74bdb6a->types('object-type')->id($v6301cee35ea764a1e241978f93f01069);if($v65b6e2aac2f682a632ccd61650e47085) {$v8be74552df93e31bbdd6b36ed74bdb6a->where('rule_discount_types')->equals($v65b6e2aac2f682a632ccd61650e47085);}return $v8be74552df93e31bbdd6b36ed74bdb6a->result();}protected function init() {}protected function __construct(discount $ve2dc6c48c56de466f6d13781796abf3d, umiObject $va146e6c9ae9b1e2408b0aa845011d529, $v9a79c462c3c07cbf915ce11837e9d3c9) {parent::__construct($va146e6c9ae9b1e2408b0aa845011d529);$this->name = $v9a79c462c3c07cbf915ce11837e9d3c9;$this->discount = $ve2dc6c48c56de466f6d13781796abf3d;$this->init();}private static function includeRule($v381957bb0520f53bc093859ac634906a) {static $v99f78c54130e752954404fff0707dcbd = Array();if(isset($v99f78c54130e752954404fff0707dcbd[$v381957bb0520f53bc093859ac634906a])) {return $v99f78c54130e752954404fff0707dcbd[$v381957bb0520f53bc093859ac634906a];}$v6a2a431fe8b621037ea949531c28551d = CURRENT_WORKING_DIR . '/classes/modules/emarket/classes/discounts/rules/' . $v381957bb0520f53bc093859ac634906a . '.php';if(is_file($v6a2a431fe8b621037ea949531c28551d)) {require $v6a2a431fe8b621037ea949531c28551d;return $v99f78c54130e752954404fff0707dcbd[$v381957bb0520f53bc093859ac634906a] = true;}return $v99f78c54130e752954404fff0707dcbd[$v381957bb0520f53bc093859ac634906a] = false;}private static function getRuleType() {$v0e8133eb006c0f85ed9444ae07a60842 = umiObjectTypesCollection::getInstance();$v6301cee35ea764a1e241978f93f01069 = $v0e8133eb006c0f85ed9444ae07a60842->getBaseType('emarket', 'discount_rule_type');if(!$v6301cee35ea764a1e241978f93f01069) {throw new coreException("Required data type (emarket::discount_rule_type) not found");}return $v0e8133eb006c0f85ed9444ae07a60842->getType($v6301cee35ea764a1e241978f93f01069);}private static function getCodeName($v6506e79376c349f614e2fe6b153623aa) {static $v0fea6a13c52b4d4725368f24b045ca84 = Array();if(isset($v0fea6a13c52b4d4725368f24b045ca84[$v6506e79376c349f614e2fe6b153623aa])) {return $v0fea6a13c52b4d4725368f24b045ca84[$v6506e79376c349f614e2fe6b153623aa];}$v5891da2d64975cae48d175d1e001f5da = umiObjectsCollection::getInstance();$v8cdfd1cfa3c104c26b00256bc7f5d7b8 = $v5891da2d64975cae48d175d1e001f5da->getObject($v6506e79376c349f614e2fe6b153623aa);$v0fea6a13c52b4d4725368f24b045ca84[$v6506e79376c349f614e2fe6b153623aa] = ($v8cdfd1cfa3c104c26b00256bc7f5d7b8 instanceof umiObject) ? trim($v8cdfd1cfa3c104c26b00256bc7f5d7b8->rule_codename) : false;return $v0fea6a13c52b4d4725368f24b045ca84[$v6506e79376c349f614e2fe6b153623aa];}};interface orderDiscountRule {public function validateOrder(order $v70a17ffa722a3985b86d30b034ad06d7);};interface itemDiscountRule {public function validateItem(iUmiHierarchyElement $v8e2dcfd7e7e24b1ca76c1193f645902b);}?>