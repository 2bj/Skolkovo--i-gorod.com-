<?php
 error_reporting(~E_ALL);ini_set("display_errors", 0);define("UMI_AUTHOTHUMBS_PATH", "./images/cms/autothumbs");ini_set('include_path', str_replace("\\", "/", dirname(__FILE__)) . '/');$vc9d66bfb4a3148b6c86d15f1c357f355 = isset($_GET['img']) ? trim($_GET['img']) : "";$vc9d66bfb4a3148b6c86d15f1c357f355 = str_replace("\\", "/", $vc9d66bfb4a3148b6c86d15f1c357f355);$vc9d66bfb4a3148b6c86d15f1c357f355 = str_replace("../", "/", $vc9d66bfb4a3148b6c86d15f1c357f355);$vc9d66bfb4a3148b6c86d15f1c357f355 = str_replace("./", "/", $vc9d66bfb4a3148b6c86d15f1c357f355);if (strlen($vc9d66bfb4a3148b6c86d15f1c357f355)) {$v52e4238853edda2ba3d5857ac296d892 = md5($vc9d66bfb4a3148b6c86d15f1c357f355);$vd82b1a409e97893d4385a82542d09f03 = UMI_AUTHOTHUMBS_PATH . "/" . $v52e4238853edda2ba3d5857ac296d892;$v8df298b76fe19090c3b33a5079648003 = explode("/", $vc9d66bfb4a3148b6c86d15f1c357f355);$ve610feeab8ed90b9def652ab59c9cec0 = array_pop($v8df298b76fe19090c3b33a5079648003);$v604ed122f37c5b504aae4f6b8b964f98 = explode(".", $ve610feeab8ed90b9def652ab59c9cec0);$ve36e2c33e6544cca6e400721e9e33ea9 = array_pop($v604ed122f37c5b504aae4f6b8b964f98);$v85786e60813eecc32d09ec7e591ef015 = implode(".", $v604ed122f37c5b504aae4f6b8b964f98);$v05a4083326f0d856fc4067e177806859 = explode("_", $v85786e60813eecc32d09ec7e591ef015);$v74553e3e5ac44909154c4565a695de96 = (int) array_pop($v05a4083326f0d856fc4067e177806859);$v8a674b2ee81262e26e23db8921455743 = (int) array_pop($v05a4083326f0d856fc4067e177806859);$v4b7dc89bb242fbe8faa47551b9d04637 = $v05a4083326f0d856fc4067e177806859;$v7597139534d75ce41308a5d0317fd806 = array_pop($v4b7dc89bb242fbe8faa47551b9d04637) === 'sl';if ($v7597139534d75ce41308a5d0317fd806) array_pop($v05a4083326f0d856fc4067e177806859);unset($v4b7dc89bb242fbe8faa47551b9d04637);$v7d062c0b2dddf541bc87df6366d391e2 = "./" . implode("/", $v8df298b76fe19090c3b33a5079648003) . "/" . implode("_", $v05a4083326f0d856fc4067e177806859) . "." . $ve36e2c33e6544cca6e400721e9e33ea9;if(file_exists($v7d062c0b2dddf541bc87df6366d391e2)) {if (!file_exists($vd82b1a409e97893d4385a82542d09f03)) {$vd82b1a409e97893d4385a82542d09f03 = createThumbnail($v7d062c0b2dddf541bc87df6366d391e2, $v8a674b2ee81262e26e23db8921455743, $v74553e3e5ac44909154c4565a695de96, $vd82b1a409e97893d4385a82542d09f03, 90, $v7597139534d75ce41308a5d0317fd806);}else {if(filemtime($v7d062c0b2dddf541bc87df6366d391e2) > filemtime($vd82b1a409e97893d4385a82542d09f03)) {$vd82b1a409e97893d4385a82542d09f03 = createThumbnail($v7d062c0b2dddf541bc87df6366d391e2, $v8a674b2ee81262e26e23db8921455743, $v74553e3e5ac44909154c4565a695de96, $vd82b1a409e97893d4385a82542d09f03, 90, $v7597139534d75ce41308a5d0317fd806, true);}}}if (file_exists($vd82b1a409e97893d4385a82542d09f03)) {list (,,$ve61de70ea07be383f09ed15445ea2baf) = getimagesize($v7d062c0b2dddf541bc87df6366d391e2);$ve61de70ea07be383f09ed15445ea2baf = (int) $ve61de70ea07be383f09ed15445ea2baf;$v9299da2529c98fccce0e32b476ba3266 = array (    1=>"gif",    2=>"jpg",    3=>"png",    6=>"bmp",    15=>"wbmp",    16=>"xbmp"   );if (isset($v9299da2529c98fccce0e32b476ba3266[$ve61de70ea07be383f09ed15445ea2baf])) {$v0666f0acdeed38d4cd9084ade1739498 = fopen($vd82b1a409e97893d4385a82542d09f03, 'rb');header("Content-Type: image/" . $v9299da2529c98fccce0e32b476ba3266[$ve61de70ea07be383f09ed15445ea2baf]);header("Content-Length: " . filesize($vd82b1a409e97893d4385a82542d09f03));fpassthru($v0666f0acdeed38d4cd9084ade1739498);exit();}}header('Status: 404 Not Found', true, 404);header('HTTP/1.0 404 Not Found', true, 404);}function createThumbnail($vc9d66bfb4a3148b6c86d15f1c357f355, $v27db346633b0e2d767950d1bd094acb2 = 0, $v221f8f22ae36e81b0032c9f0a263780f = 0, $v138469551f9031f07a39f2ab0c5afe84="", $vee76ce364d03a9cfdfd41616ca4731f3 = 90, $v7597139534d75ce41308a5d0317fd806 = false, $v7f5d3dea596bd4f97126dc99e12a43af = false) {if (!file_exists($vc9d66bfb4a3148b6c86d15f1c357f355)) return false;$v455023b47067adcd938d2581a0dbdf20 = pathinfo($vc9d66bfb4a3148b6c86d15f1c357f355, PATHINFO_BASENAME);$vdd3d03de4e016ecdd03c280fe46c86a3 = strtolower(pathinfo($vc9d66bfb4a3148b6c86d15f1c357f355, PATHINFO_EXTENSION));$v6ad9da766f68c8a186c7128f54dc2fe7 = @getimagesize($vc9d66bfb4a3148b6c86d15f1c357f355);$vc8bb55b05b187dc28cece68c0c35a4a2 = (int) $v6ad9da766f68c8a186c7128f54dc2fe7[0];$vdf49cedd6d54eea01e0596962fc7a3b4 = (int) $v6ad9da766f68c8a186c7128f54dc2fe7[1];$ve75e650b9f053a5b270c4219b18380ae = $v7597139534d75ce41308a5d0317fd806 && $v27db346633b0e2d767950d1bd094acb2 > 0 && $v221f8f22ae36e81b0032c9f0a263780f > 0 && ($v27db346633b0e2d767950d1bd094acb2 != $vc8bb55b05b187dc28cece68c0c35a4a2 || $v221f8f22ae36e81b0032c9f0a263780f != $vdf49cedd6d54eea01e0596962fc7a3b4);$v5b6f7cb7216a0e5c44139a56b9ab1d2f = false;if (!strlen($v138469551f9031f07a39f2ab0c5afe84)) {$ve53650b777f5e0c3b9bfdc19dea7e3ce = $v455023b47067adcd938d2581a0dbdf20."_".$v27db346633b0e2d767950d1bd094acb2."_".$v221f8f22ae36e81b0032c9f0a263780f.".".$vdd3d03de4e016ecdd03c280fe46c86a3;$v138469551f9031f07a39f2ab0c5afe84 = UMI_AUTHOTHUMBS_PATH . "/" . $ve53650b777f5e0c3b9bfdc19dea7e3ce;}if (!$v7f5d3dea596bd4f97126dc99e12a43af && file_exists($v138469551f9031f07a39f2ab0c5afe84)) return $v138469551f9031f07a39f2ab0c5afe84;if ($v27db346633b0e2d767950d1bd094acb2 > 0 || $v221f8f22ae36e81b0032c9f0a263780f > 0) {if (!$v221f8f22ae36e81b0032c9f0a263780f) $v221f8f22ae36e81b0032c9f0a263780f = (int) round($vdf49cedd6d54eea01e0596962fc7a3b4 * ($v27db346633b0e2d767950d1bd094acb2 / $vc8bb55b05b187dc28cece68c0c35a4a2));if (!$v27db346633b0e2d767950d1bd094acb2) $v27db346633b0e2d767950d1bd094acb2 = (int) round($vc8bb55b05b187dc28cece68c0c35a4a2 * ($v221f8f22ae36e81b0032c9f0a263780f / $vdf49cedd6d54eea01e0596962fc7a3b4));$v1a18954f28aa296f992536ff1cd8125c = imagecreatetruecolor($v27db346633b0e2d767950d1bd094acb2, $v221f8f22ae36e81b0032c9f0a263780f);$vde6403c41549334bb72244a31e9edf52 = imagecolorallocate($v1a18954f28aa296f992536ff1cd8125c, 255, 255, 255);imagefill($v1a18954f28aa296f992536ff1cd8125c, 0, 0, $vde6403c41549334bb72244a31e9edf52);list (,,$ve61de70ea07be383f09ed15445ea2baf) = getimagesize ($vc9d66bfb4a3148b6c86d15f1c357f355);$ve61de70ea07be383f09ed15445ea2baf = (int) $ve61de70ea07be383f09ed15445ea2baf;switch ($ve61de70ea07be383f09ed15445ea2baf) {case 1 : {$v2dd0ac492384c4006673652fc20065bd = imagecreatefromgif($vc9d66bfb4a3148b6c86d15f1c357f355);imagecolortransparent($v1a18954f28aa296f992536ff1cd8125c, $vde6403c41549334bb72244a31e9edf52);imagealphablending($v2dd0ac492384c4006673652fc20065bd, true);imagealphablending($v1a18954f28aa296f992536ff1cd8125c, true);break;}case 2 : {$v2dd0ac492384c4006673652fc20065bd = imagecreatefromjpeg($vc9d66bfb4a3148b6c86d15f1c357f355);break;}case 3 : {$v2dd0ac492384c4006673652fc20065bd = imagecreatefrompng($vc9d66bfb4a3148b6c86d15f1c357f355);imagecolortransparent($v1a18954f28aa296f992536ff1cd8125c, $vde6403c41549334bb72244a31e9edf52);imagealphablending($v2dd0ac492384c4006673652fc20065bd, true);imagealphablending($v1a18954f28aa296f992536ff1cd8125c, true);break;}case 6 : {return false;break;}case 15 : {$v2dd0ac492384c4006673652fc20065bd = imagecreatefromwbmp ($vc9d66bfb4a3148b6c86d15f1c357f355);break;}case 16 : {$v2dd0ac492384c4006673652fc20065bd = imagecreatefromxbm ($vc9d66bfb4a3148b6c86d15f1c357f355);break;}}if ($ve75e650b9f053a5b270c4219b18380ae) {if ($vc8bb55b05b187dc28cece68c0c35a4a2 < $v27db346633b0e2d767950d1bd094acb2 && $vdf49cedd6d54eea01e0596962fc7a3b4 < $v221f8f22ae36e81b0032c9f0a263780f) {$v762d353c23ef843c2f91e2e2d3ca3e20 = (int) round(($v221f8f22ae36e81b0032c9f0a263780f - $vdf49cedd6d54eea01e0596962fc7a3b4) / 2);$vbcd06201d412dfebb166e427a2609ee5 = (int) round(($v27db346633b0e2d767950d1bd094acb2 - $vc8bb55b05b187dc28cece68c0c35a4a2) / 2);imagecopyresampled($v1a18954f28aa296f992536ff1cd8125c, $v2dd0ac492384c4006673652fc20065bd, $vbcd06201d412dfebb166e427a2609ee5, $v762d353c23ef843c2f91e2e2d3ca3e20, 0, 0, $vc8bb55b05b187dc28cece68c0c35a4a2, $vdf49cedd6d54eea01e0596962fc7a3b4, $vc8bb55b05b187dc28cece68c0c35a4a2, $vdf49cedd6d54eea01e0596962fc7a3b4);}elseif ($vdf49cedd6d54eea01e0596962fc7a3b4 < $vc8bb55b05b187dc28cece68c0c35a4a2) {$va815f1e718fcd3fda9af5f562763634e = (int) round($vdf49cedd6d54eea01e0596962fc7a3b4 * ($v27db346633b0e2d767950d1bd094acb2 / $vc8bb55b05b187dc28cece68c0c35a4a2));$v762d353c23ef843c2f91e2e2d3ca3e20 = (int) round(($v221f8f22ae36e81b0032c9f0a263780f - $va815f1e718fcd3fda9af5f562763634e) / 2);imagecopyresampled($v1a18954f28aa296f992536ff1cd8125c, $v2dd0ac492384c4006673652fc20065bd, 0, $v762d353c23ef843c2f91e2e2d3ca3e20, 0, 0, $v27db346633b0e2d767950d1bd094acb2, $va815f1e718fcd3fda9af5f562763634e, $vc8bb55b05b187dc28cece68c0c35a4a2, $vdf49cedd6d54eea01e0596962fc7a3b4);}else {$v3ca55207c8dfd52cb6ca3a2d01b5f3b8 = (int) round($vc8bb55b05b187dc28cece68c0c35a4a2 * ($v221f8f22ae36e81b0032c9f0a263780f / $vdf49cedd6d54eea01e0596962fc7a3b4));$vbcd06201d412dfebb166e427a2609ee5 = (int) round(($v27db346633b0e2d767950d1bd094acb2 - $v3ca55207c8dfd52cb6ca3a2d01b5f3b8) / 2);imagecopyresampled($v1a18954f28aa296f992536ff1cd8125c, $v2dd0ac492384c4006673652fc20065bd, $vbcd06201d412dfebb166e427a2609ee5, 0, 0, 0, $v3ca55207c8dfd52cb6ca3a2d01b5f3b8, $v221f8f22ae36e81b0032c9f0a263780f, $vc8bb55b05b187dc28cece68c0c35a4a2, $vdf49cedd6d54eea01e0596962fc7a3b4);}}else {imagecopyresampled($v1a18954f28aa296f992536ff1cd8125c, $v2dd0ac492384c4006673652fc20065bd, 0, 0, 0, 0, $v27db346633b0e2d767950d1bd094acb2, $v221f8f22ae36e81b0032c9f0a263780f, $vc8bb55b05b187dc28cece68c0c35a4a2, $vdf49cedd6d54eea01e0596962fc7a3b4);}if (strtolower(pathinfo($v138469551f9031f07a39f2ab0c5afe84, PATHINFO_EXTENSION)) == "gif") {$v5b6f7cb7216a0e5c44139a56b9ab1d2f = imagegif($v1a18954f28aa296f992536ff1cd8125c, $v138469551f9031f07a39f2ab0c5afe84);}elseif (strtolower(pathinfo($v138469551f9031f07a39f2ab0c5afe84, PATHINFO_EXTENSION)) == "png") {$v5b6f7cb7216a0e5c44139a56b9ab1d2f = imagepng($v1a18954f28aa296f992536ff1cd8125c, $v138469551f9031f07a39f2ab0c5afe84);}else {$v5b6f7cb7216a0e5c44139a56b9ab1d2f = imagejpeg($v1a18954f28aa296f992536ff1cd8125c, $v138469551f9031f07a39f2ab0c5afe84, $vee76ce364d03a9cfdfd41616ca4731f3);}}else {$v5b6f7cb7216a0e5c44139a56b9ab1d2f = copy($vc9d66bfb4a3148b6c86d15f1c357f355, $v138469551f9031f07a39f2ab0c5afe84);}return $v138469551f9031f07a39f2ab0c5afe84;}?>