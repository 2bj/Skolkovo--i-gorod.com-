<?php
 class upageStream extends umiBaseStream {protected $scheme = "upage", $prop_name = NULL;public function stream_open($vd6fe1d0be6347b8ef2427fa629c04485, $v15d61712450a686a7f365adf4fef581f, $v93da65a9fd0004d9477aeac024e08e15, $v6385a5865e0b96f09e4142ab2d9e3736) {$vb99eb979e6f6efabc396f777b503f7e7 = cacheFrontend::getInstance();if($v8d777f385d3dfec8815d20f7496026dc = $vb99eb979e6f6efabc396f777b503f7e7->loadData($vd6fe1d0be6347b8ef2427fa629c04485)) {return $this->setData($v8d777f385d3dfec8815d20f7496026dc);}$v7057e8409c7c531a1a6e9ac3df4ed549 = $this->parsePath($vd6fe1d0be6347b8ef2427fa629c04485);$v8e2dcfd7e7e24b1ca76c1193f645902b = umiHierarchy::getInstance()->getElement($v7057e8409c7c531a1a6e9ac3df4ed549);if($v8e2dcfd7e7e24b1ca76c1193f645902b instanceof iUmiHierarchyElement) {if(is_null($this->prop_name)) {$v164d124aa1de584618cde85506eb8cd4 = translatorWrapper::$showEmptyFields;if(!is_null( getArrayKey($this->params, 'show-empty') )) {translatorWrapper::$showEmptyFields = true;}$v8d777f385d3dfec8815d20f7496026dc = $this->translateToXml($v8e2dcfd7e7e24b1ca76c1193f645902b);translatorWrapper::$showEmptyFields = $v164d124aa1de584618cde85506eb8cd4;}else {$v23a5b8ab834cb5140fa6665622eb6417 = $v8e2dcfd7e7e24b1ca76c1193f645902b->getObject()->getPropByName($this->prop_name);if($v23a5b8ab834cb5140fa6665622eb6417 instanceof iUmiObjectProperty) {$v8d777f385d3dfec8815d20f7496026dc = $this->translateToXml($v8e2dcfd7e7e24b1ca76c1193f645902b, $v23a5b8ab834cb5140fa6665622eb6417);}else {return $this->setDataError('not-found');}}if($this->expire) $vb99eb979e6f6efabc396f777b503f7e7->saveData($vd6fe1d0be6347b8ef2427fa629c04485, $v8d777f385d3dfec8815d20f7496026dc, $this->expire);return $this->setData($v8d777f385d3dfec8815d20f7496026dc);}else {return $this->setDataError('not-found');}}protected function parsePath($vd6fe1d0be6347b8ef2427fa629c04485) {$vd6fe1d0be6347b8ef2427fa629c04485 = parent::parsePath($vd6fe1d0be6347b8ef2427fa629c04485);$vd6fe1d0be6347b8ef2427fa629c04485 = trim($vd6fe1d0be6347b8ef2427fa629c04485, "( )");if(($v5e0bdcbddccca4d66d74ba8c1cee1a68 = strrpos($vd6fe1d0be6347b8ef2427fa629c04485, ".")) !== false && strpos($vd6fe1d0be6347b8ef2427fa629c04485, "/", $v5e0bdcbddccca4d66d74ba8c1cee1a68) === false) {$vdfc394bd05a4b48161c790034af522a8 = substr($vd6fe1d0be6347b8ef2427fa629c04485, $v5e0bdcbddccca4d66d74ba8c1cee1a68 + 1);$vd6fe1d0be6347b8ef2427fa629c04485 = substr($vd6fe1d0be6347b8ef2427fa629c04485, 0, $v5e0bdcbddccca4d66d74ba8c1cee1a68);$this->prop_name = $vdfc394bd05a4b48161c790034af522a8;}else {$this->prop_name = NULL;}if(is_numeric($vd6fe1d0be6347b8ef2427fa629c04485)) {if( (string) (int) $vd6fe1d0be6347b8ef2427fa629c04485 == $vd6fe1d0be6347b8ef2427fa629c04485) {return (int) $vd6fe1d0be6347b8ef2427fa629c04485;}}return umiHierarchy::getInstance()->getIdByPath($vd6fe1d0be6347b8ef2427fa629c04485);}protected function translateToXml(iUmiHierarchyElement $v8e2dcfd7e7e24b1ca76c1193f645902b, $v1a8db4c996d8ed8289da5f957879ab94 = NULL) {$v10573b873d2fa5a365d558a45e328e47 = is_null($v1a8db4c996d8ed8289da5f957879ab94) ? array("full:page" => $v8e2dcfd7e7e24b1ca76c1193f645902b) : array('property' => $v1a8db4c996d8ed8289da5f957879ab94);return parent::translateToXml($v10573b873d2fa5a365d558a45e328e47);}};?>