<?php
 class jsonTranslator {protected $result = "", $level = 1;public function translateToJson($v8d777f385d3dfec8815d20f7496026dc) {$this->result = "{\n";$this->chooseTranslator($v8d777f385d3dfec8815d20f7496026dc);$this->result .= "\n}";if($v4f0ca1897ed511726eab853458a3a2df = getRequest('json-callback')) {$this->result = $v4f0ca1897ed511726eab853458a3a2df . "(" . $this->result . ");\n";}else $this->result .= "\n";return $this->result;}protected function chooseTranslator($v8d777f385d3dfec8815d20f7496026dc, $ve30d41e6c131a13252ce15184b24d99b = false) {switch(gettype($v8d777f385d3dfec8815d20f7496026dc)) {case 'array': {$this->translateArray($v8d777f385d3dfec8815d20f7496026dc);break;}case 'object': {$v7c27535f88bae9519ceb14a8983c57ff = translatorWrapper::get($v8d777f385d3dfec8815d20f7496026dc);$v7c27535f88bae9519ceb14a8983c57ff->isFull = $ve30d41e6c131a13252ce15184b24d99b;$this->result .= "{\n";$this->level++;$this->chooseTranslator($v7c27535f88bae9519ceb14a8983c57ff->translate($v8d777f385d3dfec8815d20f7496026dc));$this->level--;$v5db8dca30c2d7f0c2bc225ae852c5053 = str_repeat("\t", $this->level);$this->result .= "\n" . $v5db8dca30c2d7f0c2bc225ae852c5053 . "}";break;}default: {$this->translateBasic($v8d777f385d3dfec8815d20f7496026dc);}}}protected function translateArray($v8d777f385d3dfec8815d20f7496026dc) {$v2fa47f7c65fec19cc163b195725e3844 = sizeof($v8d777f385d3dfec8815d20f7496026dc);$v865c0c0b4ab0e063e5caa3387c1a8741 = 0;foreach($v8d777f385d3dfec8815d20f7496026dc as $v3c6e0b8a9c15224a8228b9a98ca1531d => $v2063c1608d6e0baf80249c42e2be5804) {$v518d8dec3947df909fe6e4c9940f98a6 = $this->getSubKey($v3c6e0b8a9c15224a8228b9a98ca1531d);$vde0366a04f7345d0b277b28f9e86f357 = $this->getRealKey($v3c6e0b8a9c15224a8228b9a98ca1531d);$v7694f4a66316e53c8cdd9d9954bd611d = (++$v865c0c0b4ab0e063e5caa3387c1a8741 < $v2fa47f7c65fec19cc163b195725e3844) ? ",\n" : "";$v5db8dca30c2d7f0c2bc225ae852c5053 = str_repeat("\t", $this->level);if(is_array($v2063c1608d6e0baf80249c42e2be5804) && sizeof($v2063c1608d6e0baf80249c42e2be5804) == 1) {$v3c6e0b8a9c15224a8228b9a98ca1531d = key($v2063c1608d6e0baf80249c42e2be5804);if(substr($v3c6e0b8a9c15224a8228b9a98ca1531d, 0, 5) == 'node:') {$v2063c1608d6e0baf80249c42e2be5804 = $v2063c1608d6e0baf80249c42e2be5804[$v3c6e0b8a9c15224a8228b9a98ca1531d];}}switch($v518d8dec3947df909fe6e4c9940f98a6) {case 'void': {if($v865c0c0b4ab0e063e5caa3387c1a8741 == $v2fa47f7c65fec19cc163b195725e3844 && substr($this->result, -2, 2) == ",\n") {$this->result = substr($this->result, 0, strlen($this->result) - 2);}continue 2;}case 'xlink':      $v2063c1608d6e0baf80249c42e2be5804 = '/' . str_replace('://', '/', $v2063c1608d6e0baf80249c42e2be5804) . '.json';default: {if(is_array($v2063c1608d6e0baf80249c42e2be5804)) {if(sizeof($v2063c1608d6e0baf80249c42e2be5804) == 0) continue;$this->result .= "{$v5db8dca30c2d7f0c2bc225ae852c5053}'{$vde0366a04f7345d0b277b28f9e86f357}': {\n";++$this->level;$this->chooseTranslator($v2063c1608d6e0baf80249c42e2be5804);$this->result .= "\n{$v5db8dca30c2d7f0c2bc225ae852c5053}}{$v7694f4a66316e53c8cdd9d9954bd611d}\n";--$this->level;}else {$this->result .= "{$v5db8dca30c2d7f0c2bc225ae852c5053}'{$vde0366a04f7345d0b277b28f9e86f357}': ";$this->chooseTranslator($v2063c1608d6e0baf80249c42e2be5804, ($v518d8dec3947df909fe6e4c9940f98a6 == 'full'));$this->result .= "{$v7694f4a66316e53c8cdd9d9954bd611d}";}}}}}protected function translateBasic($v8d777f385d3dfec8815d20f7496026dc) {if(is_numeric($v8d777f385d3dfec8815d20f7496026dc))    $this->result .= (int) $v8d777f385d3dfec8815d20f7496026dc;else    $this->result .= "'" . umiObjectProperty::filterInputString($v8d777f385d3dfec8815d20f7496026dc) . "'";}public function getRealKey($v3c6e0b8a9c15224a8228b9a98ca1531d) {if($v5e0bdcbddccca4d66d74ba8c1cee1a68 = strpos($v3c6e0b8a9c15224a8228b9a98ca1531d, ":")) {++$v5e0bdcbddccca4d66d74ba8c1cee1a68;}else {$v5e0bdcbddccca4d66d74ba8c1cee1a68 = 0;}return substr($v3c6e0b8a9c15224a8228b9a98ca1531d, $v5e0bdcbddccca4d66d74ba8c1cee1a68);}public function getSubKey($v3c6e0b8a9c15224a8228b9a98ca1531d) {if($v5e0bdcbddccca4d66d74ba8c1cee1a68 = strpos($v3c6e0b8a9c15224a8228b9a98ca1531d, ":")) {return substr($v3c6e0b8a9c15224a8228b9a98ca1531d, 0, $v5e0bdcbddccca4d66d74ba8c1cee1a68);}else {return false;}}};?>